{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","2","Database","firebase","CharterFirebase","initializeApp","db","database","auth","localhost","noScreenshots","prometheus","Prometheus","init","callback","fallback","called","onAuthStateChanged","user","logon","uid","name","displayName","email","image","photoURL","login","method","provider","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","then","result","credential","accessToken","providerId","providerData","console","error","catch","getPrometheus","getCurrentUser","currentUser","saveFeedback","tid","feedback","ref","push","timestamp","Date","now","getUser","Promise","resolve","reject","once","snap","val","getTeam","team","keys","getTeamEdits","edits","onTeamChange","members","on","promises","memberMap","p","all","users","forEach","member","idx","updateTeamName","field","set","updateQuestion","question","updateExpectations","list","submitUpdate","update","save","type","addLink","data","url","added","updateLink","key","p1","p2","removeLink","removed","remove","updateRole","role","responsibility","joinTeam","joinCode","success","addMember","done","status","joined","getAllTeams","orderByChild","startAt","endAt","nodes","createNewTeam","teamName","res","pathList","path","ct","getInstructorClasses","map","cid","classData","teams","resolveTeam","rejectTeam","_loop","teamList","tidx","meta","addTeamToClass","classCode","access","addInstructorToClass","isAlreadyInstructor","getInstructorsByClass","3","mainCharterTab","inviteBtn","addEventListener","origin","window","location","pathname","link","vex","dialog","prompt","message","classCodeBtn","alert","reportErrorToUser","isMentor","target","innerText","newName","saveQuest","classList","add","teamQuest","saveExpect","teamExpect","split","popped","pop","saveUpdate","myUpdate","promptLinkData","addMeeting","renderTeamCharter","mainProgressTab","renderProgressUpdates","updateMap","updates","updateList","subMap","upid","node","_uid","profile","sort","b","progressUpdates","innerHTML","author","tile","views","getProgressUpdate","appendChild","noUpdatesWarning","document","createElement","teamMembers","fillText","expectations","reduce","total","teamUpdates","getRoleTile","editable","roleSave","getElementById","roleInput","respInput","resp","teamLinks","linkMap","links","lid","getLinkItem","dataset","_loop2","noLinks","editLinkBtns","getElementsByClassName","for","_data","vexWin","unsafeMessage","buttons","$","extend","YES","text","NO","click","close","nameInput","urlInput","_loop3","checkUserPermission","log","body","editableNodes","querySelectorAll","setAttribute","params","confirm","yes","MENTOR_MODE","err","className","spans","fillSrc","src","onTabClick","tabGroup","tab","tabid","showTab","TEAM_ID","j","otherTabs","style","display","initWithTeamCode","_callback","cancels","_config","_database","_views","qs","join","tokens","re","exec","decodeURIComponent","getQueryParams","search","mentor","Views","feedbackBtn","tabList","k","checkedPermissions","./config","./database","./views","4","getRoleAndUpdateTile","model","posted","dateFormat","moment","format","diff","daysSinceLastUpdate","duration","asDays","tagClass","html","div","editSection","icon","indexOf","getTeamTile","getClassTile","classLink","filter","getUserTile","subtitle","getClassTeamTable","lastAccess","fromNow","table"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar config = {\n\tapiKey: \"AIzaSyBWk9EWPkkvqiruG8aYnHV0dBPg1z3EtN4\",\n\tauthDomain: \"charter-ecb07.firebaseapp.com\",\n\tdatabaseURL: \"https://charter-ecb07.firebaseio.com\",\n\tprojectId: \"charter-ecb07\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"134239305153\"\n};\nexports.config = config;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Database = function Database(firebase, config) {\n\n\tvar CharterFirebase = firebase.initializeApp(config, 'Charter Database');\n\tvar db = CharterFirebase.database();\n\tvar auth = CharterFirebase.auth();\n\tconfig.localhost = true;\n\tconfig.noScreenshots = true;\n\tvar prometheus = Prometheus(config, CharterFirebase);\n\n\tvar database = {\n\n\t\tinit: function init(callback, fallback) {\n\t\t\tvar called = false;\n\t\t\tauth.onAuthStateChanged(function (user) {\n\t\t\t\tif (user) {\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\t\tname: user.displayName,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\t\tuid: user.uid\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tcallback(user);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tfallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(callback, method) {\n\t\t\t//auth.signOut().then((done) => {\n\t\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t\t\tif (method === 'facebook') {\n\t\t\t\tprovider = new firebase.auth.FacebookAuthProvider();\n\t\t\t}\n\t\t\tauth.signInWithPopup(provider).then(function (result) {\n\t\t\t\t//console.log(result);\n\t\t\t\tvar token = result.credential.accessToken;\n\t\t\t\tvar user = result.user;\n\t\t\t\tvar providerId = 'Unknown Provider';\n\t\t\t\ttry {\n\t\t\t\t\tproviderId = user.providerData[0].providerId;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\t//\n\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\tname: user.displayName,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tprovider: providerId\n\t\t\t\t});\n\t\t\t\t//\n\t\t\t\tcallback(user);\n\t\t\t}).catch(function (error) {\n\t\t\t\t/*let errorCode = error.code;\n    let errorMessage = error.message;\n    let email = error.email;\n    let credential = error.credential;*/\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t\t/*}).catch((err) => {\n   \tconsole.error(err);\n   });*/\n\t\t},\n\n\t\tgetPrometheus: function getPrometheus() {\n\t\t\treturn prometheus;\n\t\t},\n\n\t\tgetCurrentUser: function getCurrentUser() {\n\t\t\treturn auth.currentUser || {};\n\t\t},\n\n\t\tsaveFeedback: function saveFeedback(tid, uid, feedback) {\n\t\t\treturn db.ref('feedback').push({\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid,\n\t\t\t\tfeedback: feedback,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tgetUser: function getUser(uid) {\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('prometheus/users/' + uid + '/profile').once('value', function (snap) {\n\t\t\t\t\tvar user = snap.val();\n\t\t\t\t\tresolve(user);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeam: function getTeam(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('teams/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar team = snap.val() || {};\n\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\tteam.tid = tid;\n\t\t\t\t\t\tresolve(team);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeamEdits: function getTeamEdits(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('edits/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar edits = snap.val() || {};\n\t\t\t\t\tresolve(edits);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamChange: function onTeamChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tvar members = {};\n\t\t\tdb.ref('teams/' + tid).on('value', function (snap) {\n\t\t\t\tvar promises = [];\n\t\t\t\tvar team = snap.val() || {};\n\t\t\t\tvar memberMap = team.members || {};\n\t\t\t\tfor (var uid in memberMap) {\n\t\t\t\t\tif (!(uid in members)) {\n\t\t\t\t\t\tvar p = database.getUser(uid);\n\t\t\t\t\t\tp.uid = uid;\n\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (promises.length > 0) {\n\t\t\t\t\tPromise.all(promises).then(function (users) {\n\t\t\t\t\t\tusers.forEach(function (member, idx) {\n\t\t\t\t\t\t\tvar uid = promises[idx].uid;\n\t\t\t\t\t\t\tmembers[uid] = member;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcallback(team, members);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallback(team, members);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdateTeamName: function updateTeamName(tid, uid, name) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'name',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: name,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/name').set(name);\n\t\t},\n\n\t\tupdateQuestion: function updateQuestion(tid, uid, question) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'question',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: question,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/question').set(question);\n\t\t},\n\n\t\tupdateExpectations: function updateExpectations(tid, uid, list) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'expectations',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: list,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/expectations').set(list);\n\t\t},\n\n\t\tsubmitUpdate: function submitUpdate(tid, uid, update) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'SUBMIT_UPDATE',\n\t\t\t\ttid: tid,\n\t\t\t\tupdate: update\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/updates/' + uid).push({\n\t\t\t\tupdate: update,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\taddLink: function addLink(tid, uid, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links').push({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tuid: uid,\n\t\t\t\tadded: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tupdateLink: function updateLink(tid, uid, key, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdata.key = key;\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/links/' + key + '/name').set(data.name);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/links/' + key + '/url').set(data.url);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\tremoveLink: function removeLink(tid, uid, key) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoved: true,\n\t\t\t\t\tkey: key\n\t\t\t\t},\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links/' + key).remove();\n\t\t},\n\n\t\tupdateRole: function updateRole(tid, uid, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE',\n\t\t\t\ttid: tid,\n\t\t\t\trole: data.role,\n\t\t\t\tresponsibility: data.responsibility\n\t\t\t});\n\t\t\t//\n\t\t\tdata.uid = uid; // If someone is editing their own role\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/members/' + uid + '/role').set(data.role);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/members/' + uid + '/responsibility').set(data.responsibility);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\tjoinTeam: function joinTeam(tid, uid, joinCode) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\t\t\tif (joinCode === team.joinCode || !team.joinCode) {\n\t\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tsuccess: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tsuccess: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddMember: function addMember(tid, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).set({\n\t\t\t\tstatus: 'member',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true\n\t\t\t});\n\t\t},\n\n\t\tgetAllTeams: function getAllTeams(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('teams');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/member').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tresolve(nodes);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tcreateNewTeam: function createNewTeam(uid, joinCode, teamName) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('teams').push({\n\t\t\t\t\tname: teamName || 'New Team Charter',\n\t\t\t\t\tjoinCode: joinCode\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tvar pathList = res.path.ct;\n\t\t\t\t\tvar tid = pathList[pathList.length - 1];\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\ttype: 'CREATE_TEAM',\n\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\tname: teamName\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\ttid: tid\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorClasses: function getInstructorClasses(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/access').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop = function _loop(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddTeamToClass: function addTeamToClass(tid, uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\ttype: 'ADD_TEAM_TO_CLASS',\n\t\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//\n\t\t\t\t\t\tdb.ref('classes/' + code + '/teams/' + tid).set({\n\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\tresolve(classData);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\taddInstructorToClass: function addInstructorToClass(uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\tvar memberMap = classData.members || {};\n\t\t\t\t\t\tif (uid in memberMap) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tisAlreadyInstructor: true,\n\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\t\ttype: 'ADD_INSTRUCTOR_TO_CLASS',\n\t\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tdb.ref('classes/' + code + '/members/' + uid).set({\n\t\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\t\ttype: 'instructor',\n\t\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\tisAlreadyInstructor: false,\n\t\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorsByClass: function getInstructorsByClass(classCode) {}\n\n\t};\n\n\treturn database;\n};\n\nexports.Database = Database;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _config = require('./config');\n\nvar _database = require('./database');\n\nvar _views = require('./views');\n\nvar database = (0, _database.Database)(firebase, _config.config);\n\nvar params = getQueryParams(document.location.search);\nvar TEAM_ID = params.team;\nvar MENTOR_MODE = params.mentor ? true : false;\n\nvar views = (0, _views.Views)();\n\nvar loginBtn = document.getElementById('login');\nvar feedbackBtn = document.getElementById('feedback');\n\nvar inviteBtn = document.getElementById('invite');\nvar classCodeBtn = document.getElementById('class-code');\nvar tabList = document.getElementsByClassName('charter-tab');\n\nvar teamName = document.getElementById('team-name');\nvar teamQuest = document.getElementById('team-question');\nvar saveQuest = document.getElementById('save-question');\nvar teamExpect = document.getElementById('team-expectations');\nvar saveExpect = document.getElementById('save-expectations');\nvar myUpdate = document.getElementById('my-update');\nvar saveUpdate = document.getElementById('save-update');\nvar teamUpdates = document.getElementById('team-updates');\nvar addLink = document.getElementById('add-link');\nvar teamLinks = document.getElementById('team-links');\nvar addMeeting = document.getElementById('add-meeting');\n\nvar progressUpdates = document.getElementById('progress-updates');\n//let charterUpdates = document.getElementById('charter-updates');\n\n/*loginBtn.addEventListener('click', (e) => {\n\tdatabase.login(main);\n});*/\n\ndatabase.init(main, function () {\n\t// No user signed in\n\twindow.location = window.location.origin + '/login.html' + document.location.search;\n});\n\nfunction main(user) {\n\n\tinitWithTeamCode(function (tid) {\n\n\t\tconsole.log('What makes working at Omnipointment better than, say, Google?');\n\n\t\tfillText('fill-user-name', user.displayName);\n\t\tfillSrc('fill-user-image', user.photoURL);\n\n\t\tvar _loop = function _loop(k) {\n\t\t\ttabList[k].addEventListener('click', function (e) {\n\t\t\t\tonTabClick(tabList, tabList[k]);\n\t\t\t});\n\t\t};\n\n\t\tfor (var k = 0; k < tabList.length; k++) {\n\t\t\t_loop(k);\n\t\t}\n\n\t\t// Show the Charter tab when the page loads\n\t\tonTabClick(tabList, document.querySelectorAll('.charter-tab[data-tab=\"container-charter\"]')[0]);\n\n\t\tvar prometheus = database.getPrometheus();\n\n\t\tfeedbackBtn.addEventListener('click', function (e) {\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'What feedback do you have to share with us?',\n\t\t\t\tcallback: function callback(feedback) {\n\t\t\t\t\tif (feedback) {\n\t\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\t\tdatabase.saveFeedback(tid, uid, feedback).then(function (done) {\n\t\t\t\t\t\t\tvex.dialog.alert('Thank you for your feedback, it really helps us a lot!');\n\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tvar checkedPermissions = false;\n\t\tdatabase.onTeamChange(tid, function (team, members) {\n\t\t\tif (!checkedPermissions) {\n\t\t\t\tcheckUserPermission(tid, team, members);\n\t\t\t\tcheckedPermissions = true;\n\t\t\t}\n\t\t}, reportErrorToUser);\n\n\t\tdatabase.getPrometheus().save({\n\t\t\ttype: 'CHARTER_PAGE',\n\t\t\ttid: tid,\n\t\t\tmentor: isMentor()\n\t\t});\n\n\t\tmainCharterTab(user, tid);\n\t\tmainProgressTab(user, tid);\n\t});\n}\n\nfunction mainCharterTab(user, tid) {\n\n\tinviteBtn.addEventListener('click', function (e) {\n\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar pathname = window.location.pathname;\n\t\t\tvar code = team.joinCode || false;\n\t\t\tvar linkEnd = code ? '&code=' + code : '';\n\t\t\tvar link = '' + origin + pathname + '?team=' + tid + linkEnd;\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'Send this link to your teammates:',\n\t\t\t\tvalue: link,\n\t\t\t\tcallback: function callback() {}\n\t\t\t});\n\t\t});\n\t});\n\n\tclassCodeBtn.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Enter the code from your instructor (case sensitive):',\n\t\t\tcallback: function callback(code) {\n\t\t\t\tif (code) {\n\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\tdatabase.addTeamToClass(tid, uid, code).then(function (classData) {\n\t\t\t\t\t\tvex.dialog.alert({\n\t\t\t\t\t\t\tmessage: 'Successfully added your team to ' + classData.name + '!'\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tteamName.addEventListener('click', function (e) {\n\t\tif (!isMentor()) {\n\t\t\tvar name = e.target.innerText;\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'Edit your team name:',\n\t\t\t\tvalue: name,\n\t\t\t\tcallback: function callback(newName) {\n\t\t\t\t\tif (newName) {\n\t\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\t\tdatabase.updateTeamName(tid, uid, newName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tsaveQuest.addEventListener('click', function (e) {\n\t\tsaveQuest.classList.add('is-loading');\n\t\tvar uid = database.getCurrentUser().uid;\n\t\tvar question = teamQuest.innerText;\n\t\tdatabase.updateQuestion(tid, uid, question).then(function (done) {\n\t\t\tsaveQuest.classList.remove('is-loading');\n\t\t}).catch(reportErrorToUser);\n\t});\n\n\tsaveExpect.addEventListener('click', function (e) {\n\t\tsaveExpect.classList.add('is-loading');\n\t\tvar uid = database.getCurrentUser().uid;\n\t\tvar text = teamExpect.innerText;\n\t\tvar list = text.split('\\n');\n\t\tvar popped = list.pop();\n\t\tif (!popped.length < 1) {\n\t\t\tlist.push(popped);\n\t\t}\n\t\tdatabase.updateExpectations(tid, uid, list).then(function (done) {\n\t\t\tsaveExpect.classList.remove('is-loading');\n\t\t}).catch(reportErrorToUser);\n\t});\n\n\tsaveUpdate.addEventListener('click', function (e) {\n\t\tsaveUpdate.classList.add('is-loading');\n\t\tvar uid = database.getCurrentUser().uid;\n\t\tvar update = myUpdate.value;\n\t\tdatabase.submitUpdate(tid, uid, update).then(function (done) {\n\t\t\tsaveUpdate.classList.remove('is-loading');\n\t\t\tmyUpdate.value = '';\n\t\t}).catch(reportErrorToUser);\n\t});\n\n\taddLink.addEventListener('click', function (e) {\n\t\tpromptLinkData(e, tid, 'Paste the URL:');\n\t});\n\n\taddMeeting.addEventListener('click', function (e) {\n\t\t//let omniWin = window.open('https://www.omnipointment.com/meeting/create');\n\t\tpromptLinkData(e, tid, 'Paste the link to your Omnipointment:');\n\t});\n\n\tdatabase.onTeamChange(tid, function (team, members) {\n\t\tif (Object.keys(team).length > 0) {\n\t\t\trenderTeamCharter(tid, team, members);\n\t\t}\n\t}, reportErrorToUser);\n}\n\nfunction promptLinkData(e, tid, message) {\n\tvar uid = database.getCurrentUser().uid;\n\tvex.dialog.prompt({\n\t\tmessage: message,\n\t\tcallback: function callback(url) {\n\t\t\tif (url) {\n\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\tmessage: 'What is the name of this link?',\n\t\t\t\t\tcallback: function callback(name) {\n\t\t\t\t\t\tif (url && name) {\n\t\t\t\t\t\t\taddLink.classList.add('is-loading');\n\t\t\t\t\t\t\tdatabase.addLink(tid, uid, {\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\taddLink.classList.remove('is-loading');\n\t\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction mainProgressTab(user, tid) {\n\n\tdatabase.onTeamChange(tid, function (team, members) {\n\n\t\trenderProgressUpdates(tid, team, members);\n\t}, reportErrorToUser);\n}\n\nfunction renderProgressUpdates(tid, team, members) {\n\tvar updateMap = team.updates || {};\n\n\tvar updateList = [];\n\n\tfor (var uid in updateMap) {\n\t\tvar subMap = updateMap[uid];\n\t\tfor (var upid in subMap) {\n\t\t\tvar node = subMap[upid];\n\t\t\tnode.uid = uid;\n\t\t\tnode.key = upid;\n\t\t\tupdateList.push(node);\n\t\t}\n\t}\n\n\tfor (var _uid in team.members) {\n\t\tvar member = team.members[_uid];\n\t\tvar profile = members[_uid];\n\t\tupdateList.push({\n\t\t\tupdate: profile.name + ' joined the team.',\n\t\t\ttimestamp: member.joined,\n\t\t\tuid: _uid,\n\t\t\tkey: _uid + '-joined'\n\t\t});\n\t}\n\n\tupdateList.sort(function (a, b) {\n\t\treturn b.timestamp - a.timestamp;\n\t});\n\n\tprogressUpdates.innerHTML = '';\n\n\tif (updateList.length > 0) {\n\t\tupdateList.forEach(function (update) {\n\t\t\tvar author = members[update.uid];\n\t\t\tif (update.update.length > 0) {\n\t\t\t\tvar tile = views.getProgressUpdate({\n\t\t\t\t\tname: author.name,\n\t\t\t\t\trole: team.members[update.uid].role,\n\t\t\t\t\timage: author.image,\n\t\t\t\t\tupdate: update.update,\n\t\t\t\t\ttimestamp: update.timestamp\n\t\t\t\t});\n\t\t\t\tprogressUpdates.appendChild(tile);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tvar noUpdatesWarning = document.createElement('div');\n\t\tnoUpdatesWarning.innerHTML = '<div class=\"content\">\\n\\t\\t\\t<h4>No updates to show :(</h4>\\n\\t\\t</div>';\n\t\tprogressUpdates.appendChild(noUpdatesWarning);\n\t}\n}\n\nfunction renderTeamCharter(tid, team, members) {\n\n\tvar teamMembers = team.members || {};\n\n\tif (team.name) {\n\t\tfillText('fill-team-name', team.name);\n\t}\n\tif (team.question) {\n\t\tfillText('fill-team-question', team.question);\n\t}\n\n\tvar expectations = team.expectations || [];\n\tif (expectations.length > 0) {\n\t\tteamExpect.innerHTML = expectations.reduce(function (total, val) {\n\t\t\treturn total + ('<li>' + val + '</li>');\n\t\t}, '');\n\t}\n\n\t/*let allUpdates = team.updates || {};\n teamUpdates.innerHTML = '';\n for (let uid in teamMembers) {\n \tlet user = members[uid];\n \tlet updateMap = allUpdates[uid] || {};\n \tlet updateList = Object.keys(updateMap).map(upid => updateMap[upid]).sort((a, b) => {\n \t\treturn b.timestamp - a.timestamp;\n \t});\n \tlet update = updateList[0];\n \tlet message = 'No updates yet.';\n \tlet ts = teamMembers[uid].joined;\n \tif (update) {\n \t\tmessage = update.update;\n \t\tts = update.timestamp;\n \t}\n \tlet tile = views.getRoleAndUpdateTile({\n \t\tname: user.name,\n \t\trole: team.members[uid].role,\n \t\timage: user.image,\n \t\tupdate: message,\n \t\ttimestamp: ts\n \t});\n \tteamUpdates.appendChild(tile);\n }*/\n\n\tteamUpdates.innerHTML = '';\n\tfor (var uid in teamMembers) {\n\t\tvar user = members[uid];\n\t\tvar member = teamMembers[uid];\n\t\tif (member.status === 'member') {\n\t\t\tvar tile = views.getRoleTile({\n\t\t\t\tname: user.name,\n\t\t\t\trole: member.role,\n\t\t\t\timage: user.image,\n\t\t\t\tresponsibility: member.responsibility || 'What are you responsible for?',\n\t\t\t\teditable: uid === database.getCurrentUser().uid && !isMentor()\n\t\t\t});\n\t\t\tteamUpdates.appendChild(tile);\n\t\t}\n\t}\n\n\tvar roleSave = document.getElementById('my-role-save');\n\tvar roleInput = document.getElementById('my-title');\n\tvar respInput = document.getElementById('my-responsibility');\n\tif (roleSave && roleInput && respInput) {\n\t\troleSave.addEventListener('click', function (e) {\n\t\t\troleSave.classList.add('is-loading');\n\t\t\tvar role = roleInput.innerText;\n\t\t\tvar resp = respInput.innerText;\n\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\tdatabase.updateRole(tid, uid, {\n\t\t\t\trole: role,\n\t\t\t\tresponsibility: resp\n\t\t\t}).then(function (done) {\n\t\t\t\troleSave.classList.remove('is-loading');\n\t\t\t}).catch(reportErrorToUser);\n\t\t});\n\t}\n\n\tteamLinks.innerHTML = '';\n\tvar linkMap = team.links || {};\n\tif (Object.keys(linkMap).length > 0) {\n\t\tvar _loop2 = function _loop2(lid) {\n\t\t\tvar data = linkMap[lid];\n\t\t\tvar link = views.getLinkItem({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: lid\n\t\t\t});\n\t\t\tlink.dataset.key = lid;\n\t\t\tlink.addEventListener('click', function (e) {\n\t\t\t\tdatabase.getPrometheus().save({\n\t\t\t\t\t//console.log({\n\t\t\t\t\ttype: 'CLICK_TEAM_LINK',\n\t\t\t\t\tkey: lid,\n\t\t\t\t\tname: data.name,\n\t\t\t\t\turl: data.url\n\t\t\t\t});\n\t\t\t});\n\t\t\tteamLinks.appendChild(link);\n\t\t};\n\n\t\tfor (var lid in linkMap) {\n\t\t\t_loop2(lid);\n\t\t}\n\t} else {\n\t\tvar noLinks = document.createElement('div');\n\t\tnoLinks.innerHTML = '<div class=\"content\">\\n\\t\\t\\t\\t<p class=\"is-6\">No links yet.</p>\\n\\t\\t\\t</div>';\n\t\tteamLinks.appendChild(noLinks);\n\t}\n\n\tvar editLinkBtns = teamLinks.getElementsByClassName('edit-link');\n\n\tvar _loop3 = function _loop3(b) {\n\t\teditLinkBtns[b].addEventListener('click', function (e) {\n\t\t\tvar key = editLinkBtns[b].dataset.for;\n\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\tif (key) {\n\t\t\t\tvar _data = linkMap[key];\n\t\t\t\tvar vexWin = vex.dialog.alert({\n\t\t\t\t\tunsafeMessage: '\\n\\t\\t\\t\\t\\t\\t<div class=\"field\">\\n\\t\\t\\t\\t\\t\\t\\t<label class=\"label\">Name</label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"control\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\"edit-link-name\" type=\"text\" class=\"input is-primary\" value=\"' + _data.name + '\">\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"field\">\\n\\t\\t\\t\\t\\t\\t\\t<label class=\"label\">URL</label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"control\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\"edit-link-url\" type=\"text\" class=\"input is-primary\" value=\"' + _data.url + '\">\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t',\n\t\t\t\t\tbuttons: [$.extend({}, vex.dialog.buttons.YES, { text: 'Save' }), $.extend({}, vex.dialog.buttons.NO, { text: 'Delete', click: function click(e) {\n\t\t\t\t\t\t\tdatabase.removeLink(tid, uid, key).catch(reportErrorToUser);\n\t\t\t\t\t\t\tvexWin.close();\n\t\t\t\t\t\t} }), $.extend({}, vex.dialog.buttons.NO, { text: 'Cancel' })],\n\t\t\t\t\tcallback: function callback(save) {\n\t\t\t\t\t\tif (save) {\n\t\t\t\t\t\t\tvar nameInput = document.getElementById('edit-link-name');\n\t\t\t\t\t\t\tvar urlInput = document.getElementById('edit-link-url');\n\t\t\t\t\t\t\t//console.log(nameInput.value, urlInput.value);\n\t\t\t\t\t\t\tif (nameInput.value && urlInput.value) {\n\t\t\t\t\t\t\t\tdatabase.updateLink(tid, uid, key, {\n\t\t\t\t\t\t\t\t\tname: nameInput.value,\n\t\t\t\t\t\t\t\t\turl: urlInput.value\n\t\t\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tfor (var b = 0; b < editLinkBtns.length; b++) {\n\t\t_loop3(b);\n\t}\n}\n\nfunction checkUserPermission(tid, team, members) {\n\t/*return new Promise((resolve, reject) => {\n \t});*/\n\n\tif (isMentor()) {\n\t\tconsole.log('in mentor mode');\n\t\tdocument.body.classList.add('mentoring');\n\t\tvar editableNodes = document.querySelectorAll('[contenteditable=true]');\n\t\tfor (var n = 0; n < editableNodes.length; n++) {\n\t\t\teditableNodes[n].setAttribute('contenteditable', false);\n\t\t}\n\t}\n\n\tvar uid = database.getCurrentUser().uid;\n\tif (uid in members || isMentor()) {\n\t\tif (Object.keys(team).length > 0) {\n\t\t\trenderTeamCharter(tid, team, members);\n\t\t}\n\t} else if (params.code) {\n\t\tvex.dialog.confirm({\n\t\t\tmessage: 'Do you want to join ' + (team.name || 'this team') + '?',\n\t\t\tbuttons: [$.extend({}, vex.dialog.buttons.YES, { text: 'Yes' }), $.extend({}, vex.dialog.buttons.NO, { text: 'No' })],\n\t\t\tcallback: function callback(yes) {\n\t\t\t\tif (yes) {\n\t\t\t\t\tdatabase.joinTeam(tid, uid, params.code).then(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\tvex.dialog.alert({\n\t\t\t\t\t\t\t\tmessage: 'Congratulations, you just joined ' + (team.name || 'your new team') + '!'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\t\t\trenderTeamCharter(tid, team, members);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.location = window.location.origin + '/me.html';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.location = window.location.origin + '/me.html';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\twindow.location = window.location.origin + '/me.html';\n\t}\n}\n\nfunction isMentor() {\n\treturn MENTOR_MODE;\n}\n\nfunction reportErrorToUser(err) {\n\tvex.dialog.alert(err + '');\n}\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nfunction fillText(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].innerText = text;\n\t}\n}\n\nfunction fillSrc(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].src = text;\n\t}\n}\n\nfunction onTabClick(tabGroup, tab) {\n\tvar tabid = tab.dataset.tab;\n\tvar showTab = document.getElementById(tabid);\n\tif (showTab) {\n\t\tdatabase.getPrometheus().save({\n\t\t\ttype: 'CHANGE_TAB',\n\t\t\ttid: TEAM_ID,\n\t\t\ttab: tabid\n\t\t});\n\t\tfor (var j = 0; j < tabGroup.length; j++) {\n\t\t\ttabGroup[j].classList.remove('is-active');\n\t\t}\n\t\tvar otherTabs = document.getElementsByClassName('tabbed-container');\n\t\tfor (var i = 0; i < otherTabs.length; i++) {\n\t\t\totherTabs[i].style.display = 'none';\n\t\t}\n\t\tshowTab.style.display = 'block';\n\t\ttab.classList.add('is-active');\n\t}\n}\n\nvar cancels = 0;\nfunction initWithTeamCode(_callback) {\n\tif (TEAM_ID) {\n\t\t_callback(TEAM_ID);\n\t} else {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Enter your team code:',\n\t\t\tcallback: function callback(code) {\n\t\t\t\tif (code) {\n\t\t\t\t\t_callback(code);\n\t\t\t\t} else if (cancels >= 1) {\n\t\t\t\t\twindow.location = './';\n\t\t\t\t} else {\n\t\t\t\t\tcancels++;\n\t\t\t\t\tinitWithTeamCode(_callback);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n},{\"./config\":1,\"./database\":2,\"./views\":4}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetRoleAndUpdateTile: function getRoleAndUpdateTile(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"media-content content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.role + '</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + '\">' + dateFormat + '</span> ' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTile: function getRoleTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 id=\"my-title\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p id=\"my-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t\\t<button id=\"my-role-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetProgressUpdate: function getProgressUpdate(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<span class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + ' is-medium\">' + dateFormat + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"image image-tag-rounded is-32x32\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t' + model.name + '\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetLinkItem: function getLinkItem(model) {\n\t\t\tvar icon = 'file';\n\t\t\tif (model.url.indexOf('docs.google') > -1) {\n\t\t\t\ticon = 'google';\n\t\t\t} else if (model.url.indexOf('omnipointment.com/meeting') > -1) {\n\t\t\t\ticon = 'calendar';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<a target=\"_blank\" href=\"' + model.url + '\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + icon + '\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>' + model.name + '</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\"is-danger is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t<span class=\"icon edit-link\" data-for=\"' + model.key + '\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('team-link');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetTeamTile: function getTeamTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar link = origin + '/charter.html?team=' + model.tid;\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"box\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Team Charter</a>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTile: function getClassTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar classLink = origin + '/class.html?class=' + model.cid;\n\t\t\tvar list = Object.keys(model.teams).filter(function (tid) {\n\t\t\t\treturn Object.keys(model.teams[tid]).length > 0;\n\t\t\t}).map(function (tid) {\n\t\t\t\tvar team = model.teams[tid];\n\t\t\t\tteam.tid = tid;\n\t\t\t\treturn team;\n\t\t\t});\n\t\t\tvar n = list.length;\n\t\t\tvar items = list.map(function (team) {\n\t\t\t\tvar teamLink = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar itemHTML = '\\n\\t\\t\\t\\t\\t<div class=\"column is-4\">\\n\\t\\t\\t\\t\\t\\t<a href=' + teamLink + ' class=\"button is-primary is-outlined is-fullwidth\">' + team.name + '</a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t\treturn itemHTML;\n\t\t\t});\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"tile box is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle\">' + n + ' team' + (n === 1 ? '' : 's') + ' | Code: ' + model.cid + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + classLink + '\" class=\"button is-primary is-outlined\">View Class Dashboard</a>\\n\\t\\t\\t';\n\t\t\t/*<div class=\"columns is-multiline\">\n   \t${items.join('')}\n   </div>*/\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\t//<a href=\"${link}\" class=\"button is-primary is-outlined\">View Class Progress</a>\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetUserTile: function getUserTile(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48 image-tag-rounded\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.subtitle + '</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTeamTable: function getClassTeamTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Team Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Members</th>\\n\\t\\t\\t\\t\\t\\t<th>Charter Edits</th>\\n\\t\\t\\t\\t\\t\\t<th>Progress Updates</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View Team</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + team.name + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(team.members).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(team.edits).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + updates + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + moment(team.lastAccess).fromNow() + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Charter</a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RhdGFiYXNlLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvdmlld3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQ0FBLElBQUksU0FBUztBQUNaLFNBQVEseUNBREk7QUFFWixhQUFZLCtCQUZBO0FBR1osY0FBYSxzQ0FIRDtBQUlaLFlBQVcsZUFKQztBQUtaLGdCQUFlLEVBTEg7QUFNWixvQkFBbUI7QUFOUCxDQUFiO1FBUVEsTSxHQUFBLE07Ozs7Ozs7O0FDUlIsSUFBSSxXQUFXLFNBQVgsUUFBVyxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQXNCOztBQUVwQyxLQUFJLGtCQUFrQixTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsRUFBK0Isa0JBQS9CLENBQXRCO0FBQ0EsS0FBSSxLQUFLLGdCQUFnQixRQUFoQixFQUFUO0FBQ0EsS0FBSSxPQUFPLGdCQUFnQixJQUFoQixFQUFYO0FBQ0MsUUFBTyxTQUFQLEdBQW1CLElBQW5CO0FBQ0EsUUFBTyxhQUFQLEdBQXVCLElBQXZCO0FBQ0QsS0FBSSxhQUFhLFdBQVcsTUFBWCxFQUFtQixlQUFuQixDQUFqQjs7QUFFQSxLQUFJLFdBQVc7O0FBRWQsUUFBTSxjQUFDLFFBQUQsRUFBVyxRQUFYLEVBQXdCO0FBQzdCLE9BQUksU0FBUyxLQUFiO0FBQ0EsUUFBSyxrQkFBTCxDQUF3QixVQUFDLElBQUQsRUFBVTtBQUNqQyxRQUFJLElBQUosRUFBVTtBQUNUO0FBQ0EsZ0JBQVcsS0FBWCxDQUFpQixLQUFLLEdBQXRCLEVBQTJCO0FBQzFCLFlBQU0sS0FBSyxXQURlO0FBRTFCLGFBQU8sS0FBSyxLQUZjO0FBRzFCLGFBQU8sS0FBSyxRQUhjO0FBSTFCLFdBQUssS0FBSztBQUpnQixNQUEzQjtBQU1BO0FBQ0EsU0FBSSxDQUFDLE1BQUwsRUFBYTtBQUNaLGVBQVMsSUFBVDtBQUNB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QUssT0FBakIsRUFBMEIsTUFIbEMsK0JBSVEsT0FBTyxJQUFQLENBQVksS0FBSyxLQUFqQixFQUF3QixNQUpoQywrQkFLUSxPQUxSLCtCQU1RLE9BQU8sS0FBSyxVQUFaLEVBQXdCLE9BQXhCLEVBTlIsd0RBUWMsSUFSZDtBQVlBLElBcEJEO0FBcUJBO0FBR0EsT0FBSSxRQUFRLFNBQVMsYUFBVCxDQUF1QixPQUF2QixDQUFaO0FBQ0MsU0FBTSxTQUFOLENBQWdCLEdBQWhCLENBQW9CLE9BQXBCO0FBQ0EsU0FBTSxTQUFOLENBQWdCLEdBQWhCLENBQW9CLFdBQXBCO0FBQ0EsU0FBTSxTQUFOLENBQWdCLEdBQWhCLENBQW9CLGNBQXBCO0FBQ0EsU0FBTSxTQUFOLEdBQWtCLElBQWxCO0FBQ0QsVUFBTyxLQUFQO0FBQ0E7O0FBOVJVLEVBQVo7O0FBa1NBLFFBQU8sS0FBUDtBQUVBLENBdFNEOztRQXdTUSxLLEdBQUEsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJsZXQgY29uZmlnID0ge1xuXHRhcGlLZXk6IFwiQUl6YVN5QldrOUVXUGtrdnFpcnVHOGFZbkhWMGRCUGcxejNFdE40XCIsXG5cdGF1dGhEb21haW46IFwiY2hhcnRlci1lY2IwNy5maXJlYmFzZWFwcC5jb21cIixcblx0ZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9jaGFydGVyLWVjYjA3LmZpcmViYXNlaW8uY29tXCIsXG5cdHByb2plY3RJZDogXCJjaGFydGVyLWVjYjA3XCIsXG5cdHN0b3JhZ2VCdWNrZXQ6IFwiXCIsXG5cdG1lc3NhZ2luZ1NlbmRlcklkOiBcIjEzNDIzOTMwNTE1M1wiXG59O1xuZXhwb3J0IHtjb25maWd9OyIsImxldCBEYXRhYmFzZSA9IChmaXJlYmFzZSwgY29uZmlnKSA9PiB7XG5cblx0bGV0IENoYXJ0ZXJGaXJlYmFzZSA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnLCAnQ2hhcnRlciBEYXRhYmFzZScpO1xuXHRsZXQgZGIgPSBDaGFydGVyRmlyZWJhc2UuZGF0YWJhc2UoKTtcblx0bGV0IGF1dGggPSBDaGFydGVyRmlyZWJhc2UuYXV0aCgpO1xuXHRcdGNvbmZpZy5sb2NhbGhvc3QgPSB0cnVlO1xuXHRcdGNvbmZpZy5ub1NjcmVlbnNob3RzID0gdHJ1ZTtcblx0bGV0IHByb21ldGhldXMgPSBQcm9tZXRoZXVzKGNvbmZpZywgQ2hhcnRlckZpcmViYXNlKTtcblxuXHRsZXQgZGF0YWJhc2UgPSB7XG5cdFx0XG5cdFx0aW5pdDogKGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0bGV0IGNhbGxlZCA9IGZhbHNlO1xuXHRcdFx0YXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQoKHVzZXIpID0+IHtcblx0XHRcdFx0aWYgKHVzZXIpIHtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdHByb21ldGhldXMubG9nb24odXNlci51aWQsIHtcblx0XHRcdFx0XHRcdG5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXG5cdFx0XHRcdFx0XHRlbWFpbDogdXNlci5lbWFpbCxcblx0XHRcdFx0XHRcdGltYWdlOiB1c2VyLnBob3RvVVJMLFxuXHRcdFx0XHRcdFx0dWlkOiB1c2VyLnVpZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdFx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayh1c2VyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdFx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRmYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGxvZ2luOiAoY2FsbGJhY2ssIG1ldGhvZCkgPT4ge1xuXHRcdFx0Ly9hdXRoLnNpZ25PdXQoKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdGxldCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuXHRcdFx0XHRpZiAobWV0aG9kID09PSAnZmFjZWJvb2snKSB7XG5cdFx0XHRcdFx0cHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlcigpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF1dGguc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRcdFx0bGV0IHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG5cdFx0XHRcdFx0bGV0IHVzZXIgPSByZXN1bHQudXNlcjtcblx0XHRcdFx0XHRsZXQgcHJvdmlkZXJJZCA9ICdVbmtub3duIFByb3ZpZGVyJztcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJZCA9IHVzZXIucHJvdmlkZXJEYXRhWzBdLnByb3ZpZGVySWQ7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRwcm9tZXRoZXVzLmxvZ29uKHVzZXIudWlkLCB7XG5cdFx0XHRcdFx0XHRuYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuXHRcdFx0XHRcdFx0ZW1haWw6IHVzZXIuZW1haWwsXG5cdFx0XHRcdFx0XHRpbWFnZTogdXNlci5waG90b1VSTCxcblx0XHRcdFx0XHRcdHVpZDogdXNlci51aWQsXG5cdFx0XHRcdFx0XHRwcm92aWRlcjogcHJvdmlkZXJJZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0Y2FsbGJhY2sodXNlcik7XG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdFx0LypsZXQgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcblx0XHRcdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcblx0XHRcdFx0XHRsZXQgZW1haWwgPSBlcnJvci5lbWFpbDtcblx0XHRcdFx0XHRsZXQgY3JlZGVudGlhbCA9IGVycm9yLmNyZWRlbnRpYWw7Ki9cblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHRcdFx0fSk7XG5cdFx0XHQvKn0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0fSk7Ki9cblx0XHR9LFxuXG5cdFx0Z2V0UHJvbWV0aGV1czogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHByb21ldGhldXM7XG5cdFx0fSxcblxuXHRcdGdldEN1cnJlbnRVc2VyOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gYXV0aC5jdXJyZW50VXNlciB8fCB7fTtcblx0XHR9LFxuXG5cdFx0c2F2ZUZlZWRiYWNrOiAodGlkLCB1aWQsIGZlZWRiYWNrKSA9PiB7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGBmZWVkYmFja2ApLnB1c2goe1xuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdGZlZWRiYWNrOiBmZWVkYmFjayxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VXNlcjogKHVpZCkgPT4ge1xuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21ldGhldXMvdXNlcnMvJHt1aWR9L3Byb2ZpbGVgKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHVzZXIgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdHJlc29sdmUodXNlcik7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbTogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHRlYW1zLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdGVhbSA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHRlYW0pLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdHRlYW0udGlkID0gdGlkO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh0ZWFtKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldFRlYW1FZGl0czogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgZWRpdHMgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdHJlc29sdmUoZWRpdHMpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdG9uVGVhbUNoYW5nZTogKHRpZCwgY2FsbGJhY2ssIGZhbGxiYWNrKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGxldCBtZW1iZXJzID0ge307XG5cdFx0XHRkYi5yZWYoYHRlYW1zLyR7dGlkfWApLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdGxldCBwcm9taXNlcyA9IFtdO1xuXHRcdFx0XHRsZXQgdGVhbSA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdGxldCBtZW1iZXJNYXAgPSB0ZWFtLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiBtZW1iZXJNYXApIHtcblx0XHRcdFx0XHRpZiAoISh1aWQgaW4gbWVtYmVycykpIHtcblx0XHRcdFx0XHRcdGxldCBwID0gZGF0YWJhc2UuZ2V0VXNlcih1aWQpO1xuXHRcdFx0XHRcdFx0cC51aWQgPSB1aWQ7XG5cdFx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocHJvbWlzZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCh1c2VycykgPT4ge1xuXHRcdFx0XHRcdFx0dXNlcnMuZm9yRWFjaCgobWVtYmVyLCBpZHgpID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IHVpZCA9IHByb21pc2VzW2lkeF0udWlkO1xuXHRcdFx0XHRcdFx0XHRtZW1iZXJzW3VpZF0gPSBtZW1iZXI7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKHRlYW0sIG1lbWJlcnMpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNhbGxiYWNrKHRlYW0sIG1lbWJlcnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlVGVhbU5hbWU6ICh0aWQsIHVpZCwgbmFtZSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ25hbWUnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IG5hbWUsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbmFtZWApLnNldChuYW1lKTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlUXVlc3Rpb246ICh0aWQsIHVpZCwgcXVlc3Rpb24pID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdxdWVzdGlvbicsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogcXVlc3Rpb24sXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vcXVlc3Rpb25gKS5zZXQocXVlc3Rpb24pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVFeHBlY3RhdGlvbnM6ICh0aWQsIHVpZCwgbGlzdCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ2V4cGVjdGF0aW9ucycsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogbGlzdCxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9leHBlY3RhdGlvbnNgKS5zZXQobGlzdCk7XG5cdFx0fSxcblxuXHRcdHN1Ym1pdFVwZGF0ZTogKHRpZCwgdWlkLCB1cGRhdGUpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1NVQk1JVF9VUERBVEUnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dXBkYXRlOiB1cGRhdGVcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS91cGRhdGVzLyR7dWlkfWApLnB1c2goe1xuXHRcdFx0XHR1cGRhdGU6IHVwZGF0ZSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0YWRkTGluazogKHRpZCwgdWlkLCBkYXRhKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdBRERfTElOSycsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRuYW1lOiBkYXRhLm5hbWUsXG5cdFx0XHRcdHVybDogZGF0YS51cmxcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnbGluaycsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogZGF0YSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9saW5rc2ApLnB1c2goe1xuXHRcdFx0XHRuYW1lOiBkYXRhLm5hbWUsXG5cdFx0XHRcdHVybDogZGF0YS51cmwsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHRhZGRlZDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZUxpbms6ICh0aWQsIHVpZCwga2V5LCBkYXRhKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFrZXkpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGxpbmsgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1VQREFURV9MSU5LJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdFx0dXJsOiBkYXRhLnVybCxcblx0XHRcdFx0a2V5OiBrZXlcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRhdGEua2V5ID0ga2V5O1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdsaW5rJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBkYXRhLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0bGV0IHAxID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbGlua3MvJHtrZXl9L25hbWVgKS5zZXQoZGF0YS5uYW1lKTtcblx0XHRcdGxldCBwMiA9IGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzLyR7a2V5fS91cmxgKS5zZXQoZGF0YS51cmwpO1xuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKFtwMSwgcDJdKTtcblx0XHR9LFxuXG5cdFx0cmVtb3ZlTGluazogKHRpZCwgdWlkLCBrZXkpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWtleSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gbGluayBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnUkVNT1ZFX0xJTksnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0a2V5OiBrZXlcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnbGluaycsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRcdHJlbW92ZWQ6IHRydWUsXG5cdFx0XHRcdFx0a2V5OiBrZXlcblx0XHRcdFx0fSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9saW5rcy8ke2tleX1gKS5yZW1vdmUoKTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlUm9sZTogKHRpZCwgdWlkLCBkYXRhKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdVUERBVEVfUk9MRScsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRyb2xlOiBkYXRhLnJvbGUsXG5cdFx0XHRcdHJlc3BvbnNpYmlsaXR5OiBkYXRhLnJlc3BvbnNpYmlsaXR5XG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRkYXRhLnVpZCA9IHVpZDsgLy8gSWYgc29tZW9uZSBpcyBlZGl0aW5nIHRoZWlyIG93biByb2xlXG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ3JvbGUnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRsZXQgcDEgPSBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzLyR7dWlkfS9yb2xlYCkuc2V0KGRhdGEucm9sZSk7XG5cdFx0XHRsZXQgcDIgPSBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzLyR7dWlkfS9yZXNwb25zaWJpbGl0eWApLnNldChkYXRhLnJlc3BvbnNpYmlsaXR5KTtcblx0XHRcdHJldHVybiBQcm9taXNlLmFsbChbcDEsIHAyXSk7XG5cdFx0fSxcblxuXHRcdGpvaW5UZWFtOiAodGlkLCB1aWQsIGpvaW5Db2RlKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbigodGVhbSkgPT4ge1xuXHRcdFx0XHRcdGlmIChqb2luQ29kZSA9PT0gdGVhbS5qb2luQ29kZSB8fCAhdGVhbS5qb2luQ29kZSkge1xuXHRcdFx0XHRcdFx0ZGF0YWJhc2UuYWRkTWVtYmVyKHRpZCwgdWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHRydWVcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZmFsc2Vcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRNZW1iZXI6ICh0aWQsIHVpZCkgPT4ge1xuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdBRERfTUVNQkVSJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogdWlkXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke3VpZH1gKS5zZXQoe1xuXHRcdFx0XHRzdGF0dXM6ICdtZW1iZXInLFxuXHRcdFx0XHRyb2xlOiAnVGVhbSBNZW1iZXInLFxuXHRcdFx0XHRqb2luZWQ6IERhdGUubm93KCksXG5cdFx0XHRcdG1lbWJlcjogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldEFsbFRlYW1zOiAodWlkKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgcmVmID0gZGIucmVmKGB0ZWFtc2ApO1xuXHRcdFx0XHRsZXQgcXVlcnkgPSByZWYub3JkZXJCeUNoaWxkKGBtZW1iZXJzLyR7dWlkfS9tZW1iZXJgKS5zdGFydEF0KHRydWUpLmVuZEF0KHRydWUpO1xuXHRcdFx0XHRxdWVyeS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IG5vZGVzID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRyZXNvbHZlKG5vZGVzKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRjcmVhdGVOZXdUZWFtOiAodWlkLCBqb2luQ29kZSwgdGVhbU5hbWUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZigndGVhbXMnKS5wdXNoKHtcblx0XHRcdFx0XHRuYW1lOiB0ZWFtTmFtZSB8fCAnTmV3IFRlYW0gQ2hhcnRlcicsXG5cdFx0XHRcdFx0am9pbkNvZGU6IGpvaW5Db2RlXG5cdFx0XHRcdH0pLnRoZW4oKHJlcykgPT4ge1xuXHRcdFx0XHRcdGxldCBwYXRoTGlzdCA9IHJlcy5wYXRoLmN0O1xuXHRcdFx0XHRcdGxldCB0aWQgPSBwYXRoTGlzdFtwYXRoTGlzdC5sZW5ndGggLSAxXTtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdFx0XHR0eXBlOiAnQ1JFQVRFX1RFQU0nLFxuXHRcdFx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdFx0XHRuYW1lOiB0ZWFtTmFtZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0ZGF0YWJhc2UuYWRkTWVtYmVyKHRpZCwgdWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0dGlkOiB0aWRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0SW5zdHJ1Y3RvckNsYXNzZXM6ICh1aWQpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGxldCByZWYgPSBkYi5yZWYoYGNsYXNzZXNgKTtcblx0XHRcdFx0bGV0IHF1ZXJ5ID0gcmVmLm9yZGVyQnlDaGlsZChgbWVtYmVycy8ke3VpZH0vYWNjZXNzYCkuc3RhcnRBdCh0cnVlKS5lbmRBdCh0cnVlKTtcblx0XHRcdFx0cXVlcnkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBub2RlcyA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0bGV0IGxpc3QgPSBPYmplY3Qua2V5cyhub2RlcykubWFwKChjaWQpID0+IHtcblx0XHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBub2Rlc1tjaWRdO1xuXHRcdFx0XHRcdFx0Y2xhc3NEYXRhLmNpZCA9IGNpZDtcblx0XHRcdFx0XHRcdHJldHVybiBjbGFzc0RhdGE7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0bGV0IHByb21pc2VzID0gW107XG5cdFx0XHRcdFx0XHRsaXN0LmZvckVhY2goKGNsYXNzRGF0YSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgY2lkID0gY2xhc3NEYXRhLmNpZDtcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgdGlkIGluIGNsYXNzRGF0YS50ZWFtcykge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBwID0gbmV3IFByb21pc2UoKHJlc29sdmVUZWFtLCByZWplY3RUZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbihyZXNvbHZlVGVhbSkuY2F0Y2gocmVqZWN0VGVhbSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0cC5jaWQgPSBjaWQ7XG5cdFx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaChwKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigodGVhbUxpc3QpID0+IHtcblx0XHRcdFx0XHRcdFx0dGVhbUxpc3QuZm9yRWFjaCgodGVhbSwgdGlkeCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBtZXRhID0gcHJvbWlzZXNbdGlkeF07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5vZGVzW21ldGEuY2lkXSl7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobm9kZXNbbWV0YS5jaWRdLnRlYW1zW3RlYW0udGlkXSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2Rlc1ttZXRhLmNpZF0udGVhbXNbdGVhbS50aWRdID0gdGVhbTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKG5vZGVzKVxuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZFRlYW1Ub0NsYXNzOiAodGlkLCB1aWQsIGNvZGUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgY2xhc3Nlcy8ke2NvZGV9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdGlmIChjbGFzc0RhdGEpIHtcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnQUREX1RFQU1fVE9fQ0xBU1MnLFxuXHRcdFx0XHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0XHRcdFx0Y2xhc3NDb2RlOiBjb2RlXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfS90ZWFtcy8ke3RpZH1gKS5zZXQoe1xuXHRcdFx0XHRcdFx0XHRhY2Nlc3M6IHRydWUsXG5cdFx0XHRcdFx0XHRcdGpvaW5lZDogRGF0ZS5ub3coKVxuXHRcdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKGNsYXNzRGF0YSk7XG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZWplY3QoYENvdWxkIG5vdCBmaW5kIGEgY2xhc3Mgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0YWRkSW5zdHJ1Y3RvclRvQ2xhc3M6ICh1aWQsIGNvZGUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgY2xhc3Nlcy8ke2NvZGV9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdGlmIChjbGFzc0RhdGEpIHtcblx0XHRcdFx0XHRcdGxldCBtZW1iZXJNYXAgPSBjbGFzc0RhdGEubWVtYmVycyB8fCB7fTtcblx0XHRcdFx0XHRcdGlmICh1aWQgaW4gbWVtYmVyTWFwKSB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdGlzQWxyZWFkeUluc3RydWN0b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NEYXRhOiBjbGFzc0RhdGFcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdBRERfSU5TVFJVQ1RPUl9UT19DTEFTUycsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NDb2RlOiBjb2RlXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfS9tZW1iZXJzLyR7dWlkfWApLnNldCh7XG5cdFx0XHRcdFx0XHRcdFx0YWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdpbnN0cnVjdG9yJyxcblx0XHRcdFx0XHRcdFx0XHRqb2luZWQ6IERhdGUubm93KClcblx0XHRcdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0aXNBbHJlYWR5SW5zdHJ1Y3RvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc0RhdGE6IGNsYXNzRGF0YVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZWplY3QoYENvdWxkIG5vdCBmaW5kIGEgY2xhc3Mgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0SW5zdHJ1Y3RvcnNCeUNsYXNzOiAoY2xhc3NDb2RlKSA9PiB7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBkYXRhYmFzZTtcbn1cblxuZXhwb3J0IHtEYXRhYmFzZX07IiwiaW1wb3J0IHtjb25maWd9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7RGF0YWJhc2V9IGZyb20gJy4vZGF0YWJhc2UnO1xuaW1wb3J0IHtWaWV3c30gZnJvbSAnLi92aWV3cyc7XG5cbmxldCBkYXRhYmFzZSA9IERhdGFiYXNlKGZpcmViYXNlLCBjb25maWcpO1xuXG5sZXQgcGFyYW1zID0gZ2V0UXVlcnlQYXJhbXMoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoKTtcbmxldCBURUFNX0lEID0gcGFyYW1zLnRlYW07XG5sZXQgTUVOVE9SX01PREUgPSBwYXJhbXMubWVudG9yID8gdHJ1ZSA6IGZhbHNlO1xuXG5sZXQgdmlld3MgPSBWaWV3cygpO1xuXG5sZXQgbG9naW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4nKTtcbmxldCBmZWVkYmFja0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVkYmFjaycpO1xuXG5sZXQgaW52aXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludml0ZScpO1xubGV0IGNsYXNzQ29kZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGFzcy1jb2RlJyk7XG5sZXQgdGFiTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NoYXJ0ZXItdGFiJyk7XG5cbmxldCB0ZWFtTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtLW5hbWUnKTtcbmxldCB0ZWFtUXVlc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS1xdWVzdGlvbicpO1xubGV0IHNhdmVRdWVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlLXF1ZXN0aW9uJyk7XG5sZXQgdGVhbUV4cGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtLWV4cGVjdGF0aW9ucycpO1xubGV0IHNhdmVFeHBlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZS1leHBlY3RhdGlvbnMnKTtcbmxldCBteVVwZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteS11cGRhdGUnKTtcbmxldCBzYXZlVXBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtdXBkYXRlJyk7XG5sZXQgdGVhbVVwZGF0ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS11cGRhdGVzJyk7XG5sZXQgYWRkTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtbGluaycpO1xubGV0IHRlYW1MaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtLWxpbmtzJyk7XG5sZXQgYWRkTWVldGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtbWVldGluZycpO1xuXG5sZXQgcHJvZ3Jlc3NVcGRhdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLXVwZGF0ZXMnKTtcbi8vbGV0IGNoYXJ0ZXJVcGRhdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJ0ZXItdXBkYXRlcycpO1xuXG4vKmxvZ2luQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0ZGF0YWJhc2UubG9naW4obWFpbik7XG59KTsqL1xuXG5kYXRhYmFzZS5pbml0KG1haW4sICgpID0+IHtcblx0Ly8gTm8gdXNlciBzaWduZWQgaW5cblx0d2luZG93LmxvY2F0aW9uID0gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vbG9naW4uaHRtbCR7ZG9jdW1lbnQubG9jYXRpb24uc2VhcmNofWA7XG59KTtcblxuZnVuY3Rpb24gbWFpbih1c2VyKSB7XG5cblx0aW5pdFdpdGhUZWFtQ29kZSgodGlkKSA9PiB7XG5cdFxuXHRcdGNvbnNvbGUubG9nKCdXaGF0IG1ha2VzIHdvcmtpbmcgYXQgT21uaXBvaW50bWVudCBiZXR0ZXIgdGhhbiwgc2F5LCBHb29nbGU/Jyk7XG5cblx0XHRmaWxsVGV4dCgnZmlsbC11c2VyLW5hbWUnLCB1c2VyLmRpc3BsYXlOYW1lKTtcblx0XHRmaWxsU3JjKCdmaWxsLXVzZXItaW1hZ2UnLCB1c2VyLnBob3RvVVJMKTtcblxuXHRcdGZvciAobGV0IGsgPSAwOyBrIDwgdGFiTGlzdC5sZW5ndGg7IGsrKykge1xuXHRcdFx0dGFiTGlzdFtrXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdG9uVGFiQ2xpY2sodGFiTGlzdCwgdGFiTGlzdFtrXSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBTaG93IHRoZSBDaGFydGVyIHRhYiB3aGVuIHRoZSBwYWdlIGxvYWRzXG5cdFx0b25UYWJDbGljayh0YWJMaXN0LCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcnRlci10YWJbZGF0YS10YWI9XCJjb250YWluZXItY2hhcnRlclwiXScpWzBdKTtcblxuXHRcdGxldCBwcm9tZXRoZXVzID0gZGF0YWJhc2UuZ2V0UHJvbWV0aGV1cygpO1xuXG5cdFx0ZmVlZGJhY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0XHRtZXNzYWdlOiAnV2hhdCBmZWVkYmFjayBkbyB5b3UgaGF2ZSB0byBzaGFyZSB3aXRoIHVzPycsXG5cdFx0XHRcdGNhbGxiYWNrOiAoZmVlZGJhY2spID0+IHtcblx0XHRcdFx0XHRpZiAoZmVlZGJhY2spIHtcblx0XHRcdFx0XHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRcdGRhdGFiYXNlLnNhdmVGZWVkYmFjayh0aWQsIHVpZCwgZmVlZGJhY2spLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0dmV4LmRpYWxvZy5hbGVydCgnVGhhbmsgeW91IGZvciB5b3VyIGZlZWRiYWNrLCBpdCByZWFsbHkgaGVscHMgdXMgYSBsb3QhJyk7XG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdGxldCBjaGVja2VkUGVybWlzc2lvbnMgPSBmYWxzZTtcblx0XHRkYXRhYmFzZS5vblRlYW1DaGFuZ2UodGlkLCAodGVhbSwgbWVtYmVycykgPT4ge1xuXHRcdFx0aWYgKCFjaGVja2VkUGVybWlzc2lvbnMpIHtcblx0XHRcdFx0Y2hlY2tVc2VyUGVybWlzc2lvbih0aWQsIHRlYW0sIG1lbWJlcnMpO1xuXHRcdFx0XHRjaGVja2VkUGVybWlzc2lvbnMgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0sIHJlcG9ydEVycm9yVG9Vc2VyKTtcblxuXHRcdGRhdGFiYXNlLmdldFByb21ldGhldXMoKS5zYXZlKHtcblx0XHRcdHR5cGU6ICdDSEFSVEVSX1BBR0UnLFxuXHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRtZW50b3I6IGlzTWVudG9yKClcblx0XHR9KTtcblxuXHRcdG1haW5DaGFydGVyVGFiKHVzZXIsIHRpZCk7XG5cdFx0bWFpblByb2dyZXNzVGFiKHVzZXIsIHRpZCk7XG5cblx0fSk7XG5cbn1cblxuZnVuY3Rpb24gbWFpbkNoYXJ0ZXJUYWIodXNlciwgdGlkKSB7XG5cblx0aW52aXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbigodGVhbSkgPT4ge1xuXHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRsZXQgcGF0aG5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG5cdFx0XHRsZXQgY29kZSA9IHRlYW0uam9pbkNvZGUgfHwgZmFsc2U7XG5cdFx0XHRsZXQgbGlua0VuZCA9IGNvZGUgPyBgJmNvZGU9JHtjb2RlfWAgOiAnJztcblx0XHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufSR7cGF0aG5hbWV9P3RlYW09JHt0aWR9JHtsaW5rRW5kfWA7XG5cdFx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRcdG1lc3NhZ2U6ICdTZW5kIHRoaXMgbGluayB0byB5b3VyIHRlYW1tYXRlczonLFxuXHRcdFx0XHR2YWx1ZTogbGluayxcblx0XHRcdFx0Y2FsbGJhY2s6ICgpID0+IHt9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSk7XG5cblx0Y2xhc3NDb2RlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiAnRW50ZXIgdGhlIGNvZGUgZnJvbSB5b3VyIGluc3RydWN0b3IgKGNhc2Ugc2Vuc2l0aXZlKTonLFxuXHRcdFx0Y2FsbGJhY2s6IChjb2RlKSA9PiB7XG5cdFx0XHRcdGlmIChjb2RlKSB7XG5cdFx0XHRcdFx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRcdFx0XHRcdGRhdGFiYXNlLmFkZFRlYW1Ub0NsYXNzKHRpZCwgdWlkLCBjb2RlKS50aGVuKChjbGFzc0RhdGEpID0+IHtcblx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoe1xuXHRcdFx0XHRcdFx0XHRtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5IGFkZGVkIHlvdXIgdGVhbSB0byAke2NsYXNzRGF0YS5uYW1lfSFgXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXHR9KTtcblxuXHR0ZWFtTmFtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0aWYgKCFpc01lbnRvcigpKSB7XG5cdFx0XHRsZXQgbmFtZSA9IGUudGFyZ2V0LmlubmVyVGV4dDtcblx0XHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdFx0bWVzc2FnZTogJ0VkaXQgeW91ciB0ZWFtIG5hbWU6Jyxcblx0XHRcdFx0dmFsdWU6IG5hbWUsXG5cdFx0XHRcdGNhbGxiYWNrOiAobmV3TmFtZSkgPT4ge1xuXHRcdFx0XHRcdGlmIChuZXdOYW1lKSB7XG5cdFx0XHRcdFx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRcdFx0XHRkYXRhYmFzZS51cGRhdGVUZWFtTmFtZSh0aWQsIHVpZCwgbmV3TmFtZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdHNhdmVRdWVzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0c2F2ZVF1ZXN0LmNsYXNzTGlzdC5hZGQoJ2lzLWxvYWRpbmcnKTtcblx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0bGV0IHF1ZXN0aW9uID0gdGVhbVF1ZXN0LmlubmVyVGV4dDtcblx0XHRkYXRhYmFzZS51cGRhdGVRdWVzdGlvbih0aWQsIHVpZCwgcXVlc3Rpb24pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdHNhdmVRdWVzdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHR9KTtcblxuXHRzYXZlRXhwZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRzYXZlRXhwZWN0LmNsYXNzTGlzdC5hZGQoJ2lzLWxvYWRpbmcnKTtcblx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0bGV0IHRleHQgPSB0ZWFtRXhwZWN0LmlubmVyVGV4dDtcblx0XHRsZXQgbGlzdCA9IHRleHQuc3BsaXQoJ1xcbicpO1xuXHRcdGxldCBwb3BwZWQgPSBsaXN0LnBvcCgpO1xuXHRcdGlmICghcG9wcGVkLmxlbmd0aCA8IDEpIHtcblx0XHRcdGxpc3QucHVzaChwb3BwZWQpO1xuXHRcdH1cblx0XHRkYXRhYmFzZS51cGRhdGVFeHBlY3RhdGlvbnModGlkLCB1aWQsIGxpc3QpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdHNhdmVFeHBlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbG9hZGluZycpO1xuXHRcdH0pLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0fSk7XG5cblx0c2F2ZVVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0c2F2ZVVwZGF0ZS5jbGFzc0xpc3QuYWRkKCdpcy1sb2FkaW5nJyk7XG5cdFx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRcdGxldCB1cGRhdGUgPSBteVVwZGF0ZS52YWx1ZTtcblx0XHRkYXRhYmFzZS5zdWJtaXRVcGRhdGUodGlkLCB1aWQsIHVwZGF0ZSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0c2F2ZVVwZGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRteVVwZGF0ZS52YWx1ZSA9ICcnO1xuXHRcdH0pLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0fSk7XG5cblx0YWRkTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0cHJvbXB0TGlua0RhdGEoZSwgdGlkLCAnUGFzdGUgdGhlIFVSTDonKTtcblx0fSk7XG5cblx0YWRkTWVldGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0Ly9sZXQgb21uaVdpbiA9IHdpbmRvdy5vcGVuKCdodHRwczovL3d3dy5vbW5pcG9pbnRtZW50LmNvbS9tZWV0aW5nL2NyZWF0ZScpO1xuXHRcdHByb21wdExpbmtEYXRhKGUsIHRpZCwgJ1Bhc3RlIHRoZSBsaW5rIHRvIHlvdXIgT21uaXBvaW50bWVudDonKTtcblx0fSk7XG5cblx0ZGF0YWJhc2Uub25UZWFtQ2hhbmdlKHRpZCwgKHRlYW0sIG1lbWJlcnMpID0+IHtcblx0XHRpZiAoT2JqZWN0LmtleXModGVhbSkubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRyZW5kZXJUZWFtQ2hhcnRlcih0aWQsIHRlYW0sIG1lbWJlcnMpO1xuXHRcdFx0fVxuXHR9LCByZXBvcnRFcnJvclRvVXNlcik7XG5cbn1cblxuZnVuY3Rpb24gcHJvbXB0TGlua0RhdGEoZSwgdGlkLCBtZXNzYWdlKSB7XG5cdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdFx0Y2FsbGJhY2s6ICh1cmwpID0+IHtcblx0XHRcdGlmICh1cmwpIHtcblx0XHRcdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0XHRcdG1lc3NhZ2U6ICdXaGF0IGlzIHRoZSBuYW1lIG9mIHRoaXMgbGluaz8nLFxuXHRcdFx0XHRcdGNhbGxiYWNrOiAobmFtZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHVybCAmJiBuYW1lKSB7XG5cdFx0XHRcdFx0XHRcdGFkZExpbmsuY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuXHRcdFx0XHRcdFx0XHRkYXRhYmFzZS5hZGRMaW5rKHRpZCwgdWlkLCB7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdFx0XHRcdFx0XHR1cmw6IHVybFxuXHRcdFx0XHRcdFx0XHR9KS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0YWRkTGluay5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1haW5Qcm9ncmVzc1RhYih1c2VyLCB0aWQpIHtcblxuXHRkYXRhYmFzZS5vblRlYW1DaGFuZ2UodGlkLCAodGVhbSwgbWVtYmVycykgPT4ge1xuXG5cdFx0cmVuZGVyUHJvZ3Jlc3NVcGRhdGVzKHRpZCwgdGVhbSwgbWVtYmVycyk7XG5cblx0fSwgcmVwb3J0RXJyb3JUb1VzZXIpO1xuXG59XG5cbmZ1bmN0aW9uIHJlbmRlclByb2dyZXNzVXBkYXRlcyh0aWQsIHRlYW0sIG1lbWJlcnMpIHtcblx0bGV0IHVwZGF0ZU1hcCA9IHRlYW0udXBkYXRlcyB8fCB7fTtcblx0XG5cdGxldCB1cGRhdGVMaXN0ID0gW107XG5cblx0Zm9yIChsZXQgdWlkIGluIHVwZGF0ZU1hcCkge1xuXHRcdGxldCBzdWJNYXAgPSB1cGRhdGVNYXBbdWlkXTtcblx0XHRmb3IgKGxldCB1cGlkIGluIHN1Yk1hcCkge1xuXHRcdFx0bGV0IG5vZGUgPSBzdWJNYXBbdXBpZF07XG5cdFx0XHRub2RlLnVpZCA9IHVpZDtcblx0XHRcdG5vZGUua2V5ID0gdXBpZDtcblx0XHRcdHVwZGF0ZUxpc3QucHVzaChub2RlKTtcblx0XHR9XG5cdH1cblxuXHRmb3IgKGxldCB1aWQgaW4gdGVhbS5tZW1iZXJzKSB7XG5cdFx0bGV0IG1lbWJlciA9IHRlYW0ubWVtYmVyc1t1aWRdO1xuXHRcdGxldCBwcm9maWxlID0gbWVtYmVyc1t1aWRdO1xuXHRcdHVwZGF0ZUxpc3QucHVzaCh7XG5cdFx0XHR1cGRhdGU6IGAke3Byb2ZpbGUubmFtZX0gam9pbmVkIHRoZSB0ZWFtLmAsXG5cdFx0XHR0aW1lc3RhbXA6IG1lbWJlci5qb2luZWQsXG5cdFx0XHR1aWQ6IHVpZCxcblx0XHRcdGtleTogYCR7dWlkfS1qb2luZWRgXG5cdFx0fSk7XG5cdH1cblxuXHR1cGRhdGVMaXN0LnNvcnQoKGEsIGIpID0+IHtcblx0XHRyZXR1cm4gYi50aW1lc3RhbXAgLSBhLnRpbWVzdGFtcDtcblx0fSk7XG5cblx0cHJvZ3Jlc3NVcGRhdGVzLmlubmVySFRNTCA9ICcnO1xuXG5cdGlmICh1cGRhdGVMaXN0Lmxlbmd0aCA+IDApIHtcblx0XHR1cGRhdGVMaXN0LmZvckVhY2goKHVwZGF0ZSkgPT4ge1xuXHRcdFx0bGV0IGF1dGhvciA9IG1lbWJlcnNbdXBkYXRlLnVpZF07XG5cdFx0XHRpZiAodXBkYXRlLnVwZGF0ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGxldCB0aWxlID0gdmlld3MuZ2V0UHJvZ3Jlc3NVcGRhdGUoe1xuXHRcdFx0XHRcdG5hbWU6IGF1dGhvci5uYW1lLFxuXHRcdFx0XHRcdHJvbGU6IHRlYW0ubWVtYmVyc1t1cGRhdGUudWlkXS5yb2xlLFxuXHRcdFx0XHRcdGltYWdlOiBhdXRob3IuaW1hZ2UsXG5cdFx0XHRcdFx0dXBkYXRlOiB1cGRhdGUudXBkYXRlLFxuXHRcdFx0XHRcdHRpbWVzdGFtcDogdXBkYXRlLnRpbWVzdGFtcFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cHJvZ3Jlc3NVcGRhdGVzLmFwcGVuZENoaWxkKHRpbGUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGxldCBub1VwZGF0ZXNXYXJuaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0bm9VcGRhdGVzV2FybmluZy5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdDxoND5ObyB1cGRhdGVzIHRvIHNob3cgOig8L2g0PlxuXHRcdDwvZGl2PmA7XG5cdFx0cHJvZ3Jlc3NVcGRhdGVzLmFwcGVuZENoaWxkKG5vVXBkYXRlc1dhcm5pbmcpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRlYW1DaGFydGVyKHRpZCwgdGVhbSwgbWVtYmVycykge1xuXG5cdGxldCB0ZWFtTWVtYmVycyA9IHRlYW0ubWVtYmVycyB8fCB7fTtcblxuXHRpZiAodGVhbS5uYW1lKSB7XG5cdFx0ZmlsbFRleHQoJ2ZpbGwtdGVhbS1uYW1lJywgdGVhbS5uYW1lKTtcblx0fVxuXHRpZiAodGVhbS5xdWVzdGlvbikge1xuXHRcdGZpbGxUZXh0KCdmaWxsLXRlYW0tcXVlc3Rpb24nLCB0ZWFtLnF1ZXN0aW9uKTtcblx0fVxuXG5cdGxldCBleHBlY3RhdGlvbnMgPSB0ZWFtLmV4cGVjdGF0aW9ucyB8fCBbXTtcblx0aWYgKGV4cGVjdGF0aW9ucy5sZW5ndGggPiAwKSB7XG5cdFx0dGVhbUV4cGVjdC5pbm5lckhUTUwgPSBleHBlY3RhdGlvbnMucmVkdWNlKCh0b3RhbCwgdmFsKSA9PiB7XG5cdFx0XHRyZXR1cm4gdG90YWwgKyBgPGxpPiR7dmFsfTwvbGk+YDtcblx0XHR9LCAnJyk7XG5cdH1cblxuXHQvKmxldCBhbGxVcGRhdGVzID0gdGVhbS51cGRhdGVzIHx8IHt9O1xuXHR0ZWFtVXBkYXRlcy5pbm5lckhUTUwgPSAnJztcblx0Zm9yIChsZXQgdWlkIGluIHRlYW1NZW1iZXJzKSB7XG5cdFx0bGV0IHVzZXIgPSBtZW1iZXJzW3VpZF07XG5cdFx0bGV0IHVwZGF0ZU1hcCA9IGFsbFVwZGF0ZXNbdWlkXSB8fCB7fTtcblx0XHRsZXQgdXBkYXRlTGlzdCA9IE9iamVjdC5rZXlzKHVwZGF0ZU1hcCkubWFwKHVwaWQgPT4gdXBkYXRlTWFwW3VwaWRdKS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRyZXR1cm4gYi50aW1lc3RhbXAgLSBhLnRpbWVzdGFtcDtcblx0XHR9KTtcblx0XHRsZXQgdXBkYXRlID0gdXBkYXRlTGlzdFswXTtcblx0XHRsZXQgbWVzc2FnZSA9ICdObyB1cGRhdGVzIHlldC4nO1xuXHRcdGxldCB0cyA9IHRlYW1NZW1iZXJzW3VpZF0uam9pbmVkO1xuXHRcdGlmICh1cGRhdGUpIHtcblx0XHRcdG1lc3NhZ2UgPSB1cGRhdGUudXBkYXRlO1xuXHRcdFx0dHMgPSB1cGRhdGUudGltZXN0YW1wO1xuXHRcdH1cblx0XHRsZXQgdGlsZSA9IHZpZXdzLmdldFJvbGVBbmRVcGRhdGVUaWxlKHtcblx0XHRcdG5hbWU6IHVzZXIubmFtZSxcblx0XHRcdHJvbGU6IHRlYW0ubWVtYmVyc1t1aWRdLnJvbGUsXG5cdFx0XHRpbWFnZTogdXNlci5pbWFnZSxcblx0XHRcdHVwZGF0ZTogbWVzc2FnZSxcblx0XHRcdHRpbWVzdGFtcDogdHNcblx0XHR9KTtcblx0XHR0ZWFtVXBkYXRlcy5hcHBlbmRDaGlsZCh0aWxlKTtcblx0fSovXG5cblx0dGVhbVVwZGF0ZXMuaW5uZXJIVE1MID0gJyc7XG5cdGZvciAobGV0IHVpZCBpbiB0ZWFtTWVtYmVycykge1xuXHRcdGxldCB1c2VyID0gbWVtYmVyc1t1aWRdO1xuXHRcdGxldCBtZW1iZXIgPSB0ZWFtTWVtYmVyc1t1aWRdO1xuXHRcdGlmIChtZW1iZXIuc3RhdHVzID09PSAnbWVtYmVyJykge1xuXHRcdFx0bGV0IHRpbGUgPSB2aWV3cy5nZXRSb2xlVGlsZSh7XG5cdFx0XHRcdG5hbWU6IHVzZXIubmFtZSxcblx0XHRcdFx0cm9sZTogbWVtYmVyLnJvbGUsXG5cdFx0XHRcdGltYWdlOiB1c2VyLmltYWdlLFxuXHRcdFx0XHRyZXNwb25zaWJpbGl0eTogbWVtYmVyLnJlc3BvbnNpYmlsaXR5IHx8ICdXaGF0IGFyZSB5b3UgcmVzcG9uc2libGUgZm9yPycsXG5cdFx0XHRcdGVkaXRhYmxlOiB1aWQgPT09IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkICYmICFpc01lbnRvcigpXG5cdFx0XHR9KTtcblx0XHRcdHRlYW1VcGRhdGVzLmFwcGVuZENoaWxkKHRpbGUpO1xuXHRcdH1cblx0fVxuXG5cdGxldCByb2xlU2F2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteS1yb2xlLXNhdmUnKTtcblx0bGV0IHJvbGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteS10aXRsZScpO1xuXHRsZXQgcmVzcElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LXJlc3BvbnNpYmlsaXR5Jyk7XG5cdGlmIChyb2xlU2F2ZSAmJiByb2xlSW5wdXQgJiYgcmVzcElucHV0KSB7XG5cdFx0cm9sZVNhdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0cm9sZVNhdmUuY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuXHRcdFx0bGV0IHJvbGUgPSByb2xlSW5wdXQuaW5uZXJUZXh0O1xuXHRcdFx0bGV0IHJlc3AgPSByZXNwSW5wdXQuaW5uZXJUZXh0O1xuXHRcdFx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRcdFx0ZGF0YWJhc2UudXBkYXRlUm9sZSh0aWQsIHVpZCwge1xuXHRcdFx0XHRyb2xlOiByb2xlLFxuXHRcdFx0XHRyZXNwb25zaWJpbGl0eTogcmVzcFxuXHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRyb2xlU2F2ZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0fSk7XG5cdH1cblxuXHR0ZWFtTGlua3MuaW5uZXJIVE1MID0gJyc7XG5cdGxldCBsaW5rTWFwID0gdGVhbS5saW5rcyB8fCB7fTtcblx0aWYgKE9iamVjdC5rZXlzKGxpbmtNYXApLmxlbmd0aCA+IDApIHtcblx0XHRmb3IgKGxldCBsaWQgaW4gbGlua01hcCkge1xuXHRcdFx0bGV0IGRhdGEgPSBsaW5rTWFwW2xpZF07XG5cdFx0XHRsZXQgbGluayA9IHZpZXdzLmdldExpbmtJdGVtKHtcblx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHR1cmw6IGRhdGEudXJsLFxuXHRcdFx0XHRrZXk6IGxpZFxuXHRcdFx0fSk7XG5cdFx0XHRsaW5rLmRhdGFzZXQua2V5ID0gbGlkO1xuXHRcdFx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdGRhdGFiYXNlLmdldFByb21ldGhldXMoKS5zYXZlKHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyh7XG5cdFx0XHRcdFx0dHlwZTogJ0NMSUNLX1RFQU1fTElOSycsXG5cdFx0XHRcdFx0a2V5OiBsaWQsXG5cdFx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHRcdHVybDogZGF0YS51cmxcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHRcdHRlYW1MaW5rcy5hcHBlbmRDaGlsZChsaW5rKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0bGV0IG5vTGlua3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRub0xpbmtzLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHQ8cCBjbGFzcz1cImlzLTZcIj5ObyBsaW5rcyB5ZXQuPC9wPlxuXHRcdFx0PC9kaXY+YDtcblx0XHR0ZWFtTGlua3MuYXBwZW5kQ2hpbGQobm9MaW5rcyk7XG5cdH1cblxuXHRsZXQgZWRpdExpbmtCdG5zID0gdGVhbUxpbmtzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2VkaXQtbGluaycpO1xuXHRmb3IgKGxldCBiID0gMDsgYiA8IGVkaXRMaW5rQnRucy5sZW5ndGg7IGIrKykge1xuXHRcdGVkaXRMaW5rQnRuc1tiXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRsZXQga2V5ID0gZWRpdExpbmtCdG5zW2JdLmRhdGFzZXQuZm9yO1xuXHRcdFx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRcdFx0aWYgKGtleSkge1xuXHRcdFx0XHRsZXQgZGF0YSA9IGxpbmtNYXBba2V5XTtcblx0XHRcdFx0bGV0IHZleFdpbiA9IHZleC5kaWFsb2cuYWxlcnQoe1xuXHRcdFx0XHRcdHVuc2FmZU1lc3NhZ2U6IGBcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmaWVsZFwiPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJsYWJlbFwiPk5hbWU8L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCBpZD1cImVkaXQtbGluay1uYW1lXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0IGlzLXByaW1hcnlcIiB2YWx1ZT1cIiR7ZGF0YS5uYW1lfVwiPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZpZWxkXCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImxhYmVsXCI+VVJMPC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgaWQ9XCJlZGl0LWxpbmstdXJsXCIgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0IGlzLXByaW1hcnlcIiB2YWx1ZT1cIiR7ZGF0YS51cmx9XCI+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0YCxcblx0XHRcdFx0XHRidXR0b25zOiBbXG5cdFx0XHRcdFx0XHQkLmV4dGVuZCh7fSwgdmV4LmRpYWxvZy5idXR0b25zLllFUywge3RleHQ6ICdTYXZlJ30pLFxuXHRcdFx0XHRcdFx0JC5leHRlbmQoe30sIHZleC5kaWFsb2cuYnV0dG9ucy5OTywge3RleHQ6ICdEZWxldGUnLCBjbGljazogKGUpID0+IHtcblx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UucmVtb3ZlTGluayh0aWQsIHVpZCwga2V5KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0XHRcdFx0XHRcdHZleFdpbi5jbG9zZSgpO1xuXHRcdFx0XHRcdFx0fX0pLFxuXHRcdFx0XHRcdFx0JC5leHRlbmQoe30sIHZleC5kaWFsb2cuYnV0dG9ucy5OTywge3RleHQ6ICdDYW5jZWwnfSlcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdGNhbGxiYWNrOiAoc2F2ZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHNhdmUpIHtcblx0XHRcdFx0XHRcdFx0bGV0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWxpbmstbmFtZScpO1xuXHRcdFx0XHRcdFx0XHRsZXQgdXJsSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1saW5rLXVybCcpO1xuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKG5hbWVJbnB1dC52YWx1ZSwgdXJsSW5wdXQudmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRpZiAobmFtZUlucHV0LnZhbHVlICYmIHVybElucHV0LnZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UudXBkYXRlTGluayh0aWQsIHVpZCwga2V5LCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBuYW1lSW5wdXQudmFsdWUsXG5cdFx0XHRcdFx0XHRcdFx0XHR1cmw6IHVybElucHV0LnZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cbn1cblxuZnVuY3Rpb24gY2hlY2tVc2VyUGVybWlzc2lvbih0aWQsIHRlYW0sIG1lbWJlcnMpIHtcblx0LypyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG5cdH0pOyovXG5cblx0aWYgKGlzTWVudG9yKCkpIHtcblx0XHRjb25zb2xlLmxvZygnaW4gbWVudG9yIG1vZGUnKVxuXHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbWVudG9yaW5nJyk7XG5cdFx0bGV0IGVkaXRhYmxlTm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbY29udGVudGVkaXRhYmxlPXRydWVdJylcblx0XHRmb3IgKGxldCBuID0gMDsgbiA8IGVkaXRhYmxlTm9kZXMubGVuZ3RoOyBuKyspIHtcblx0XHRcdGVkaXRhYmxlTm9kZXNbbl0uc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCBmYWxzZSk7XG5cdFx0fVxuXHR9IFxuXG5cdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0aWYgKHVpZCBpbiBtZW1iZXJzIHx8IGlzTWVudG9yKCkpIHtcblx0XHRpZiAoT2JqZWN0LmtleXModGVhbSkubGVuZ3RoID4gMCkge1xuXHRcdFx0cmVuZGVyVGVhbUNoYXJ0ZXIodGlkLCB0ZWFtLCBtZW1iZXJzKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAocGFyYW1zLmNvZGUpIHtcblx0XHR2ZXguZGlhbG9nLmNvbmZpcm0oe1xuXHRcdFx0bWVzc2FnZTogYERvIHlvdSB3YW50IHRvIGpvaW4gJHt0ZWFtLm5hbWUgfHwgJ3RoaXMgdGVhbSd9P2AsXG5cdFx0XHRidXR0b25zOiBbXG5cdFx0XHRcdCQuZXh0ZW5kKHt9LCB2ZXguZGlhbG9nLmJ1dHRvbnMuWUVTLCB7dGV4dDogJ1llcyd9KSxcblx0XHRcdFx0JC5leHRlbmQoe30sIHZleC5kaWFsb2cuYnV0dG9ucy5OTywge3RleHQ6ICdObyd9KVxuXHRcdFx0XSxcblx0XHRcdGNhbGxiYWNrOiAoeWVzKSA9PiB7XG5cdFx0XHRcdGlmICh5ZXMpIHtcblx0XHRcdFx0XHRkYXRhYmFzZS5qb2luVGVhbSh0aWQsIHVpZCwgcGFyYW1zLmNvZGUpLnRoZW4oKHJlcykgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoe1xuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IGBDb25ncmF0dWxhdGlvbnMsIHlvdSBqdXN0IGpvaW5lZCAke3RlYW0ubmFtZSB8fCAneW91ciBuZXcgdGVhbSd9IWBcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdGlmIChPYmplY3Qua2V5cyh0ZWFtKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVuZGVyVGVhbUNoYXJ0ZXIodGlkLCB0ZWFtLCBtZW1iZXJzKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvbWUuaHRtbCc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvbWUuaHRtbCc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9tZS5odG1sJztcblx0fVxufVxuXG5mdW5jdGlvbiBpc01lbnRvcigpIHtcblx0cmV0dXJuIE1FTlRPUl9NT0RFO1xufVxuXG5mdW5jdGlvbiByZXBvcnRFcnJvclRvVXNlcihlcnIpIHtcblx0dmV4LmRpYWxvZy5hbGVydChlcnIgKyAnJyk7XG59XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1zKHFzKSB7XG5cdHFzID0gcXMuc3BsaXQoJysnKS5qb2luKCcgJyk7XG5cdHZhciBwYXJhbXMgPSB7fSxcblx0XHR0b2tlbnMsXG5cdFx0cmUgPSAvWz8mXT8oW149XSspPShbXiZdKikvZztcblx0d2hpbGUgKHRva2VucyA9IHJlLmV4ZWMocXMpKSB7XG5cdFx0cGFyYW1zW2RlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMV0pXSA9IGRlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMl0pO1xuXHR9XG5cdHJldHVybiBwYXJhbXM7XG59XG5cbmZ1bmN0aW9uIGZpbGxUZXh0KGNsYXNzTmFtZSwgdGV4dCkge1xuXHRsZXQgc3BhbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSk7XG5cdGZvciAobGV0IHMgPSAwOyBzIDwgc3BhbnMubGVuZ3RoOyBzKyspIHtcblx0XHRzcGFuc1tzXS5pbm5lclRleHQgPSB0ZXh0O1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZpbGxTcmMoY2xhc3NOYW1lLCB0ZXh0KSB7XG5cdGxldCBzcGFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcblx0Zm9yIChsZXQgcyA9IDA7IHMgPCBzcGFucy5sZW5ndGg7IHMrKykge1xuXHRcdHNwYW5zW3NdLnNyYyA9IHRleHQ7XG5cdH1cbn1cblxuZnVuY3Rpb24gb25UYWJDbGljayh0YWJHcm91cCwgdGFiKSB7XG5cdGxldCB0YWJpZCA9IHRhYi5kYXRhc2V0LnRhYjtcblx0bGV0IHNob3dUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJpZCk7XG5cdGlmIChzaG93VGFiKSB7XG5cdFx0ZGF0YWJhc2UuZ2V0UHJvbWV0aGV1cygpLnNhdmUoe1xuXHRcdFx0dHlwZTogJ0NIQU5HRV9UQUInLFxuXHRcdFx0dGlkOiBURUFNX0lELFxuXHRcdFx0dGFiOiB0YWJpZFxuXHRcdH0pO1xuXHRcdGZvciAobGV0IGogPSAwOyBqIDwgdGFiR3JvdXAubGVuZ3RoOyBqKyspIHtcblx0XHRcdHRhYkdyb3VwW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuXHRcdH1cblx0XHRsZXQgb3RoZXJUYWJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGFiYmVkLWNvbnRhaW5lcicpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgb3RoZXJUYWJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRvdGhlclRhYnNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHR9XG5cdFx0c2hvd1RhYi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHR0YWIuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG5cdH1cblxufVxuXG5sZXQgY2FuY2VscyA9IDA7XG5mdW5jdGlvbiBpbml0V2l0aFRlYW1Db2RlKGNhbGxiYWNrKSB7XG5cdGlmIChURUFNX0lEKSB7XG5cdFx0Y2FsbGJhY2soVEVBTV9JRCk7XG5cdH0gZWxzZSB7XG5cdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0bWVzc2FnZTogJ0VudGVyIHlvdXIgdGVhbSBjb2RlOicsXG5cdFx0XHRjYWxsYmFjazogKGNvZGUpID0+IHtcblx0XHRcdFx0aWYgKGNvZGUpIHtcblx0XHRcdFx0XHRjYWxsYmFjayhjb2RlKTtcblx0XHRcdFx0fSBlbHNlIGlmIChjYW5jZWxzID49IDEpIHtcblx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24gPSAnLi8nO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNhbmNlbHMrKztcblx0XHRcdFx0XHRpbml0V2l0aFRlYW1Db2RlKGNhbGxiYWNrKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbiIsImxldCBWaWV3cyA9ICgpID0+IHtcblxuXHRsZXQgdmlld3MgPSB7XG5cblx0XHRnZXRSb2xlQW5kVXBkYXRlVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgcG9zdGVkID0gbmV3IERhdGUobW9kZWwudGltZXN0YW1wKTtcblx0XHRcdGxldCBkYXRlRm9ybWF0ID0gbW9tZW50KHBvc3RlZCkuZm9ybWF0KCdNL0QgaDptbSBBJyk7XG5cdFx0XHRsZXQgZGlmZiA9IG1vbWVudChEYXRlLm5vdygpKS5kaWZmKG1vbWVudChtb2RlbC50aW1lc3RhbXApKTtcblx0XHRcdGxldCBkYXlzU2luY2VMYXN0VXBkYXRlID0gbW9tZW50LmR1cmF0aW9uKGRpZmYpLmFzRGF5cygpO1xuXHRcdFx0bGV0IHRhZ0NsYXNzID0gJ2lzLXN1Y2Nlc3MnO1xuXHRcdFx0aWYgKGRheXNTaW5jZUxhc3RVcGRhdGUgPj0gNSkge1xuXHRcdFx0XHR0YWdDbGFzcyA9ICdpcy1kYW5nZXInO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSAzKSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLXdhcm5pbmcnO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy01XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxuXHRcdFx0XHRcdFx0XHQ8ZmlndXJlIGNsYXNzPVwibWVkaWEtbGVmdFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiaW1hZ2UgaXMtNDh4NDhcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHttb2RlbC5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVkaWEtY29udGVudCBjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiPiR7bW9kZWwucm9sZX08L3A+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtN1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyAke3RhZ0NsYXNzfVwiPiR7ZGF0ZUZvcm1hdH08L3NwYW4+ICR7bW9kZWwudXBkYXRlfVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Um9sZVRpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGVkaXRTZWN0aW9uID0gYDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+JHttb2RlbC5yZXNwb25zaWJpbGl0eX08L3A+XG5cdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0aWYgKG1vZGVsLmVkaXRhYmxlKSB7XG5cdFx0XHRcdGVkaXRTZWN0aW9uID0gYDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0PGgzIGlkPVwibXktdGl0bGVcIiBjbGFzcz1cInRpdGxlIGlzLTVcIiBjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI+JHttb2RlbC5yb2xlfTwvaDM+XG5cdFx0XHRcdFx0PHAgaWQ9XCJteS1yZXNwb25zaWJpbGl0eVwiIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwibXktcm9sZS1zYXZlXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+U2F2ZSBSb2xlPC9zcGFuPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy01XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxuXHRcdFx0XHRcdFx0XHQ8ZmlndXJlIGNsYXNzPVwibWVkaWEtbGVmdFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiaW1hZ2UgaXMtNDh4NDhcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHttb2RlbC5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLm5hbWV9PC9oMz5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy03XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdCR7ZWRpdFNlY3Rpb259XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0UHJvZ3Jlc3NVcGRhdGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IHBvc3RlZCA9IG5ldyBEYXRlKG1vZGVsLnRpbWVzdGFtcCk7XG5cdFx0XHRsZXQgZGF0ZUZvcm1hdCA9IG1vbWVudChwb3N0ZWQpLmZvcm1hdCgnTS9EIGg6bW0gQScpO1xuXHRcdFx0bGV0IGRpZmYgPSBtb21lbnQoRGF0ZS5ub3coKSkuZGlmZihtb21lbnQobW9kZWwudGltZXN0YW1wKSk7XG5cdFx0XHRsZXQgZGF5c1NpbmNlTGFzdFVwZGF0ZSA9IG1vbWVudC5kdXJhdGlvbihkaWZmKS5hc0RheXMoKTtcblx0XHRcdGxldCB0YWdDbGFzcyA9ICdpcy1zdWNjZXNzJztcblx0XHRcdGlmIChkYXlzU2luY2VMYXN0VXBkYXRlID49IDUpIHtcblx0XHRcdFx0dGFnQ2xhc3MgPSAnaXMtZGFuZ2VyJztcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGRheXNTaW5jZUxhc3RVcGRhdGUgPj0gMykge1xuXHRcdFx0XHR0YWdDbGFzcyA9ICdpcy13YXJuaW5nJztcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtNVwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZ3MgaGFzLWFkZG9uc1wiPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyAke3RhZ0NsYXNzfSBpcy1tZWRpdW1cIj4ke2RhdGVGb3JtYXR9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRhZyBpcy1tZWRpdW1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImltYWdlIGltYWdlLXRhZy1yb3VuZGVkIGlzLTMyeDMyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7bW9kZWwuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaXMtbWVkaXVtXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQke21vZGVsLm5hbWV9XG5cdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwgaXMtN1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHQke21vZGVsLnVwZGF0ZX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgndGlsZScpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldExpbmtJdGVtOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBpY29uID0gJ2ZpbGUnO1xuXHRcdFx0aWYgKG1vZGVsLnVybC5pbmRleE9mKCdkb2NzLmdvb2dsZScpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICdnb29nbGUnO1xuXHRcdFx0fSBlbHNlIGlmIChtb2RlbC51cmwuaW5kZXhPZignb21uaXBvaW50bWVudC5jb20vbWVldGluZycpID4gLTEpIHtcblx0XHRcdFx0aWNvbiA9ICdjYWxlbmRhcic7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7bW9kZWwudXJsfVwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS0ke2ljb259XCI+PC9pPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8c3Bhbj4ke21vZGVsLm5hbWV9PC9zcGFuPlxuXHRcdFx0XHQ8L2E+XG5cdFx0XHRcdDxhIGNsYXNzPVwiaXMtZGFuZ2VyIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb24gZWRpdC1saW5rXCIgZGF0YS1mb3I9XCIke21vZGVsLmtleX1cIj5cblx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtZWRpdFwiPjwvaT5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdDwvYT5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0ZWFtLWxpbmsnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRUZWFtVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufS9jaGFydGVyLmh0bWw/dGVhbT0ke21vZGVsLnRpZH1gO1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXZlcnRpY2FsXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGVcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGVcIj5cblx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBUZWFtIENoYXJ0ZXI8L2E+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbHVtbicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtNCcpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldENsYXNzVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRcdGxldCBjbGFzc0xpbmsgPSBgJHtvcmlnaW59L2NsYXNzLmh0bWw/Y2xhc3M9JHttb2RlbC5jaWR9YDtcblx0XHRcdGxldCBsaXN0ID0gT2JqZWN0LmtleXMobW9kZWwudGVhbXMpLmZpbHRlcigodGlkKSA9PiB7XG5cdFx0XHRcdHJldHVybiBPYmplY3Qua2V5cyhtb2RlbC50ZWFtc1t0aWRdKS5sZW5ndGggPiAwO1xuXHRcdFx0fSkubWFwKCh0aWQpID0+IHtcblx0XHRcdFx0bGV0IHRlYW0gPSBtb2RlbC50ZWFtc1t0aWRdO1xuXHRcdFx0XHR0ZWFtLnRpZCA9IHRpZDtcblx0XHRcdFx0cmV0dXJuIHRlYW07XG5cdFx0XHR9KTtcblx0XHRcdGxldCBuID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRsZXQgaXRlbXMgPSBsaXN0Lm1hcCgodGVhbSkgPT4ge1xuXHRcdFx0XHRsZXQgdGVhbUxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7dGVhbS50aWR9Jm1lbnRvcj10cnVlYDtcblx0XHRcdFx0bGV0IGl0ZW1IVE1MID0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtNFwiPlxuXHRcdFx0XHRcdFx0PGEgaHJlZj0ke3RlYW1MaW5rfSBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWZ1bGx3aWR0aFwiPiR7dGVhbS5uYW1lfTwvYT5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YDtcblx0XHRcdFx0cmV0dXJuIGl0ZW1IVE1MO1xuXHRcdFx0fSk7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtdmVydGljYWxcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBib3ggaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlXCI+JHttb2RlbC5uYW1lfTwvaDM+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGVcIj4ke259IHRlYW0ke24gPT09IDEgPyAnJyA6ICdzJ30gfCBDb2RlOiAke21vZGVsLmNpZH08L3A+XG5cdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIke2NsYXNzTGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBDbGFzcyBEYXNoYm9hcmQ8L2E+XG5cdFx0XHRgO1xuXHRcdFx0XHRcdFx0XHQvKjxkaXYgY2xhc3M9XCJjb2x1bW5zIGlzLW11bHRpbGluZVwiPlxuXHRcdFx0XHRcdFx0XHRcdCR7aXRlbXMuam9pbignJyl9XG5cdFx0XHRcdFx0XHRcdDwvZGl2PiovXG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0XHQvLzxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgQ2xhc3MgUHJvZ3Jlc3M8L2E+XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRVc2VyVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVkaWFcIj5cblx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiaW1hZ2UgaXMtNDh4NDggaW1hZ2UtdGFnLXJvdW5kZWRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7bW9kZWwuaW1hZ2V9XCI+XG5cdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj4ke21vZGVsLnN1YnRpdGxlfTwvcD5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRDbGFzc1RlYW1UYWJsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PHRoZWFkPlxuXHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdDx0aD5UZWFtIE5hbWU8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPk1lbWJlcnM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPkNoYXJ0ZXIgRWRpdHM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPlByb2dyZXNzIFVwZGF0ZXM8L3RoPlxuXHRcdFx0XHRcdFx0PHRoPkxhc3QgQWN0aXZlPC90aD5cblx0XHRcdFx0XHRcdDx0aD5WaWV3IFRlYW08L3RoPlxuXHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdDx0Ym9keT5cblx0XHRcdGA7XG5cdFx0XHRtb2RlbC50ZWFtcy5mb3JFYWNoKCh0ZWFtKSA9PiB7XG5cdFx0XHRcdGxldCB1cGRhdGVzID0gMDtcblx0XHRcdFx0Zm9yIChsZXQgdWlkIGluIHRlYW0udXBkYXRlcykge1xuXHRcdFx0XHRcdGZvciAobGV0IHVwaWQgaW4gdGVhbS51cGRhdGVzW3VpZF0pIHtcblx0XHRcdFx0XHRcdHVwZGF0ZXMrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0bGV0IGxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7dGVhbS50aWR9Jm1lbnRvcj10cnVlYDtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0PHRkPiR7dGVhbS5uYW1lfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHtPYmplY3Qua2V5cyh0ZWFtLm1lbWJlcnMpLmxlbmd0aH08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7T2JqZWN0LmtleXModGVhbS5lZGl0cykubGVuZ3RofTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHt1cGRhdGVzfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+JHttb21lbnQodGVhbS5sYXN0QWNjZXNzKS5mcm9tTm93KCl9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD5cblx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiR7bGlua31cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldyBDaGFydGVyPC9hPlxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRgO1xuXHRcdFx0fSk7XG5cdFx0XHRodG1sICs9IGBcblx0XHRcdFx0PC90Ym9keT5cblx0XHRcdGA7XG5cdFx0XHRsZXQgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCd0YWJsZScpO1xuXHRcdFx0XHR0YWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1uYXJyb3cnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtZnVsbHdpZHRoJyk7XG5cdFx0XHRcdHRhYmxlLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gdGFibGU7XG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gdmlld3M7XG5cbn1cblxuZXhwb3J0IHtWaWV3c307Il19\n"]}