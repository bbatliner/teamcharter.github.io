{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","2","Database","firebase","CharterFirebase","initializeApp","db","database","auth","localhost","noScreenshots","prometheus","Prometheus","init","callback","fallback","called","onAuthStateChanged","user","logon","uid","name","displayName","email","image","photoURL","login","method","provider","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","then","result","credential","accessToken","providerId","providerData","console","error","catch","getPrometheus","getCurrentUser","currentUser","saveFeedback","tid","feedback","ref","push","timestamp","Date","now","getUser","Promise","resolve","reject","once","snap","val","getTeam","team","keys","getTeamEdits","edits","onTeamChange","members","on","promises","memberMap","status","p","all","users","forEach","member","idx","updateTeamName","field","set","updateQuestion","question","updateExpectations","list","submitUpdate","update","save","type","addLink","data","url","added","updateLink","key","p1","p2","removeLink","removed","remove","updateRole","author","role","responsibility","addTemplateRole","joined","icon","updateRoleIcon","joinTeam","joinCode","success","addMember","done","removeMember","getAllTeams","orderByChild","startAt","endAt","nodes","createNewTeam","teamName","res","pathList","path","ct","getInstructorClasses","map","cid","classData","teams","resolveTeam","rejectTeam","_loop","teamList","tidx","meta","addTeamToClass","classCode","access","addInstructorToClass","isAlreadyInstructor","getInstructorsByClass","3","mainCharterTab","inviteBtn","addEventListener","origin","window","location","pathname","link","vex","dialog","prompt","message","classCodeBtn","alert","reportErrorToUser","mentorLinkBtn","isMentor","target","innerText","newName","saveQuest","classList","add","teamQuest","saveExpect","teamExpect","split","popped","pop","saveUpdate","myUpdate","promptLinkData","addMeeting","renderTeamCharter","mainProgressTab","renderProgressUpdates","updateMap","updates","updateList","subMap","upid","node","_uid","profile","sort","b","progressUpdates","innerHTML","tile","views","getProgressUpdate","appendChild","noUpdatesWarning","document","createElement","teamMembers","fillText","expectations","reduce","total","isTeamTemplate","teamUpdates","_tile","getRoleTemplateTile","editable","onSave","uidAuthor","uidEdit","model","onIconEdit","iconValue","getRoleTile","div","querySelectorAll","vexText","counter","_uid2","_member","unsafeMessage","removeIdx","ridx","parseInt","uidRemove","roleSave","getElementById","roleInput","respInput","resp","teamLinks","linkMap","links","lid","getLinkItem","dataset","_loop2","noLinks","editLinkBtns","getElementsByClassName","for","_data","vexWin","buttons","$","extend","YES","text","NO","click","close","nameInput","urlInput","_loop3","checkUserPermission","log","body","editableNodes","setAttribute","params","confirm","yes","MENTOR_MODE","err","className","spans","fillSrc","src","onTabClick","tabGroup","tab","tabid","showTab","TEAM_ID","j","otherTabs","style","display","initWithTeamCode","_callback","cancels","_config","_database","_views","qs","join","tokens","re","exec","decodeURIComponent","getQueryParams","search","mentor","Views","feedbackBtn","tabList","k","checkedPermissions","./config","./database","./views","4","getRoleAndUpdateTile","posted","dateFormat","moment","format","diff","daysSinceLastUpdate","duration","asDays","tagClass","html","editSection","editButton","button","indexOf","getTeamTile","isTemplate","getClassTile","classLink","filter","getUserTile","subtitle","getClassTeamTable","lastAccess","fromNow","table"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar config = {\n\tapiKey: \"AIzaSyBWk9EWPkkvqiruG8aYnHV0dBPg1z3EtN4\",\n\tauthDomain: \"charter-ecb07.firebaseapp.com\",\n\tdatabaseURL: \"https://charter-ecb07.firebaseio.com\",\n\tprojectId: \"charter-ecb07\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"134239305153\"\n};\nexports.config = config;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Database = function Database(firebase, config) {\n\n\tvar CharterFirebase = firebase.initializeApp(config, 'Charter Database');\n\tvar db = CharterFirebase.database();\n\tvar auth = CharterFirebase.auth();\n\tconfig.localhost = true;\n\tconfig.noScreenshots = true;\n\tvar prometheus = Prometheus(config, CharterFirebase);\n\n\tvar database = {\n\n\t\tinit: function init(callback, fallback) {\n\t\t\tvar called = false;\n\t\t\tauth.onAuthStateChanged(function (user) {\n\t\t\t\tif (user) {\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\t\tname: user.displayName,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\t\tuid: user.uid\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tcallback(user);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!called) {\n\t\t\t\t\t\tcalled = true;\n\t\t\t\t\t\tfallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(callback, method) {\n\t\t\t//auth.signOut().then((done) => {\n\t\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t\t\tif (method === 'facebook') {\n\t\t\t\tprovider = new firebase.auth.FacebookAuthProvider();\n\t\t\t}\n\t\t\tauth.signInWithPopup(provider).then(function (result) {\n\t\t\t\t//console.log(result);\n\t\t\t\tvar token = result.credential.accessToken;\n\t\t\t\tvar user = result.user;\n\t\t\t\tvar providerId = 'Unknown Provider';\n\t\t\t\ttry {\n\t\t\t\t\tproviderId = user.providerData[0].providerId;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\t//\n\t\t\t\tprometheus.logon(user.uid, {\n\t\t\t\t\tname: user.displayName,\n\t\t\t\t\temail: user.email,\n\t\t\t\t\timage: user.photoURL,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t\tprovider: providerId\n\t\t\t\t});\n\t\t\t\t//\n\t\t\t\tcallback(user);\n\t\t\t}).catch(function (error) {\n\t\t\t\t/*let errorCode = error.code;\n    let errorMessage = error.message;\n    let email = error.email;\n    let credential = error.credential;*/\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t\t/*}).catch((err) => {\n   \tconsole.error(err);\n   });*/\n\t\t},\n\n\t\tgetPrometheus: function getPrometheus() {\n\t\t\treturn prometheus;\n\t\t},\n\n\t\tgetCurrentUser: function getCurrentUser() {\n\t\t\treturn auth.currentUser || {};\n\t\t},\n\n\t\tsaveFeedback: function saveFeedback(tid, uid, feedback) {\n\t\t\treturn db.ref('feedback').push({\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid,\n\t\t\t\tfeedback: feedback,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tgetUser: function getUser(uid) {\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('prometheus/users/' + uid + '/profile').once('value', function (snap) {\n\t\t\t\t\tvar user = snap.val();\n\t\t\t\t\tresolve(user);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeam: function getTeam(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('teams/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar team = snap.val() || {};\n\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\tteam.tid = tid;\n\t\t\t\t\t\tresolve(team);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetTeamEdits: function getTeamEdits(tid) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('edits/' + tid).once('value', function (snap) {\n\t\t\t\t\tvar edits = snap.val() || {};\n\t\t\t\t\tresolve(edits);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tonTeamChange: function onTeamChange(tid, callback, fallback) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tvar members = {};\n\t\t\tdb.ref('teams/' + tid).on('value', function (snap) {\n\t\t\t\tvar promises = [];\n\t\t\t\tvar team = snap.val() || {};\n\t\t\t\tvar memberMap = team.members || {};\n\t\t\t\tfor (var uid in memberMap) {\n\t\t\t\t\tif (!(uid in members)) {\n\t\t\t\t\t\tif (memberMap[uid].status === 'template') {\n\t\t\t\t\t\t\tmembers[uid] = {\n\t\t\t\t\t\t\t\tname: 'Unknown',\n\t\t\t\t\t\t\t\timage: './public/img/no-user.png',\n\t\t\t\t\t\t\t\tuid: uid,\n\t\t\t\t\t\t\t\temail: 'team@omnipointment.com'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar p = database.getUser(uid);\n\t\t\t\t\t\t\tp.uid = uid;\n\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (promises.length > 0) {\n\t\t\t\t\tPromise.all(promises).then(function (users) {\n\t\t\t\t\t\tusers.forEach(function (member, idx) {\n\t\t\t\t\t\t\tvar uid = promises[idx].uid;\n\t\t\t\t\t\t\tmembers[uid] = member;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcallback(team, members);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallback(team, members);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tupdateTeamName: function updateTeamName(tid, uid, name) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'name',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: name,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/name').set(name);\n\t\t},\n\n\t\tupdateQuestion: function updateQuestion(tid, uid, question) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'question',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: question,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/question').set(question);\n\t\t},\n\n\t\tupdateExpectations: function updateExpectations(tid, uid, list) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'expectations',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: list,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/expectations').set(list);\n\t\t},\n\n\t\tsubmitUpdate: function submitUpdate(tid, uid, update) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'SUBMIT_UPDATE',\n\t\t\t\ttid: tid,\n\t\t\t\tupdate: update\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/updates/' + uid).push({\n\t\t\t\tupdate: update,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t},\n\n\t\taddLink: function addLink(tid, uid, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links').push({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tuid: uid,\n\t\t\t\tadded: Date.now()\n\t\t\t});\n\t\t},\n\n\t\tupdateLink: function updateLink(tid, uid, key, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdata.key = key;\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/links/' + key + '/name').set(data.name);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/links/' + key + '/url').set(data.url);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\tremoveLink: function removeLink(tid, uid, key) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given.');\n\t\t\t}\n\t\t\tif (!key) {\n\t\t\t\tthrow Error('No link id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_LINK',\n\t\t\t\ttid: tid,\n\t\t\t\tkey: key\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'link',\n\t\t\t\tuid: uid,\n\t\t\t\tvalue: {\n\t\t\t\t\tremoved: true,\n\t\t\t\t\tkey: key\n\t\t\t\t},\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/links/' + key).remove();\n\t\t},\n\n\t\tupdateRole: function updateRole(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\trole: data.role,\n\t\t\t\tresponsibility: data.responsibility\n\t\t\t});\n\t\t\t//\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\tvar p1 = db.ref('teams/' + tid + '/members/' + data.uid + '/role').set(data.role);\n\t\t\tvar p2 = db.ref('teams/' + tid + '/members/' + data.uid + '/responsibility').set(data.responsibility);\n\t\t\treturn Promise.all([p1, p2]);\n\t\t},\n\n\t\taddTemplateRole: function addTemplateRole(tid, author) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_TEMPLATE_ROLE',\n\t\t\t\ttid: tid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members').push({\n\t\t\t\tstatus: 'template',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true,\n\t\t\t\ticon: 'user'\n\t\t\t});\n\t\t},\n\n\t\tupdateRoleIcon: function updateRoleIcon(tid, author, data) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!author) {\n\t\t\t\tthrow Error('No authoring user id given.');\n\t\t\t}\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'UPDATE_ROLE_ICON',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: data.uid,\n\t\t\t\ticon: data.icon\n\t\t\t});\n\t\t\t//\n\t\t\tif (!data.uid) {\n\t\t\t\tdata.uid = author; // If someone is editing their own role\n\t\t\t}\n\t\t\tdb.ref('edits/' + tid).push({\n\t\t\t\tfield: 'role',\n\t\t\t\tuid: author,\n\t\t\t\tvalue: data,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t});\n\t\t\treturn db.ref('teams/' + tid + '/members/' + data.uid + '/icon').set(data.icon);\n\t\t},\n\n\t\tjoinTeam: function joinTeam(tid, uid, joinCode) {\n\t\t\tif (!tid) {\n\t\t\t\tthrow Error('No team id given.');\n\t\t\t}\n\t\t\tif (!uid) {\n\t\t\t\tthrow Error('No user id given');\n\t\t\t}\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\t\t\tif (joinCode === team.joinCode || !team.joinCode) {\n\t\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tsuccess: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tsuccess: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddMember: function addMember(tid, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'ADD_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).set({\n\t\t\t\tstatus: 'member',\n\t\t\t\trole: 'Team Member',\n\t\t\t\tjoined: Date.now(),\n\t\t\t\tmember: true\n\t\t\t});\n\t\t},\n\n\t\tremoveMember: function removeMember(tid, author, uid) {\n\t\t\t//\n\t\t\tprometheus.save({\n\t\t\t\ttype: 'REMOVE_MEMBER',\n\t\t\t\ttid: tid,\n\t\t\t\tuid: uid\n\t\t\t});\n\t\t\t//\n\t\t\treturn db.ref('teams/' + tid + '/members/' + uid).remove();\n\t\t},\n\n\t\tgetAllTeams: function getAllTeams(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('teams');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/member').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tresolve(nodes);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tcreateNewTeam: function createNewTeam(uid, joinCode, teamName) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('teams').push({\n\t\t\t\t\tname: teamName || 'New Team Charter',\n\t\t\t\t\tjoinCode: joinCode\n\t\t\t\t}).then(function (res) {\n\t\t\t\t\tvar pathList = res.path.ct;\n\t\t\t\t\tvar tid = pathList[pathList.length - 1];\n\t\t\t\t\t//\n\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\ttype: 'CREATE_TEAM',\n\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\tname: teamName\n\t\t\t\t\t});\n\t\t\t\t\t//\n\t\t\t\t\tdatabase.addMember(tid, uid).then(function (done) {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\ttid: tid\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reject);\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorClasses: function getInstructorClasses(uid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar ref = db.ref('classes');\n\t\t\t\tvar query = ref.orderByChild('members/' + uid + '/access').startAt(true).endAt(true);\n\t\t\t\tquery.once('value', function (snap) {\n\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\tvar list = Object.keys(nodes).map(function (cid) {\n\t\t\t\t\t\tvar classData = nodes[cid];\n\t\t\t\t\t\tclassData.cid = cid;\n\t\t\t\t\t\treturn classData;\n\t\t\t\t\t});\n\t\t\t\t\tif (list.length > 0) {\n\t\t\t\t\t\tvar promises = [];\n\t\t\t\t\t\tlist.forEach(function (classData) {\n\t\t\t\t\t\t\tvar cid = classData.cid;\n\n\t\t\t\t\t\t\tvar _loop = function _loop(tid) {\n\t\t\t\t\t\t\t\tvar p = new Promise(function (resolveTeam, rejectTeam) {\n\t\t\t\t\t\t\t\t\tdatabase.getTeam(tid).then(resolveTeam).catch(rejectTeam);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tp.cid = cid;\n\t\t\t\t\t\t\t\tpromises.push(p);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var tid in classData.teams) {\n\t\t\t\t\t\t\t\t_loop(tid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tPromise.all(promises).then(function (teamList) {\n\t\t\t\t\t\t\tteamList.forEach(function (team, tidx) {\n\t\t\t\t\t\t\t\tvar meta = promises[tidx];\n\t\t\t\t\t\t\t\tif (nodes[meta.cid]) {\n\t\t\t\t\t\t\t\t\tif (nodes[meta.cid].teams[team.tid]) {\n\t\t\t\t\t\t\t\t\t\tnodes[meta.cid].teams[team.tid] = team;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(nodes);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t}).catch(reject);\n\t\t\t});\n\t\t},\n\n\t\taddTeamToClass: function addTeamToClass(tid, uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\ttype: 'ADD_TEAM_TO_CLASS',\n\t\t\t\t\t\t\ttid: tid,\n\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//\n\t\t\t\t\t\tdb.ref('classes/' + code + '/teams/' + tid).set({\n\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\tresolve(classData);\n\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\taddInstructorToClass: function addInstructorToClass(uid, code) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tdb.ref('classes/' + code).once('value', function (snap) {\n\t\t\t\t\tvar classData = snap.val();\n\t\t\t\t\tif (classData) {\n\t\t\t\t\t\tvar memberMap = classData.members || {};\n\t\t\t\t\t\tif (uid in memberMap) {\n\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\tisAlreadyInstructor: true,\n\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tprometheus.save({\n\t\t\t\t\t\t\t\ttype: 'ADD_INSTRUCTOR_TO_CLASS',\n\t\t\t\t\t\t\t\tclassCode: code\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tdb.ref('classes/' + code + '/members/' + uid).set({\n\t\t\t\t\t\t\t\taccess: true,\n\t\t\t\t\t\t\t\ttype: 'instructor',\n\t\t\t\t\t\t\t\tjoined: Date.now()\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\tisAlreadyInstructor: false,\n\t\t\t\t\t\t\t\t\tclassData: classData\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}).catch(reject);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject('Could not find a class with code: ' + code + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tgetInstructorsByClass: function getInstructorsByClass(classCode) {}\n\n\t};\n\n\treturn database;\n};\n\nexports.Database = Database;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _config = require('./config');\n\nvar _database = require('./database');\n\nvar _views = require('./views');\n\nvar database = (0, _database.Database)(firebase, _config.config);\n\nvar params = getQueryParams(document.location.search);\nvar TEAM_ID = params.team;\nvar MENTOR_MODE = params.mentor ? true : false;\n\nvar views = (0, _views.Views)();\n\nvar loginBtn = document.getElementById('login');\nvar feedbackBtn = document.getElementById('feedback');\n\nvar inviteBtn = document.getElementById('invite');\nvar classCodeBtn = document.getElementById('class-code');\nvar mentorLinkBtn = document.getElementById('mentor-link');\nvar tabList = document.getElementsByClassName('charter-tab');\n\nvar teamName = document.getElementById('team-name');\nvar teamQuest = document.getElementById('team-question');\nvar saveQuest = document.getElementById('save-question');\nvar teamExpect = document.getElementById('team-expectations');\nvar saveExpect = document.getElementById('save-expectations');\nvar myUpdate = document.getElementById('my-update');\nvar saveUpdate = document.getElementById('save-update');\nvar teamUpdates = document.getElementById('team-updates');\nvar addLink = document.getElementById('add-link');\nvar teamLinks = document.getElementById('team-links');\nvar addMeeting = document.getElementById('add-meeting');\n\nvar progressUpdates = document.getElementById('progress-updates');\n//let charterUpdates = document.getElementById('charter-updates');\n\n/*loginBtn.addEventListener('click', (e) => {\n\tdatabase.login(main);\n});*/\n\ndatabase.init(main, function () {\n\t// No user signed in\n\twindow.location = window.location.origin + '/login.html' + document.location.search;\n});\n\nfunction main(user) {\n\n\tinitWithTeamCode(function (tid) {\n\n\t\tconsole.log('What makes working at Omnipointment better than, say, Google?');\n\n\t\tfillText('fill-user-name', user.displayName);\n\t\tfillSrc('fill-user-image', user.photoURL);\n\n\t\tvar _loop = function _loop(k) {\n\t\t\ttabList[k].addEventListener('click', function (e) {\n\t\t\t\tonTabClick(tabList, tabList[k]);\n\t\t\t});\n\t\t};\n\n\t\tfor (var k = 0; k < tabList.length; k++) {\n\t\t\t_loop(k);\n\t\t}\n\n\t\t// Show the Charter tab when the page loads\n\t\tonTabClick(tabList, document.querySelectorAll('.charter-tab[data-tab=\"container-charter\"]')[0]);\n\n\t\tvar prometheus = database.getPrometheus();\n\n\t\tfeedbackBtn.addEventListener('click', function (e) {\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'What feedback do you have to share with us?',\n\t\t\t\tcallback: function callback(feedback) {\n\t\t\t\t\tif (feedback) {\n\t\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\t\tdatabase.saveFeedback(tid, uid, feedback).then(function (done) {\n\t\t\t\t\t\t\tvex.dialog.alert('Thank you for your feedback, it really helps us a lot!');\n\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tvar checkedPermissions = false;\n\t\tdatabase.onTeamChange(tid, function (team, members) {\n\t\t\tif (!checkedPermissions) {\n\t\t\t\tcheckUserPermission(tid, team, members);\n\t\t\t\tcheckedPermissions = true;\n\t\t\t}\n\t\t}, reportErrorToUser);\n\n\t\tdatabase.getPrometheus().save({\n\t\t\ttype: 'CHARTER_PAGE',\n\t\t\ttid: tid,\n\t\t\tmentor: isMentor()\n\t\t});\n\n\t\tmainCharterTab(user, tid);\n\t\tmainProgressTab(user, tid);\n\t});\n}\n\nfunction mainCharterTab(user, tid) {\n\n\tinviteBtn.addEventListener('click', function (e) {\n\t\tdatabase.getTeam(tid).then(function (team) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar pathname = window.location.pathname;\n\t\t\tvar code = team.joinCode || false;\n\t\t\tvar linkEnd = code ? '&code=' + code : '';\n\t\t\tvar link = '' + origin + pathname + '?team=' + tid + linkEnd;\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'Send this link to your teammates:',\n\t\t\t\tvalue: link,\n\t\t\t\tcallback: function callback() {}\n\t\t\t});\n\t\t});\n\t});\n\n\tclassCodeBtn.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Enter the code from your instructor (case sensitive):',\n\t\t\tcallback: function callback(code) {\n\t\t\t\tif (code) {\n\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\tdatabase.addTeamToClass(tid, uid, code).then(function (classData) {\n\t\t\t\t\t\tvex.dialog.alert({\n\t\t\t\t\t\t\tmessage: 'Successfully added your team to ' + classData.name + '!'\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tmentorLinkBtn.addEventListener('click', function (e) {\n\t\tvar origin = window.location.origin;\n\t\tvar pathname = window.location.pathname;\n\t\tvar link = '' + origin + pathname + '?team=' + tid + '&mentor=true';\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Send this link to a mentor:',\n\t\t\tvalue: link,\n\t\t\tcallback: function callback() {}\n\t\t});\n\t});\n\n\tteamName.addEventListener('click', function (e) {\n\t\tif (!isMentor()) {\n\t\t\tvar name = e.target.innerText;\n\t\t\tvex.dialog.prompt({\n\t\t\t\tmessage: 'Edit your team name:',\n\t\t\t\tvalue: name,\n\t\t\t\tcallback: function callback(newName) {\n\t\t\t\t\tif (newName) {\n\t\t\t\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\t\t\t\tdatabase.updateTeamName(tid, uid, newName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tsaveQuest.addEventListener('click', function (e) {\n\t\tsaveQuest.classList.add('is-loading');\n\t\tvar uid = database.getCurrentUser().uid;\n\t\tvar question = teamQuest.innerText;\n\t\tdatabase.updateQuestion(tid, uid, question).then(function (done) {\n\t\t\tsaveQuest.classList.remove('is-loading');\n\t\t}).catch(reportErrorToUser);\n\t});\n\n\tsaveExpect.addEventListener('click', function (e) {\n\t\tsaveExpect.classList.add('is-loading');\n\t\tvar uid = database.getCurrentUser().uid;\n\t\tvar text = teamExpect.innerText;\n\t\tvar list = text.split('\\n');\n\t\tvar popped = list.pop();\n\t\tif (!popped.length < 1) {\n\t\t\tlist.push(popped);\n\t\t}\n\t\tdatabase.updateExpectations(tid, uid, list).then(function (done) {\n\t\t\tsaveExpect.classList.remove('is-loading');\n\t\t}).catch(reportErrorToUser);\n\t});\n\n\tsaveUpdate.addEventListener('click', function (e) {\n\t\tsaveUpdate.classList.add('is-loading');\n\t\tvar uid = database.getCurrentUser().uid;\n\t\tvar update = myUpdate.value;\n\t\tdatabase.submitUpdate(tid, uid, update).then(function (done) {\n\t\t\tsaveUpdate.classList.remove('is-loading');\n\t\t\tmyUpdate.value = '';\n\t\t}).catch(reportErrorToUser);\n\t});\n\n\taddLink.addEventListener('click', function (e) {\n\t\tpromptLinkData(e, tid, 'Paste the URL:');\n\t});\n\n\taddMeeting.addEventListener('click', function (e) {\n\t\t//let omniWin = window.open('https://www.omnipointment.com/meeting/create');\n\t\tpromptLinkData(e, tid, 'Paste the link to your Omnipointment:');\n\t});\n\n\tdatabase.onTeamChange(tid, function (team, members) {\n\t\tif (Object.keys(team).length > 0) {\n\t\t\trenderTeamCharter(tid, team, members);\n\t\t}\n\t}, reportErrorToUser);\n}\n\nfunction promptLinkData(e, tid, message) {\n\tvar uid = database.getCurrentUser().uid;\n\tvex.dialog.prompt({\n\t\tmessage: message,\n\t\tcallback: function callback(url) {\n\t\t\tif (url) {\n\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\tmessage: 'What is the name of this link?',\n\t\t\t\t\tcallback: function callback(name) {\n\t\t\t\t\t\tif (url && name) {\n\t\t\t\t\t\t\taddLink.classList.add('is-loading');\n\t\t\t\t\t\t\tdatabase.addLink(tid, uid, {\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\taddLink.classList.remove('is-loading');\n\t\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction mainProgressTab(user, tid) {\n\n\tdatabase.onTeamChange(tid, function (team, members) {\n\n\t\tvar isTeamTemplate = team.status === 'template';\n\t\tif (!isTeamTemplate) {\n\t\t\trenderProgressUpdates(tid, team, members);\n\t\t}\n\t}, reportErrorToUser);\n}\n\nfunction renderProgressUpdates(tid, team, members) {\n\tvar updateMap = team.updates || {};\n\n\tvar updateList = [];\n\n\tfor (var uid in updateMap) {\n\t\tvar subMap = updateMap[uid];\n\t\tfor (var upid in subMap) {\n\t\t\tvar node = subMap[upid];\n\t\t\tnode.uid = uid;\n\t\t\tnode.key = upid;\n\t\t\tupdateList.push(node);\n\t\t}\n\t}\n\n\tfor (var _uid in team.members) {\n\t\tvar member = team.members[_uid];\n\t\tvar profile = members[_uid];\n\t\tupdateList.push({\n\t\t\tupdate: profile.name + ' joined the team.',\n\t\t\ttimestamp: member.joined,\n\t\t\tuid: _uid,\n\t\t\tkey: _uid + '-joined'\n\t\t});\n\t}\n\n\tupdateList.sort(function (a, b) {\n\t\treturn b.timestamp - a.timestamp;\n\t});\n\n\tprogressUpdates.innerHTML = '';\n\n\tif (updateList.length > 0) {\n\t\tupdateList.forEach(function (update) {\n\t\t\tvar author = members[update.uid];\n\t\t\tif (update.update.length > 0) {\n\t\t\t\tvar tile = views.getProgressUpdate({\n\t\t\t\t\tname: author.name,\n\t\t\t\t\trole: team.members[update.uid].role,\n\t\t\t\t\timage: author.image,\n\t\t\t\t\tupdate: update.update,\n\t\t\t\t\ttimestamp: update.timestamp\n\t\t\t\t});\n\t\t\t\tprogressUpdates.appendChild(tile);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tvar noUpdatesWarning = document.createElement('div');\n\t\tnoUpdatesWarning.innerHTML = '<div class=\"content\">\\n\\t\\t\\t<h4>No updates to show :(</h4>\\n\\t\\t</div>';\n\t\tprogressUpdates.appendChild(noUpdatesWarning);\n\t}\n}\n\nfunction renderTeamCharter(tid, team, members) {\n\n\tvar teamMembers = team.members || {};\n\n\tif (team.name) {\n\t\tfillText('fill-team-name', team.name);\n\t}\n\tif (team.question) {\n\t\tfillText('fill-team-question', team.question);\n\t}\n\n\tvar expectations = team.expectations || [];\n\tif (expectations.length > 0) {\n\t\tteamExpect.innerHTML = expectations.reduce(function (total, val) {\n\t\t\treturn total + ('<li>' + val + '</li>');\n\t\t}, '');\n\t}\n\n\t/*let allUpdates = team.updates || {};\n teamUpdates.innerHTML = '';\n for (let uid in teamMembers) {\n \tlet user = members[uid];\n \tlet updateMap = allUpdates[uid] || {};\n \tlet updateList = Object.keys(updateMap).map(upid => updateMap[upid]).sort((a, b) => {\n \t\treturn b.timestamp - a.timestamp;\n \t});\n \tlet update = updateList[0];\n \tlet message = 'No updates yet.';\n \tlet ts = teamMembers[uid].joined;\n \tif (update) {\n \t\tmessage = update.update;\n \t\tts = update.timestamp;\n \t}\n \tlet tile = views.getRoleAndUpdateTile({\n \t\tname: user.name,\n \t\trole: team.members[uid].role,\n \t\timage: user.image,\n \t\tupdate: message,\n \t\ttimestamp: ts\n \t});\n \tteamUpdates.appendChild(tile);\n }*/\n\n\tvar isTeamTemplate = team.status === 'template';\n\n\tteamUpdates.innerHTML = '';\n\tfor (var uid in teamMembers) {\n\t\tvar user = members[uid];\n\t\tvar member = teamMembers[uid];\n\t\tif (member.status === 'member' && !isTeamTemplate) {\n\t\t\tvar tile = views.getRoleTile({\n\t\t\t\tname: user.name,\n\t\t\t\trole: member.role,\n\t\t\t\timage: user.image,\n\t\t\t\tresponsibility: member.responsibility || 'What are you responsible for?',\n\t\t\t\teditable: uid === database.getCurrentUser().uid && !isMentor()\n\t\t\t});\n\t\t\tteamUpdates.appendChild(tile);\n\t\t} else if (member.status === 'template') {\n\t\t\tvar _tile = views.getRoleTemplateTile({\n\t\t\t\tname: user.name,\n\t\t\t\trole: member.role,\n\t\t\t\timage: user.image,\n\t\t\t\ticon: member.icon,\n\t\t\t\tresponsibility: member.responsibility || 'What are you responsible for?',\n\t\t\t\teditable: !isMentor(),\n\t\t\t\tuid: uid,\n\t\t\t\tonSave: function onSave(data) {\n\t\t\t\t\t//console.log(data);\n\t\t\t\t\tvar uidAuthor = database.getCurrentUser().uid;\n\t\t\t\t\tvar uidEdit = data.model.uid;\n\t\t\t\t\tdatabase.updateRole(tid, uidAuthor, {\n\t\t\t\t\t\trole: data.role,\n\t\t\t\t\t\tresponsibility: data.responsibility,\n\t\t\t\t\t\tuid: uidEdit\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tonIconEdit: function onIconEdit(data) {\n\t\t\t\t\tvar uidAuthor = database.getCurrentUser().uid;\n\t\t\t\t\tvar uidEdit = data.model.uid;\n\t\t\t\t\tvex.dialog.prompt({\n\t\t\t\t\t\tmessage: 'Change icon for ' + data.model.role + '?',\n\t\t\t\t\t\tvalue: data.model.icon,\n\t\t\t\t\t\tcallback: function callback(iconValue) {\n\t\t\t\t\t\t\tdatabase.updateRoleIcon(tid, uidAuthor, {\n\t\t\t\t\t\t\t\tuid: uidEdit,\n\t\t\t\t\t\t\t\ticon: iconValue\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tteamUpdates.appendChild(_tile);\n\t\t}\n\t}\n\n\tif (isTeamTemplate) {\n\t\tvar div = document.createElement('div');\n\t\tdiv.classList.add('field');\n\t\tdiv.classList.add('is-grouped');\n\t\tdiv.classList.add('is-grouped-centered');\n\t\tdiv.classList.add('is-hidden-to-mentor');\n\t\tdiv.innerHTML = '\\n\\t\\t\\t<div class=\"control\">\\n\\t\\t\\t\\t<button data-bind=\"button-add-role\" class=\"button is-primary is-outlined\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-user\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>Add Role</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button data-bind=\"button-remove-role\" class=\"button is-danger is-outlined\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-remove\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>Remove Role</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t';\n\t\tvar btnAdd = div.querySelectorAll('[data-bind=button-add-role]')[0];\n\t\tbtnAdd.addEventListener('click', function (e) {\n\t\t\tvar uidAuthor = database.getCurrentUser().uid;\n\t\t\tdatabase.addTemplateRole(tid, uidAuthor);\n\t\t});\n\t\tvar btnRemove = div.querySelectorAll('[data-bind=button-remove-role]')[0];\n\t\tbtnRemove.addEventListener('click', function (e) {\n\t\t\tvar vexText = '\\n\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t<h5 class=\"title\">Enter the Number of the Role to Remove</h5>\\n\\t\\t\\t\\t\\t<ul>';\n\t\t\tvar counter = 1;\n\t\t\tvar map = {};\n\t\t\tfor (var _uid2 in teamMembers) {\n\t\t\t\tvar _user = members[_uid2];\n\t\t\t\tvar _member = teamMembers[_uid2];\n\t\t\t\tif (_member.status === 'template') {\n\t\t\t\t\tvexText += '<li>' + counter + ': ' + _member.role + '</li>';\n\t\t\t\t\tmap[counter] = _uid2;\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvexText += '\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t</div>';\n\t\t\tvex.dialog.prompt({\n\t\t\t\tunsafeMessage: vexText,\n\t\t\t\tcallback: function callback(removeIdx) {\n\t\t\t\t\tif (removeIdx) {\n\t\t\t\t\t\tvar author = database.getCurrentUser().uid;\n\t\t\t\t\t\tvar ridx = parseInt(removeIdx, 10);\n\t\t\t\t\t\tvar uidRemove = map[ridx];\n\t\t\t\t\t\tif (uidRemove) {\n\t\t\t\t\t\t\tdatabase.removeMember(tid, author, uidRemove);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tteamUpdates.appendChild(div);\n\t}\n\n\tvar roleSave = document.getElementById('my-role-save');\n\tvar roleInput = document.getElementById('my-title');\n\tvar respInput = document.getElementById('my-responsibility');\n\tif (roleSave && roleInput && respInput) {\n\t\troleSave.addEventListener('click', function (e) {\n\t\t\troleSave.classList.add('is-loading');\n\t\t\tvar role = roleInput.innerText;\n\t\t\tvar resp = respInput.innerText;\n\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\tdatabase.updateRole(tid, uid, {\n\t\t\t\trole: role,\n\t\t\t\tresponsibility: resp\n\t\t\t}).then(function (done) {\n\t\t\t\troleSave.classList.remove('is-loading');\n\t\t\t}).catch(reportErrorToUser);\n\t\t});\n\t}\n\n\tteamLinks.innerHTML = '';\n\tvar linkMap = team.links || {};\n\tif (Object.keys(linkMap).length > 0) {\n\t\tvar _loop2 = function _loop2(lid) {\n\t\t\tvar data = linkMap[lid];\n\t\t\tvar link = views.getLinkItem({\n\t\t\t\tname: data.name,\n\t\t\t\turl: data.url,\n\t\t\t\tkey: lid\n\t\t\t});\n\t\t\tlink.dataset.key = lid;\n\t\t\tlink.addEventListener('click', function (e) {\n\t\t\t\tdatabase.getPrometheus().save({\n\t\t\t\t\t//console.log({\n\t\t\t\t\ttype: 'CLICK_TEAM_LINK',\n\t\t\t\t\tkey: lid,\n\t\t\t\t\tname: data.name,\n\t\t\t\t\turl: data.url\n\t\t\t\t});\n\t\t\t});\n\t\t\tteamLinks.appendChild(link);\n\t\t};\n\n\t\tfor (var lid in linkMap) {\n\t\t\t_loop2(lid);\n\t\t}\n\t} else {\n\t\tvar noLinks = document.createElement('div');\n\t\tnoLinks.innerHTML = '<div class=\"content\">\\n\\t\\t\\t\\t<p class=\"is-6\">No links yet.</p>\\n\\t\\t\\t</div>';\n\t\tteamLinks.appendChild(noLinks);\n\t}\n\n\tvar editLinkBtns = teamLinks.getElementsByClassName('edit-link');\n\n\tvar _loop3 = function _loop3(b) {\n\t\teditLinkBtns[b].addEventListener('click', function (e) {\n\t\t\tvar key = editLinkBtns[b].dataset.for;\n\t\t\tvar uid = database.getCurrentUser().uid;\n\t\t\tif (key) {\n\t\t\t\tvar _data = linkMap[key];\n\t\t\t\tvar vexWin = vex.dialog.alert({\n\t\t\t\t\tunsafeMessage: '\\n\\t\\t\\t\\t\\t\\t<div class=\"field\">\\n\\t\\t\\t\\t\\t\\t\\t<label class=\"label\">Name</label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"control\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\"edit-link-name\" type=\"text\" class=\"input is-primary\" value=\"' + _data.name + '\">\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"field\">\\n\\t\\t\\t\\t\\t\\t\\t<label class=\"label\">URL</label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"control\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\"edit-link-url\" type=\"text\" class=\"input is-primary\" value=\"' + _data.url + '\">\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t',\n\t\t\t\t\tbuttons: [$.extend({}, vex.dialog.buttons.YES, { text: 'Save' }), $.extend({}, vex.dialog.buttons.NO, { text: 'Delete', click: function click(e) {\n\t\t\t\t\t\t\tdatabase.removeLink(tid, uid, key).catch(reportErrorToUser);\n\t\t\t\t\t\t\tvexWin.close();\n\t\t\t\t\t\t} }), $.extend({}, vex.dialog.buttons.NO, { text: 'Cancel' })],\n\t\t\t\t\tcallback: function callback(save) {\n\t\t\t\t\t\tif (save) {\n\t\t\t\t\t\t\tvar nameInput = document.getElementById('edit-link-name');\n\t\t\t\t\t\t\tvar urlInput = document.getElementById('edit-link-url');\n\t\t\t\t\t\t\t//console.log(nameInput.value, urlInput.value);\n\t\t\t\t\t\t\tif (nameInput.value && urlInput.value) {\n\t\t\t\t\t\t\t\tdatabase.updateLink(tid, uid, key, {\n\t\t\t\t\t\t\t\t\tname: nameInput.value,\n\t\t\t\t\t\t\t\t\turl: urlInput.value\n\t\t\t\t\t\t\t\t}).catch(reportErrorToUser);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tfor (var b = 0; b < editLinkBtns.length; b++) {\n\t\t_loop3(b);\n\t}\n}\n\nfunction checkUserPermission(tid, team, members) {\n\t/*return new Promise((resolve, reject) => {\n \t});*/\n\n\tif (isMentor()) {\n\t\tconsole.log('in mentor mode');\n\t\tdocument.body.classList.add('mentoring');\n\t\tvar editableNodes = document.querySelectorAll('[contenteditable=true]');\n\t\tfor (var n = 0; n < editableNodes.length; n++) {\n\t\t\teditableNodes[n].setAttribute('contenteditable', false);\n\t\t}\n\t}\n\n\tvar uid = database.getCurrentUser().uid;\n\tif (uid in members || isMentor()) {\n\t\tif (Object.keys(team).length > 0) {\n\t\t\trenderTeamCharter(tid, team, members);\n\t\t}\n\t} else if (params.code) {\n\t\tvex.dialog.confirm({\n\t\t\tmessage: 'Do you want to join ' + (team.name || 'this team') + '?',\n\t\t\tbuttons: [$.extend({}, vex.dialog.buttons.YES, { text: 'Yes' }), $.extend({}, vex.dialog.buttons.NO, { text: 'No' })],\n\t\t\tcallback: function callback(yes) {\n\t\t\t\tif (yes) {\n\t\t\t\t\tdatabase.joinTeam(tid, uid, params.code).then(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\tvex.dialog.alert({\n\t\t\t\t\t\t\t\tmessage: 'Congratulations, you just joined ' + (team.name || 'your new team') + '!'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (Object.keys(team).length > 0) {\n\t\t\t\t\t\t\t\trenderTeamCharter(tid, team, members);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.location = window.location.origin + '/me.html';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.location = window.location.origin + '/me.html';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\twindow.location = window.location.origin + '/me.html';\n\t}\n}\n\nfunction isMentor() {\n\treturn MENTOR_MODE;\n}\n\nfunction reportErrorToUser(err) {\n\tvex.dialog.alert(err + '');\n}\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nfunction fillText(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].innerText = text;\n\t}\n}\n\nfunction fillSrc(className, text) {\n\tvar spans = document.getElementsByClassName(className);\n\tfor (var s = 0; s < spans.length; s++) {\n\t\tspans[s].src = text;\n\t}\n}\n\nfunction onTabClick(tabGroup, tab) {\n\tvar tabid = tab.dataset.tab;\n\tvar showTab = document.getElementById(tabid);\n\tif (showTab) {\n\t\tdatabase.getPrometheus().save({\n\t\t\ttype: 'CHANGE_TAB',\n\t\t\ttid: TEAM_ID,\n\t\t\ttab: tabid\n\t\t});\n\t\tfor (var j = 0; j < tabGroup.length; j++) {\n\t\t\ttabGroup[j].classList.remove('is-active');\n\t\t}\n\t\tvar otherTabs = document.getElementsByClassName('tabbed-container');\n\t\tfor (var i = 0; i < otherTabs.length; i++) {\n\t\t\totherTabs[i].style.display = 'none';\n\t\t}\n\t\tshowTab.style.display = 'block';\n\t\ttab.classList.add('is-active');\n\t}\n}\n\nvar cancels = 0;\nfunction initWithTeamCode(_callback) {\n\tif (TEAM_ID) {\n\t\t_callback(TEAM_ID);\n\t} else {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Enter your team code:',\n\t\t\tcallback: function callback(code) {\n\t\t\t\tif (code) {\n\t\t\t\t\t_callback(code);\n\t\t\t\t} else if (cancels >= 1) {\n\t\t\t\t\twindow.location = './';\n\t\t\t\t} else {\n\t\t\t\t\tcancels++;\n\t\t\t\t\tinitWithTeamCode(_callback);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n},{\"./config\":1,\"./database\":2,\"./views\":4}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetRoleAndUpdateTile: function getRoleAndUpdateTile(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"media-content content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.role + '</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + '\">' + dateFormat + '</span> ' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTile: function getRoleTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 id=\"my-title\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p id=\"my-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t\\t<button id=\"my-role-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetRoleTemplateTile: function getRoleTemplateTile(model) {\n\t\t\tvar editSection = '<div class=\"content\">\\n\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.role + '</h3>\\n\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.responsibility + '</p>\\n\\t\\t\\t</div>';\n\t\t\tvar editButton = '';\n\t\t\tif (model.editable) {\n\t\t\t\teditSection = '<div class=\"content\">\\n\\t\\t\\t\\t\\t<h3 data-bind=\"field-role\" class=\"title is-5\" contenteditable=\"true\">' + model.role + '</h3>\\n\\t\\t\\t\\t\\t<p data-bind=\"field-responsibility\" class=\"subtitle is-6\" contenteditable=\"true\">' + model.responsibility + '</p>\\n\\t\\t\\t\\t</div>';\n\t\t\t\teditButton = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-4\">\\n\\t\\t\\t\\t\\t<button data-bind=\"button-save\" class=\"button is-primary is-outlined is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t<span>Save Role</span>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical {model.editable ? \\'is-8\\' : \\'is-12\\'}\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div data-bind=\"field-icon\" class=\"image is-48x48 icon-image\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + (model.icon || 'user') + '\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t\\t\\t' + editSection + '\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t' + editButton + '\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\tif (model.editable && model.onSave) {\n\t\t\t\tvar button = div.querySelectorAll('[data-bind=button-save]')[0];\n\t\t\t\tvar role = div.querySelectorAll('[data-bind=field-role]')[0];\n\t\t\t\tvar resp = div.querySelectorAll('[data-bind=field-responsibility]')[0];\n\t\t\t\tbutton.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onSave({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t\trole: role.innerText,\n\t\t\t\t\t\tresponsibility: resp.innerText\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tvar iconEdit = div.querySelectorAll('[data-bind=field-icon]')[0];\n\t\t\t\ticonEdit.addEventListener('click', function (e) {\n\t\t\t\t\tmodel.onIconEdit({\n\t\t\t\t\t\te: e,\n\t\t\t\t\t\tmodel: model\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn div;\n\t\t},\n\n\t\tgetProgressUpdate: function getProgressUpdate(model) {\n\t\t\tvar posted = new Date(model.timestamp);\n\t\t\tvar dateFormat = moment(posted).format('M/D h:mm A');\n\t\t\tvar diff = moment(Date.now()).diff(moment(model.timestamp));\n\t\t\tvar daysSinceLastUpdate = moment.duration(diff).asDays();\n\t\t\tvar tagClass = 'is-success';\n\t\t\tif (daysSinceLastUpdate >= 5) {\n\t\t\t\ttagClass = 'is-danger';\n\t\t\t} else if (daysSinceLastUpdate >= 3) {\n\t\t\t\ttagClass = 'is-warning';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-5\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<span class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag ' + tagClass + ' is-medium\">' + dateFormat + '</span>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"image image-tag-rounded is-32x32\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\"is-medium\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t' + model.name + '\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"tile is-parent is-vertical is-7\">\\n\\t\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t' + model.update + '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('tile');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetLinkItem: function getLinkItem(model) {\n\t\t\tvar icon = 'file';\n\t\t\tif (model.url.indexOf('docs.google') > -1) {\n\t\t\t\ticon = 'google';\n\t\t\t} else if (model.url.indexOf('omnipointment.com/meeting') > -1) {\n\t\t\t\ticon = 'calendar';\n\t\t\t}\n\t\t\tvar html = '\\n\\t\\t\\t\\t<a target=\"_blank\" href=\"' + model.url + '\">\\n\\t\\t\\t\\t\\t<span class=\"icon\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-' + icon + '\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span>' + model.name + '</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a class=\"is-danger is-hidden-to-mentor\">\\n\\t\\t\\t\\t\\t<span class=\"icon edit-link\" data-for=\"' + model.key + '\">\\n\\t\\t\\t\\t\\t\\t<i class=\"fa fa-edit\"></i>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('team-link');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetTeamTile: function getTeamTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar link = origin + '/charter.html?team=' + model.tid;\n\t\t\tvar tag = '<span class=\"tag is-warning\">Template</span>';\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"box\">\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + ' ' + (model.isTemplate ? tag : '') + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"tile\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Team Charter</a>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTile: function getClassTile(model) {\n\t\t\tvar origin = window.location.origin;\n\t\t\tvar classLink = origin + '/class.html?class=' + model.cid;\n\t\t\tvar list = Object.keys(model.teams).filter(function (tid) {\n\t\t\t\treturn Object.keys(model.teams[tid]).length > 0;\n\t\t\t}).map(function (tid) {\n\t\t\t\tvar team = model.teams[tid];\n\t\t\t\tteam.tid = tid;\n\t\t\t\treturn team;\n\t\t\t});\n\t\t\tvar n = list.length;\n\t\t\tvar items = list.map(function (team) {\n\t\t\t\tvar teamLink = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\tvar itemHTML = '\\n\\t\\t\\t\\t\\t<div class=\"column is-4\">\\n\\t\\t\\t\\t\\t\\t<a href=' + teamLink + ' class=\"button is-primary is-outlined is-fullwidth\">' + team.name + '</a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t';\n\t\t\t\treturn itemHTML;\n\t\t\t});\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-vertical\">\\n\\t\\t\\t\\t\\t<div class=\"tile box is-child\">\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle\">' + n + ' team' + (n === 1 ? '' : 's') + ' | Code: ' + model.cid + '</p>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + classLink + '\" class=\"button is-primary is-outlined\">View Class Dashboard</a>\\n\\t\\t\\t';\n\t\t\t/*<div class=\"columns is-multiline\">\n   \t${items.join('')}\n   </div>*/\n\t\t\thtml += '\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>';\n\t\t\t//<a href=\"${link}\" class=\"button is-primary is-outlined\">View Class Progress</a>\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetUserTile: function getUserTile(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"tile is-child\">\\n\\t\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t\\t<figure class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"image is-48x48 image-tag-rounded\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<img src=\"' + model.image + '\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t\\t<div class=\"content\">\\n\\t\\t\\t\\t\\t\\t\\t<h3 class=\"title is-5\">' + model.name + '</h3>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-6\">' + model.subtitle + '</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.classList.add('column');\n\t\t\tdiv.classList.add('is-4');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetClassTeamTable: function getClassTeamTable(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<th>Team Name</th>\\n\\t\\t\\t\\t\\t\\t<th>Members</th>\\n\\t\\t\\t\\t\\t\\t<th>Charter Edits</th>\\n\\t\\t\\t\\t\\t\\t<th>Progress Updates</th>\\n\\t\\t\\t\\t\\t\\t<th>Last Active</th>\\n\\t\\t\\t\\t\\t\\t<th>View Team</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t';\n\t\t\tmodel.teams.forEach(function (team) {\n\t\t\t\tvar updates = 0;\n\t\t\t\tfor (var uid in team.updates) {\n\t\t\t\t\tfor (var upid in team.updates[uid]) {\n\t\t\t\t\t\tupdates++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar link = origin + '/charter.html?team=' + team.tid + '&mentor=true';\n\t\t\t\thtml += '\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>' + team.name + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(team.members).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + Object.keys(team.edits).length + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + updates + '</td>\\n\\t\\t\\t\\t\\t\\t<td>' + moment(team.lastAccess).fromNow() + '</td>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<a href=\"' + link + '\" class=\"button is-primary is-outlined\">View Charter</a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t';\n\t\t\t});\n\t\t\thtml += '\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t';\n\t\t\tvar table = document.createElement('table');\n\t\t\ttable.classList.add('table');\n\t\t\ttable.classList.add('is-narrow');\n\t\t\ttable.classList.add('is-fullwidth');\n\t\t\ttable.innerHTML = html;\n\t\t\treturn table;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2RhdGFiYXNlLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvdmlld3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQ0FBLElBQUksU0FBUztBQUNaLFNBQVEseUNBREk7QUFFWixhQUFZLCtCQUZBO0FBR1osY0FBYSxzQ0FIRDtBQUlaLFlBQVcsZUFKQztBQUtaLGdCQUFlLEVBTEg7QUFNWixvQkFBbUI7QUFOUCxDQUFiO1FBUVEsTSxHQUFBLE07Ozs7Ozs7O0FDUlIsSUFBSSxXQUFXLFNBQVgsUUFBVyxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQXNCOztBQUVwQyxLQUFJLGtCQUFrQixTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsRUFBK0Isa0JBQS9CLENBQXRCO0FBQ0EsS0FBSSxLQUFLLGdCQUFnQixRQUFoQixFQUFUO0FBQ0EsS0FBSSxPQUFPLGdCQUFnQixJQUFoQixFQUFYO0FBQ0MsUUFBTyxTQUFQLEdBQW1CLElBQW5CO0FBQ0EsUUFBTyxhQUFQLEdBQXVCLElBQXZCO0FBQ0QsS0FBSSxhQUFhLFdBQVcsTUFBWCxFQUFtQixlQUFuQixDQUFqQjs7QUFFQSxLQUFJLFdBQVc7O0FBRWQsUUFBTSxjQUFDLFFBQUQsRUFBVyxRQUFYLEVBQXdCO0FBQzdCLE9BQUksU0FBUyxLQUFiO0FBQ0EsUUFBSyxrQkFBTCxDQUF3QixVQUFDLElBQUQsRUFBVTtBQUNqQyxRQUFJLElBQUosRUFBVTtBQUNUO0FBQ0EsZ0JBQVcsS0FBWCxDQUFpQixLQUFLLEdBQXRCLEVBQTJCO0FBQzFCLFlBQU0sS0FBSyxXQURlO0FBRTFCLGFBQU8sS0FBSyxLQUZjO0FBRzFCLGFBQU8sS0FBSyxRQUhjO0FBSTFCLFdBQUssS0FBSztBQUpnQixNQUEzQjtBQU1BO0FBQ0EsU0FBSSxDQUFDLE1BQUwsRUFBYTtBQUNaLGVBQVMsSUFBVDtBQUNB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QzdCLFFBQUksVUFBVSxDQUFkO0FBQ0EsU0FBSyxJQUFJLEdBQVQsSUFBZ0IsS0FBSyxPQUFyQixFQUE4QjtBQUM3QixVQUFLLElBQUksSUFBVCxJQUFpQixLQUFLLE9BQUwsQ0FBYSxHQUFiLENBQWpCLEVBQW9DO0FBQ25DO0FBQ0E7QUFDRDtBQUNELFFBQUksT0FBVSxNQUFWLDJCQUFzQyxLQUFLLEdBQTNDLGlCQUFKO0FBQ0EsbURBRVEsS0FBSyxJQUZiLCtCQUdRLE9BQU8sSUFBUCxDQUFZLEtBQUssT0FBakIsRUFBMEIsTUFIbEMsK0JBSVEsT0FBTyxJQUFQLENBQVksS0FBSyxLQUFqQixFQUF3QixNQUpoQywrQkFLUSxPQUxSLCtCQU1RLE9BQU8sS0FBSyxVQUFaLEVBQXdCLE9BQXhCLEVBTlIsd0RBUWMsSUFSZDtBQVlBLElBcEJEO0FBcUJBO0FBR0EsT0FBSSxRQUFRLFNBQVMsYUFBVCxDQUF1QixPQUF2QixDQUFaO0FBQ0MsU0FBTSxTQUFOLENBQWdCLEdBQWhCLENBQW9CLE9BQXBCO0FBQ0EsU0FBTSxTQUFOLENBQWdCLEdBQWhCLENBQW9CLFdBQXBCO0FBQ0EsU0FBTSxTQUFOLENBQWdCLEdBQWhCLENBQW9CLGNBQXBCO0FBQ0EsU0FBTSxTQUFOLEdBQWtCLElBQWxCO0FBQ0QsVUFBTyxLQUFQO0FBQ0E7O0FBaFdVLEVBQVo7O0FBb1dBLFFBQU8sS0FBUDtBQUVBLENBeFdEOztRQTBXUSxLLEdBQUEsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJsZXQgY29uZmlnID0ge1xuXHRhcGlLZXk6IFwiQUl6YVN5QldrOUVXUGtrdnFpcnVHOGFZbkhWMGRCUGcxejNFdE40XCIsXG5cdGF1dGhEb21haW46IFwiY2hhcnRlci1lY2IwNy5maXJlYmFzZWFwcC5jb21cIixcblx0ZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9jaGFydGVyLWVjYjA3LmZpcmViYXNlaW8uY29tXCIsXG5cdHByb2plY3RJZDogXCJjaGFydGVyLWVjYjA3XCIsXG5cdHN0b3JhZ2VCdWNrZXQ6IFwiXCIsXG5cdG1lc3NhZ2luZ1NlbmRlcklkOiBcIjEzNDIzOTMwNTE1M1wiXG59O1xuZXhwb3J0IHtjb25maWd9OyIsImxldCBEYXRhYmFzZSA9IChmaXJlYmFzZSwgY29uZmlnKSA9PiB7XG5cblx0bGV0IENoYXJ0ZXJGaXJlYmFzZSA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnLCAnQ2hhcnRlciBEYXRhYmFzZScpO1xuXHRsZXQgZGIgPSBDaGFydGVyRmlyZWJhc2UuZGF0YWJhc2UoKTtcblx0bGV0IGF1dGggPSBDaGFydGVyRmlyZWJhc2UuYXV0aCgpO1xuXHRcdGNvbmZpZy5sb2NhbGhvc3QgPSB0cnVlO1xuXHRcdGNvbmZpZy5ub1NjcmVlbnNob3RzID0gdHJ1ZTtcblx0bGV0IHByb21ldGhldXMgPSBQcm9tZXRoZXVzKGNvbmZpZywgQ2hhcnRlckZpcmViYXNlKTtcblxuXHRsZXQgZGF0YWJhc2UgPSB7XG5cdFx0XG5cdFx0aW5pdDogKGNhbGxiYWNrLCBmYWxsYmFjaykgPT4ge1xuXHRcdFx0bGV0IGNhbGxlZCA9IGZhbHNlO1xuXHRcdFx0YXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQoKHVzZXIpID0+IHtcblx0XHRcdFx0aWYgKHVzZXIpIHtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdHByb21ldGhldXMubG9nb24odXNlci51aWQsIHtcblx0XHRcdFx0XHRcdG5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXG5cdFx0XHRcdFx0XHRlbWFpbDogdXNlci5lbWFpbCxcblx0XHRcdFx0XHRcdGltYWdlOiB1c2VyLnBob3RvVVJMLFxuXHRcdFx0XHRcdFx0dWlkOiB1c2VyLnVpZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdFx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayh1c2VyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdFx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRmYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGxvZ2luOiAoY2FsbGJhY2ssIG1ldGhvZCkgPT4ge1xuXHRcdFx0Ly9hdXRoLnNpZ25PdXQoKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdGxldCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuXHRcdFx0XHRpZiAobWV0aG9kID09PSAnZmFjZWJvb2snKSB7XG5cdFx0XHRcdFx0cHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5GYWNlYm9va0F1dGhQcm92aWRlcigpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF1dGguc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRcdFx0bGV0IHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG5cdFx0XHRcdFx0bGV0IHVzZXIgPSByZXN1bHQudXNlcjtcblx0XHRcdFx0XHRsZXQgcHJvdmlkZXJJZCA9ICdVbmtub3duIFByb3ZpZGVyJztcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJZCA9IHVzZXIucHJvdmlkZXJEYXRhWzBdLnByb3ZpZGVySWQ7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRwcm9tZXRoZXVzLmxvZ29uKHVzZXIudWlkLCB7XG5cdFx0XHRcdFx0XHRuYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuXHRcdFx0XHRcdFx0ZW1haWw6IHVzZXIuZW1haWwsXG5cdFx0XHRcdFx0XHRpbWFnZTogdXNlci5waG90b1VSTCxcblx0XHRcdFx0XHRcdHVpZDogdXNlci51aWQsXG5cdFx0XHRcdFx0XHRwcm92aWRlcjogcHJvdmlkZXJJZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0Y2FsbGJhY2sodXNlcik7XG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdFx0LypsZXQgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcblx0XHRcdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcblx0XHRcdFx0XHRsZXQgZW1haWwgPSBlcnJvci5lbWFpbDtcblx0XHRcdFx0XHRsZXQgY3JlZGVudGlhbCA9IGVycm9yLmNyZWRlbnRpYWw7Ki9cblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHRcdFx0fSk7XG5cdFx0XHQvKn0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0fSk7Ki9cblx0XHR9LFxuXG5cdFx0Z2V0UHJvbWV0aGV1czogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHByb21ldGhldXM7XG5cdFx0fSxcblxuXHRcdGdldEN1cnJlbnRVc2VyOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gYXV0aC5jdXJyZW50VXNlciB8fCB7fTtcblx0XHR9LFxuXG5cdFx0c2F2ZUZlZWRiYWNrOiAodGlkLCB1aWQsIGZlZWRiYWNrKSA9PiB7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGBmZWVkYmFja2ApLnB1c2goe1xuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdGZlZWRiYWNrOiBmZWVkYmFjayxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VXNlcjogKHVpZCkgPT4ge1xuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHByb21ldGhldXMvdXNlcnMvJHt1aWR9L3Byb2ZpbGVgKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHVzZXIgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdHJlc29sdmUodXNlcik7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbTogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYHRlYW1zLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdGVhbSA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHRlYW0pLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdHRlYW0udGlkID0gdGlkO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh0ZWFtKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGdldFRlYW1FZGl0czogKHRpZCkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgZWRpdHMgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdHJlc29sdmUoZWRpdHMpO1xuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdG9uVGVhbUNoYW5nZTogKHRpZCwgY2FsbGJhY2ssIGZhbGxiYWNrKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGxldCBtZW1iZXJzID0ge307XG5cdFx0XHRkYi5yZWYoYHRlYW1zLyR7dGlkfWApLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdGxldCBwcm9taXNlcyA9IFtdO1xuXHRcdFx0XHRsZXQgdGVhbSA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdGxldCBtZW1iZXJNYXAgPSB0ZWFtLm1lbWJlcnMgfHwge307XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiBtZW1iZXJNYXApIHtcblx0XHRcdFx0XHRpZiAoISh1aWQgaW4gbWVtYmVycykpIHtcblx0XHRcdFx0XHRcdGlmIChtZW1iZXJNYXBbdWlkXS5zdGF0dXMgPT09ICd0ZW1wbGF0ZScpIHtcblx0XHRcdFx0XHRcdFx0bWVtYmVyc1t1aWRdID0ge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdVbmtub3duJyxcblx0XHRcdFx0XHRcdFx0XHRpbWFnZTogJy4vcHVibGljL2ltZy9uby11c2VyLnBuZycsXG5cdFx0XHRcdFx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdFx0XHRcdFx0ZW1haWw6ICd0ZWFtQG9tbmlwb2ludG1lbnQuY29tJ1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRsZXQgcCA9IGRhdGFiYXNlLmdldFVzZXIodWlkKTtcblx0XHRcdFx0XHRcdFx0cC51aWQgPSB1aWQ7XG5cdFx0XHRcdFx0XHRcdHByb21pc2VzLnB1c2gocCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0UHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHVzZXJzKSA9PiB7XG5cdFx0XHRcdFx0XHR1c2Vycy5mb3JFYWNoKChtZW1iZXIsIGlkeCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgdWlkID0gcHJvbWlzZXNbaWR4XS51aWQ7XG5cdFx0XHRcdFx0XHRcdG1lbWJlcnNbdWlkXSA9IG1lbWJlcjtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sodGVhbSwgbWVtYmVycyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2sodGVhbSwgbWVtYmVycyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVUZWFtTmFtZTogKHRpZCwgdWlkLCBuYW1lKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnbmFtZScsXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHR2YWx1ZTogbmFtZSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9uYW1lYCkuc2V0KG5hbWUpO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVRdWVzdGlvbjogKHRpZCwgdWlkLCBxdWVzdGlvbikgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ3F1ZXN0aW9uJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBxdWVzdGlvbixcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9xdWVzdGlvbmApLnNldChxdWVzdGlvbik7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZUV4cGVjdGF0aW9uczogKHRpZCwgdWlkLCBsaXN0KSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAnZXhwZWN0YXRpb25zJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBsaXN0LFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2V4cGVjdGF0aW9uc2ApLnNldChsaXN0KTtcblx0XHR9LFxuXG5cdFx0c3VibWl0VXBkYXRlOiAodGlkLCB1aWQsIHVwZGF0ZSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnU1VCTUlUX1VQREFURScsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1cGRhdGU6IHVwZGF0ZVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L3VwZGF0ZXMvJHt1aWR9YCkucHVzaCh7XG5cdFx0XHRcdHVwZGF0ZTogdXBkYXRlLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRMaW5rOiAodGlkLCB1aWQsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ0FERF9MSU5LJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdFx0dXJsOiBkYXRhLnVybFxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdsaW5rJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiBkYXRhLFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzYCkucHVzaCh7XG5cdFx0XHRcdG5hbWU6IGRhdGEubmFtZSxcblx0XHRcdFx0dXJsOiBkYXRhLnVybCxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdGFkZGVkOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlTGluazogKHRpZCwgdWlkLCBrZXksIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCF1aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHVzZXIgaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWtleSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gbGluayBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnVVBEQVRFX0xJTksnLFxuXHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0bmFtZTogZGF0YS5uYW1lLFxuXHRcdFx0XHR1cmw6IGRhdGEudXJsLFxuXHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGF0YS5rZXkgPSBrZXk7XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ2xpbmsnLFxuXHRcdFx0XHR1aWQ6IHVpZCxcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRsZXQgcDEgPSBkYi5yZWYoYHRlYW1zLyR7dGlkfS9saW5rcy8ke2tleX0vbmFtZWApLnNldChkYXRhLm5hbWUpO1xuXHRcdFx0bGV0IHAyID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbGlua3MvJHtrZXl9L3VybGApLnNldChkYXRhLnVybCk7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoW3AxLCBwMl0pO1xuXHRcdH0sXG5cblx0XHRyZW1vdmVMaW5rOiAodGlkLCB1aWQsIGtleSkgPT4ge1xuXHRcdFx0aWYgKCF0aWQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIHRlYW0gaWQgZ2l2ZW4uJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXVpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdXNlciBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICgha2V5KSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyBsaW5rIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdSRU1PVkVfTElOSycsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0ZGIucmVmKGBlZGl0cy8ke3RpZH1gKS5wdXNoKHtcblx0XHRcdFx0ZmllbGQ6ICdsaW5rJyxcblx0XHRcdFx0dWlkOiB1aWQsXG5cdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0cmVtb3ZlZDogdHJ1ZSxcblx0XHRcdFx0XHRrZXk6IGtleVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KClcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L2xpbmtzLyR7a2V5fWApLnJlbW92ZSgpO1xuXHRcdH0sXG5cblx0XHR1cGRhdGVSb2xlOiAodGlkLCBhdXRob3IsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFhdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvcmluZyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFkYXRhLnVpZCkge1xuXHRcdFx0XHRkYXRhLnVpZCA9IGF1dGhvcjsgLy8gSWYgc29tZW9uZSBpcyBlZGl0aW5nIHRoZWlyIG93biByb2xlXG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ1VQREFURV9ST0xFJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogZGF0YS51aWQsXG5cdFx0XHRcdHJvbGU6IGRhdGEucm9sZSxcblx0XHRcdFx0cmVzcG9uc2liaWxpdHk6IGRhdGEucmVzcG9uc2liaWxpdHlcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdGRiLnJlZihgZWRpdHMvJHt0aWR9YCkucHVzaCh7XG5cdFx0XHRcdGZpZWxkOiAncm9sZScsXG5cdFx0XHRcdHVpZDogYXV0aG9yLFxuXHRcdFx0XHR2YWx1ZTogZGF0YSxcblx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpXG5cdFx0XHR9KTtcblx0XHRcdGxldCBwMSA9IGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHtkYXRhLnVpZH0vcm9sZWApLnNldChkYXRhLnJvbGUpO1xuXHRcdFx0bGV0IHAyID0gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke2RhdGEudWlkfS9yZXNwb25zaWJpbGl0eWApLnNldChkYXRhLnJlc3BvbnNpYmlsaXR5KTtcblx0XHRcdHJldHVybiBQcm9taXNlLmFsbChbcDEsIHAyXSk7XG5cdFx0fSxcblxuXHRcdGFkZFRlbXBsYXRlUm9sZTogKHRpZCwgYXV0aG9yKSA9PiB7XG5cdFx0XHQvL1xuXHRcdFx0cHJvbWV0aGV1cy5zYXZlKHtcblx0XHRcdFx0dHlwZTogJ0FERF9URU1QTEFURV9ST0xFJyxcblx0XHRcdFx0dGlkOiB0aWRcblx0XHRcdH0pO1xuXHRcdFx0Ly9cblx0XHRcdHJldHVybiBkYi5yZWYoYHRlYW1zLyR7dGlkfS9tZW1iZXJzYCkucHVzaCh7XG5cdFx0XHRcdHN0YXR1czogJ3RlbXBsYXRlJyxcblx0XHRcdFx0cm9sZTogJ1RlYW0gTWVtYmVyJyxcblx0XHRcdFx0am9pbmVkOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRtZW1iZXI6IHRydWUsXG5cdFx0XHRcdGljb246ICd1c2VyJ1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHVwZGF0ZVJvbGVJY29uOiAodGlkLCBhdXRob3IsIGRhdGEpID0+IHtcblx0XHRcdGlmICghdGlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB0ZWFtIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFhdXRob3IpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vIGF1dGhvcmluZyB1c2VyIGlkIGdpdmVuLicpO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdVUERBVEVfUk9MRV9JQ09OJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogZGF0YS51aWQsXG5cdFx0XHRcdGljb246IGRhdGEuaWNvblxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0aWYgKCFkYXRhLnVpZCkge1xuXHRcdFx0XHRkYXRhLnVpZCA9IGF1dGhvcjsgLy8gSWYgc29tZW9uZSBpcyBlZGl0aW5nIHRoZWlyIG93biByb2xlXG5cdFx0XHR9XG5cdFx0XHRkYi5yZWYoYGVkaXRzLyR7dGlkfWApLnB1c2goe1xuXHRcdFx0XHRmaWVsZDogJ3JvbGUnLFxuXHRcdFx0XHR1aWQ6IGF1dGhvcixcblx0XHRcdFx0dmFsdWU6IGRhdGEsXG5cdFx0XHRcdHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke2RhdGEudWlkfS9pY29uYCkuc2V0KGRhdGEuaWNvbik7XG5cdFx0fSxcblxuXHRcdGpvaW5UZWFtOiAodGlkLCB1aWQsIGpvaW5Db2RlKSA9PiB7XG5cdFx0XHRpZiAoIXRpZCkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcignTm8gdGVhbSBpZCBnaXZlbi4nKTtcblx0XHRcdH1cblx0XHRcdGlmICghdWlkKSB7XG5cdFx0XHRcdHRocm93IEVycm9yKCdObyB1c2VyIGlkIGdpdmVuJyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbigodGVhbSkgPT4ge1xuXHRcdFx0XHRcdGlmIChqb2luQ29kZSA9PT0gdGVhbS5qb2luQ29kZSB8fCAhdGVhbS5qb2luQ29kZSkge1xuXHRcdFx0XHRcdFx0ZGF0YWJhc2UuYWRkTWVtYmVyKHRpZCwgdWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHRydWVcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZmFsc2Vcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRhZGRNZW1iZXI6ICh0aWQsIHVpZCkgPT4ge1xuXHRcdFx0Ly9cblx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdHR5cGU6ICdBRERfTUVNQkVSJyxcblx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdHVpZDogdWlkXG5cdFx0XHR9KTtcblx0XHRcdC8vXG5cdFx0XHRyZXR1cm4gZGIucmVmKGB0ZWFtcy8ke3RpZH0vbWVtYmVycy8ke3VpZH1gKS5zZXQoe1xuXHRcdFx0XHRzdGF0dXM6ICdtZW1iZXInLFxuXHRcdFx0XHRyb2xlOiAnVGVhbSBNZW1iZXInLFxuXHRcdFx0XHRqb2luZWQ6IERhdGUubm93KCksXG5cdFx0XHRcdG1lbWJlcjogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHJlbW92ZU1lbWJlcjogKHRpZCwgYXV0aG9yLCB1aWQpID0+IHtcblx0XHRcdC8vXG5cdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHR0eXBlOiAnUkVNT1ZFX01FTUJFUicsXG5cdFx0XHRcdHRpZDogdGlkLFxuXHRcdFx0XHR1aWQ6IHVpZFxuXHRcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0cmV0dXJuIGRiLnJlZihgdGVhbXMvJHt0aWR9L21lbWJlcnMvJHt1aWR9YCkucmVtb3ZlKCk7XG5cdFx0fSxcblxuXHRcdGdldEFsbFRlYW1zOiAodWlkKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgcmVmID0gZGIucmVmKGB0ZWFtc2ApO1xuXHRcdFx0XHRsZXQgcXVlcnkgPSByZWYub3JkZXJCeUNoaWxkKGBtZW1iZXJzLyR7dWlkfS9tZW1iZXJgKS5zdGFydEF0KHRydWUpLmVuZEF0KHRydWUpO1xuXHRcdFx0XHRxdWVyeS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IG5vZGVzID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0XHRyZXNvbHZlKG5vZGVzKTtcblx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRjcmVhdGVOZXdUZWFtOiAodWlkLCBqb2luQ29kZSwgdGVhbU5hbWUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZigndGVhbXMnKS5wdXNoKHtcblx0XHRcdFx0XHRuYW1lOiB0ZWFtTmFtZSB8fCAnTmV3IFRlYW0gQ2hhcnRlcicsXG5cdFx0XHRcdFx0am9pbkNvZGU6IGpvaW5Db2RlXG5cdFx0XHRcdH0pLnRoZW4oKHJlcykgPT4ge1xuXHRcdFx0XHRcdGxldCBwYXRoTGlzdCA9IHJlcy5wYXRoLmN0O1xuXHRcdFx0XHRcdGxldCB0aWQgPSBwYXRoTGlzdFtwYXRoTGlzdC5sZW5ndGggLSAxXTtcblx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdHByb21ldGhldXMuc2F2ZSh7XG5cdFx0XHRcdFx0XHR0eXBlOiAnQ1JFQVRFX1RFQU0nLFxuXHRcdFx0XHRcdFx0dGlkOiB0aWQsXG5cdFx0XHRcdFx0XHRuYW1lOiB0ZWFtTmFtZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0ZGF0YWJhc2UuYWRkTWVtYmVyKHRpZCwgdWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRcdFx0dGlkOiB0aWRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0SW5zdHJ1Y3RvckNsYXNzZXM6ICh1aWQpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGxldCByZWYgPSBkYi5yZWYoYGNsYXNzZXNgKTtcblx0XHRcdFx0bGV0IHF1ZXJ5ID0gcmVmLm9yZGVyQnlDaGlsZChgbWVtYmVycy8ke3VpZH0vYWNjZXNzYCkuc3RhcnRBdCh0cnVlKS5lbmRBdCh0cnVlKTtcblx0XHRcdFx0cXVlcnkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBub2RlcyA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0bGV0IGxpc3QgPSBPYmplY3Qua2V5cyhub2RlcykubWFwKChjaWQpID0+IHtcblx0XHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBub2Rlc1tjaWRdO1xuXHRcdFx0XHRcdFx0Y2xhc3NEYXRhLmNpZCA9IGNpZDtcblx0XHRcdFx0XHRcdHJldHVybiBjbGFzc0RhdGE7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0bGV0IHByb21pc2VzID0gW107XG5cdFx0XHRcdFx0XHRsaXN0LmZvckVhY2goKGNsYXNzRGF0YSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgY2lkID0gY2xhc3NEYXRhLmNpZDtcblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgdGlkIGluIGNsYXNzRGF0YS50ZWFtcykge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBwID0gbmV3IFByb21pc2UoKHJlc29sdmVUZWFtLCByZWplY3RUZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhYmFzZS5nZXRUZWFtKHRpZCkudGhlbihyZXNvbHZlVGVhbSkuY2F0Y2gocmVqZWN0VGVhbSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0cC5jaWQgPSBjaWQ7XG5cdFx0XHRcdFx0XHRcdFx0cHJvbWlzZXMucHVzaChwKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigodGVhbUxpc3QpID0+IHtcblx0XHRcdFx0XHRcdFx0dGVhbUxpc3QuZm9yRWFjaCgodGVhbSwgdGlkeCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBtZXRhID0gcHJvbWlzZXNbdGlkeF07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5vZGVzW21ldGEuY2lkXSl7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobm9kZXNbbWV0YS5jaWRdLnRlYW1zW3RlYW0udGlkXSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2Rlc1ttZXRhLmNpZF0udGVhbXNbdGVhbS50aWRdID0gdGVhbTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKG5vZGVzKVxuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGFkZFRlYW1Ub0NsYXNzOiAodGlkLCB1aWQsIGNvZGUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgY2xhc3Nlcy8ke2NvZGV9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdGlmIChjbGFzc0RhdGEpIHtcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnQUREX1RFQU1fVE9fQ0xBU1MnLFxuXHRcdFx0XHRcdFx0XHR0aWQ6IHRpZCxcblx0XHRcdFx0XHRcdFx0Y2xhc3NDb2RlOiBjb2RlXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfS90ZWFtcy8ke3RpZH1gKS5zZXQoe1xuXHRcdFx0XHRcdFx0XHRhY2Nlc3M6IHRydWUsXG5cdFx0XHRcdFx0XHRcdGpvaW5lZDogRGF0ZS5ub3coKVxuXHRcdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKGNsYXNzRGF0YSk7XG5cdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZWplY3QoYENvdWxkIG5vdCBmaW5kIGEgY2xhc3Mgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0YWRkSW5zdHJ1Y3RvclRvQ2xhc3M6ICh1aWQsIGNvZGUpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGRiLnJlZihgY2xhc3Nlcy8ke2NvZGV9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdGxldCBjbGFzc0RhdGEgPSBzbmFwLnZhbCgpO1xuXHRcdFx0XHRcdGlmIChjbGFzc0RhdGEpIHtcblx0XHRcdFx0XHRcdGxldCBtZW1iZXJNYXAgPSBjbGFzc0RhdGEubWVtYmVycyB8fCB7fTtcblx0XHRcdFx0XHRcdGlmICh1aWQgaW4gbWVtYmVyTWFwKSB7XG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdGlzQWxyZWFkeUluc3RydWN0b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NEYXRhOiBjbGFzc0RhdGFcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0XHRwcm9tZXRoZXVzLnNhdmUoe1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdBRERfSU5TVFJVQ1RPUl9UT19DTEFTUycsXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NDb2RlOiBjb2RlXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0XHRkYi5yZWYoYGNsYXNzZXMvJHtjb2RlfS9tZW1iZXJzLyR7dWlkfWApLnNldCh7XG5cdFx0XHRcdFx0XHRcdFx0YWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdpbnN0cnVjdG9yJyxcblx0XHRcdFx0XHRcdFx0XHRqb2luZWQ6IERhdGUubm93KClcblx0XHRcdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0aXNBbHJlYWR5SW5zdHJ1Y3RvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc0RhdGE6IGNsYXNzRGF0YVxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZWplY3QoYENvdWxkIG5vdCBmaW5kIGEgY2xhc3Mgd2l0aCBjb2RlOiAke2NvZGV9LmApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0Z2V0SW5zdHJ1Y3RvcnNCeUNsYXNzOiAoY2xhc3NDb2RlKSA9PiB7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBkYXRhYmFzZTtcbn1cblxuZXhwb3J0IHtEYXRhYmFzZX07IiwiaW1wb3J0IHtjb25maWd9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7RGF0YWJhc2V9IGZyb20gJy4vZGF0YWJhc2UnO1xuaW1wb3J0IHtWaWV3c30gZnJvbSAnLi92aWV3cyc7XG5cbmxldCBkYXRhYmFzZSA9IERhdGFiYXNlKGZpcmViYXNlLCBjb25maWcpO1xuXG5sZXQgcGFyYW1zID0gZ2V0UXVlcnlQYXJhbXMoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoKTtcbmxldCBURUFNX0lEID0gcGFyYW1zLnRlYW07XG5sZXQgTUVOVE9SX01PREUgPSBwYXJhbXMubWVudG9yID8gdHJ1ZSA6IGZhbHNlO1xuXG5sZXQgdmlld3MgPSBWaWV3cygpO1xuXG5sZXQgbG9naW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4nKTtcbmxldCBmZWVkYmFja0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVkYmFjaycpO1xuXG5sZXQgaW52aXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludml0ZScpO1xubGV0IGNsYXNzQ29kZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGFzcy1jb2RlJyk7XG5sZXQgbWVudG9yTGlua0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW50b3ItbGluaycpO1xubGV0IHRhYkxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjaGFydGVyLXRhYicpO1xuXG5sZXQgdGVhbU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS1uYW1lJyk7XG5sZXQgdGVhbVF1ZXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW0tcXVlc3Rpb24nKTtcbmxldCBzYXZlUXVlc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZS1xdWVzdGlvbicpO1xubGV0IHRlYW1FeHBlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS1leHBlY3RhdGlvbnMnKTtcbmxldCBzYXZlRXhwZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtZXhwZWN0YXRpb25zJyk7XG5sZXQgbXlVcGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXktdXBkYXRlJyk7XG5sZXQgc2F2ZVVwZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlLXVwZGF0ZScpO1xubGV0IHRlYW1VcGRhdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW0tdXBkYXRlcycpO1xubGV0IGFkZExpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWxpbmsnKTtcbmxldCB0ZWFtTGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS1saW5rcycpO1xubGV0IGFkZE1lZXRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLW1lZXRpbmcnKTtcblxubGV0IHByb2dyZXNzVXBkYXRlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzcy11cGRhdGVzJyk7XG4vL2xldCBjaGFydGVyVXBkYXRlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFydGVyLXVwZGF0ZXMnKTtcblxuLypsb2dpbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdGRhdGFiYXNlLmxvZ2luKG1haW4pO1xufSk7Ki9cblxuZGF0YWJhc2UuaW5pdChtYWluLCAoKSA9PiB7XG5cdC8vIE5vIHVzZXIgc2lnbmVkIGluXG5cdHdpbmRvdy5sb2NhdGlvbiA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2xvZ2luLmh0bWwke2RvY3VtZW50LmxvY2F0aW9uLnNlYXJjaH1gO1xufSk7XG5cbmZ1bmN0aW9uIG1haW4odXNlcikge1xuXG5cdGluaXRXaXRoVGVhbUNvZGUoKHRpZCkgPT4ge1xuXHRcblx0XHRjb25zb2xlLmxvZygnV2hhdCBtYWtlcyB3b3JraW5nIGF0IE9tbmlwb2ludG1lbnQgYmV0dGVyIHRoYW4sIHNheSwgR29vZ2xlPycpO1xuXG5cdFx0ZmlsbFRleHQoJ2ZpbGwtdXNlci1uYW1lJywgdXNlci5kaXNwbGF5TmFtZSk7XG5cdFx0ZmlsbFNyYygnZmlsbC11c2VyLWltYWdlJywgdXNlci5waG90b1VSTCk7XG5cblx0XHRmb3IgKGxldCBrID0gMDsgayA8IHRhYkxpc3QubGVuZ3RoOyBrKyspIHtcblx0XHRcdHRhYkxpc3Rba10uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0XHRvblRhYkNsaWNrKHRhYkxpc3QsIHRhYkxpc3Rba10pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gU2hvdyB0aGUgQ2hhcnRlciB0YWIgd2hlbiB0aGUgcGFnZSBsb2Fkc1xuXHRcdG9uVGFiQ2xpY2sodGFiTGlzdCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJ0ZXItdGFiW2RhdGEtdGFiPVwiY29udGFpbmVyLWNoYXJ0ZXJcIl0nKVswXSk7XG5cblx0XHRsZXQgcHJvbWV0aGV1cyA9IGRhdGFiYXNlLmdldFByb21ldGhldXMoKTtcblxuXHRcdGZlZWRiYWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdFx0bWVzc2FnZTogJ1doYXQgZmVlZGJhY2sgZG8geW91IGhhdmUgdG8gc2hhcmUgd2l0aCB1cz8nLFxuXHRcdFx0XHRjYWxsYmFjazogKGZlZWRiYWNrKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGZlZWRiYWNrKSB7XG5cdFx0XHRcdFx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRcdFx0XHRkYXRhYmFzZS5zYXZlRmVlZGJhY2sodGlkLCB1aWQsIGZlZWRiYWNrKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoJ1RoYW5rIHlvdSBmb3IgeW91ciBmZWVkYmFjaywgaXQgcmVhbGx5IGhlbHBzIHVzIGEgbG90IScpO1xuXHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRsZXQgY2hlY2tlZFBlcm1pc3Npb25zID0gZmFsc2U7XG5cdFx0ZGF0YWJhc2Uub25UZWFtQ2hhbmdlKHRpZCwgKHRlYW0sIG1lbWJlcnMpID0+IHtcblx0XHRcdGlmICghY2hlY2tlZFBlcm1pc3Npb25zKSB7XG5cdFx0XHRcdGNoZWNrVXNlclBlcm1pc3Npb24odGlkLCB0ZWFtLCBtZW1iZXJzKTtcblx0XHRcdFx0Y2hlY2tlZFBlcm1pc3Npb25zID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LCByZXBvcnRFcnJvclRvVXNlcik7XG5cblx0XHRkYXRhYmFzZS5nZXRQcm9tZXRoZXVzKCkuc2F2ZSh7XG5cdFx0XHR0eXBlOiAnQ0hBUlRFUl9QQUdFJyxcblx0XHRcdHRpZDogdGlkLFxuXHRcdFx0bWVudG9yOiBpc01lbnRvcigpXG5cdFx0fSk7XG5cblx0XHRtYWluQ2hhcnRlclRhYih1c2VyLCB0aWQpO1xuXHRcdG1haW5Qcm9ncmVzc1RhYih1c2VyLCB0aWQpO1xuXG5cdH0pO1xuXG59XG5cbmZ1bmN0aW9uIG1haW5DaGFydGVyVGFiKHVzZXIsIHRpZCkge1xuXG5cdGludml0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0ZGF0YWJhc2UuZ2V0VGVhbSh0aWQpLnRoZW4oKHRlYW0pID0+IHtcblx0XHRcdGxldCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuXHRcdFx0bGV0IHBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXHRcdFx0bGV0IGNvZGUgPSB0ZWFtLmpvaW5Db2RlIHx8IGZhbHNlO1xuXHRcdFx0bGV0IGxpbmtFbmQgPSBjb2RlID8gYCZjb2RlPSR7Y29kZX1gIDogJyc7XG5cdFx0XHRsZXQgbGluayA9IGAke29yaWdpbn0ke3BhdGhuYW1lfT90ZWFtPSR7dGlkfSR7bGlua0VuZH1gO1xuXHRcdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0XHRtZXNzYWdlOiAnU2VuZCB0aGlzIGxpbmsgdG8geW91ciB0ZWFtbWF0ZXM6Jyxcblx0XHRcdFx0dmFsdWU6IGxpbmssXG5cdFx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0pO1xuXG5cdGNsYXNzQ29kZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0bWVzc2FnZTogJ0VudGVyIHRoZSBjb2RlIGZyb20geW91ciBpbnN0cnVjdG9yIChjYXNlIHNlbnNpdGl2ZSk6Jyxcblx0XHRcdGNhbGxiYWNrOiAoY29kZSkgPT4ge1xuXHRcdFx0XHRpZiAoY29kZSkge1xuXHRcdFx0XHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRkYXRhYmFzZS5hZGRUZWFtVG9DbGFzcyh0aWQsIHVpZCwgY29kZSkudGhlbigoY2xhc3NEYXRhKSA9PiB7XG5cdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KHtcblx0XHRcdFx0XHRcdFx0bWVzc2FnZTogYFN1Y2Nlc3NmdWxseSBhZGRlZCB5b3VyIHRlYW0gdG8gJHtjbGFzc0RhdGEubmFtZX0hYFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0fSk7XG5cblx0bWVudG9yTGlua0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0bGV0IHBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufSR7cGF0aG5hbWV9P3RlYW09JHt0aWR9Jm1lbnRvcj10cnVlYDtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiAnU2VuZCB0aGlzIGxpbmsgdG8gYSBtZW50b3I6Jyxcblx0XHRcdHZhbHVlOiBsaW5rLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHt9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdHRlYW1OYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRpZiAoIWlzTWVudG9yKCkpIHtcblx0XHRcdGxldCBuYW1lID0gZS50YXJnZXQuaW5uZXJUZXh0O1xuXHRcdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0XHRtZXNzYWdlOiAnRWRpdCB5b3VyIHRlYW0gbmFtZTonLFxuXHRcdFx0XHR2YWx1ZTogbmFtZSxcblx0XHRcdFx0Y2FsbGJhY2s6IChuZXdOYW1lKSA9PiB7XG5cdFx0XHRcdFx0aWYgKG5ld05hbWUpIHtcblx0XHRcdFx0XHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRcdGRhdGFiYXNlLnVwZGF0ZVRlYW1OYW1lKHRpZCwgdWlkLCBuZXdOYW1lKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0c2F2ZVF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRzYXZlUXVlc3QuY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuXHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRsZXQgcXVlc3Rpb24gPSB0ZWFtUXVlc3QuaW5uZXJUZXh0O1xuXHRcdGRhdGFiYXNlLnVwZGF0ZVF1ZXN0aW9uKHRpZCwgdWlkLCBxdWVzdGlvbikudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0c2F2ZVF1ZXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWxvYWRpbmcnKTtcblx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdH0pO1xuXG5cdHNhdmVFeHBlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdHNhdmVFeHBlY3QuY2xhc3NMaXN0LmFkZCgnaXMtbG9hZGluZycpO1xuXHRcdGxldCB1aWQgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRsZXQgdGV4dCA9IHRlYW1FeHBlY3QuaW5uZXJUZXh0O1xuXHRcdGxldCBsaXN0ID0gdGV4dC5zcGxpdCgnXFxuJyk7XG5cdFx0bGV0IHBvcHBlZCA9IGxpc3QucG9wKCk7XG5cdFx0aWYgKCFwb3BwZWQubGVuZ3RoIDwgMSkge1xuXHRcdFx0bGlzdC5wdXNoKHBvcHBlZCk7XG5cdFx0fVxuXHRcdGRhdGFiYXNlLnVwZGF0ZUV4cGVjdGF0aW9ucyh0aWQsIHVpZCwgbGlzdCkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0c2F2ZUV4cGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHR9KTtcblxuXHRzYXZlVXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRzYXZlVXBkYXRlLmNsYXNzTGlzdC5hZGQoJ2lzLWxvYWRpbmcnKTtcblx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0bGV0IHVwZGF0ZSA9IG15VXBkYXRlLnZhbHVlO1xuXHRcdGRhdGFiYXNlLnN1Ym1pdFVwZGF0ZSh0aWQsIHVpZCwgdXBkYXRlKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRzYXZlVXBkYXRlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWxvYWRpbmcnKTtcblx0XHRcdG15VXBkYXRlLnZhbHVlID0gJyc7XG5cdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHR9KTtcblxuXHRhZGRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRwcm9tcHRMaW5rRGF0YShlLCB0aWQsICdQYXN0ZSB0aGUgVVJMOicpO1xuXHR9KTtcblxuXHRhZGRNZWV0aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHQvL2xldCBvbW5pV2luID0gd2luZG93Lm9wZW4oJ2h0dHBzOi8vd3d3Lm9tbmlwb2ludG1lbnQuY29tL21lZXRpbmcvY3JlYXRlJyk7XG5cdFx0cHJvbXB0TGlua0RhdGEoZSwgdGlkLCAnUGFzdGUgdGhlIGxpbmsgdG8geW91ciBPbW5pcG9pbnRtZW50OicpO1xuXHR9KTtcblxuXHRkYXRhYmFzZS5vblRlYW1DaGFuZ2UodGlkLCAodGVhbSwgbWVtYmVycykgPT4ge1xuXHRcdGlmIChPYmplY3Qua2V5cyh0ZWFtKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHJlbmRlclRlYW1DaGFydGVyKHRpZCwgdGVhbSwgbWVtYmVycyk7XG5cdFx0XHR9XG5cdH0sIHJlcG9ydEVycm9yVG9Vc2VyKTtcblxufVxuXG5mdW5jdGlvbiBwcm9tcHRMaW5rRGF0YShlLCB0aWQsIG1lc3NhZ2UpIHtcblx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0bWVzc2FnZTogbWVzc2FnZSxcblx0XHRjYWxsYmFjazogKHVybCkgPT4ge1xuXHRcdFx0aWYgKHVybCkge1xuXHRcdFx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRcdFx0bWVzc2FnZTogJ1doYXQgaXMgdGhlIG5hbWUgb2YgdGhpcyBsaW5rPycsXG5cdFx0XHRcdFx0Y2FsbGJhY2s6IChuYW1lKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodXJsICYmIG5hbWUpIHtcblx0XHRcdFx0XHRcdFx0YWRkTGluay5jbGFzc0xpc3QuYWRkKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRcdFx0XHRcdGRhdGFiYXNlLmFkZExpbmsodGlkLCB1aWQsIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0XHRcdFx0XHRcdHVybDogdXJsXG5cdFx0XHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRhZGRMaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWxvYWRpbmcnKTtcblx0XHRcdFx0XHRcdFx0fSkuY2F0Y2gocmVwb3J0RXJyb3JUb1VzZXIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWFpblByb2dyZXNzVGFiKHVzZXIsIHRpZCkge1xuXG5cdGRhdGFiYXNlLm9uVGVhbUNoYW5nZSh0aWQsICh0ZWFtLCBtZW1iZXJzKSA9PiB7XG5cblx0XHRsZXQgaXNUZWFtVGVtcGxhdGUgPSB0ZWFtLnN0YXR1cyA9PT0gJ3RlbXBsYXRlJztcblx0XHRpZiAoIWlzVGVhbVRlbXBsYXRlKSB7XG5cdFx0XHRyZW5kZXJQcm9ncmVzc1VwZGF0ZXModGlkLCB0ZWFtLCBtZW1iZXJzKTtcblx0XHR9XG5cblx0fSwgcmVwb3J0RXJyb3JUb1VzZXIpO1xuXG59XG5cbmZ1bmN0aW9uIHJlbmRlclByb2dyZXNzVXBkYXRlcyh0aWQsIHRlYW0sIG1lbWJlcnMpIHtcblx0bGV0IHVwZGF0ZU1hcCA9IHRlYW0udXBkYXRlcyB8fCB7fTtcblx0XG5cdGxldCB1cGRhdGVMaXN0ID0gW107XG5cblx0Zm9yIChsZXQgdWlkIGluIHVwZGF0ZU1hcCkge1xuXHRcdGxldCBzdWJNYXAgPSB1cGRhdGVNYXBbdWlkXTtcblx0XHRmb3IgKGxldCB1cGlkIGluIHN1Yk1hcCkge1xuXHRcdFx0bGV0IG5vZGUgPSBzdWJNYXBbdXBpZF07XG5cdFx0XHRub2RlLnVpZCA9IHVpZDtcblx0XHRcdG5vZGUua2V5ID0gdXBpZDtcblx0XHRcdHVwZGF0ZUxpc3QucHVzaChub2RlKTtcblx0XHR9XG5cdH1cblxuXHRmb3IgKGxldCB1aWQgaW4gdGVhbS5tZW1iZXJzKSB7XG5cdFx0bGV0IG1lbWJlciA9IHRlYW0ubWVtYmVyc1t1aWRdO1xuXHRcdGxldCBwcm9maWxlID0gbWVtYmVyc1t1aWRdO1xuXHRcdHVwZGF0ZUxpc3QucHVzaCh7XG5cdFx0XHR1cGRhdGU6IGAke3Byb2ZpbGUubmFtZX0gam9pbmVkIHRoZSB0ZWFtLmAsXG5cdFx0XHR0aW1lc3RhbXA6IG1lbWJlci5qb2luZWQsXG5cdFx0XHR1aWQ6IHVpZCxcblx0XHRcdGtleTogYCR7dWlkfS1qb2luZWRgXG5cdFx0fSk7XG5cdH1cblxuXHR1cGRhdGVMaXN0LnNvcnQoKGEsIGIpID0+IHtcblx0XHRyZXR1cm4gYi50aW1lc3RhbXAgLSBhLnRpbWVzdGFtcDtcblx0fSk7XG5cblx0cHJvZ3Jlc3NVcGRhdGVzLmlubmVySFRNTCA9ICcnO1xuXG5cdGlmICh1cGRhdGVMaXN0Lmxlbmd0aCA+IDApIHtcblx0XHR1cGRhdGVMaXN0LmZvckVhY2goKHVwZGF0ZSkgPT4ge1xuXHRcdFx0bGV0IGF1dGhvciA9IG1lbWJlcnNbdXBkYXRlLnVpZF07XG5cdFx0XHRpZiAodXBkYXRlLnVwZGF0ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGxldCB0aWxlID0gdmlld3MuZ2V0UHJvZ3Jlc3NVcGRhdGUoe1xuXHRcdFx0XHRcdG5hbWU6IGF1dGhvci5uYW1lLFxuXHRcdFx0XHRcdHJvbGU6IHRlYW0ubWVtYmVyc1t1cGRhdGUudWlkXS5yb2xlLFxuXHRcdFx0XHRcdGltYWdlOiBhdXRob3IuaW1hZ2UsXG5cdFx0XHRcdFx0dXBkYXRlOiB1cGRhdGUudXBkYXRlLFxuXHRcdFx0XHRcdHRpbWVzdGFtcDogdXBkYXRlLnRpbWVzdGFtcFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cHJvZ3Jlc3NVcGRhdGVzLmFwcGVuZENoaWxkKHRpbGUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGxldCBub1VwZGF0ZXNXYXJuaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0bm9VcGRhdGVzV2FybmluZy5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdDxoND5ObyB1cGRhdGVzIHRvIHNob3cgOig8L2g0PlxuXHRcdDwvZGl2PmA7XG5cdFx0cHJvZ3Jlc3NVcGRhdGVzLmFwcGVuZENoaWxkKG5vVXBkYXRlc1dhcm5pbmcpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRlYW1DaGFydGVyKHRpZCwgdGVhbSwgbWVtYmVycykge1xuXG5cdGxldCB0ZWFtTWVtYmVycyA9IHRlYW0ubWVtYmVycyB8fCB7fTtcblxuXHRpZiAodGVhbS5uYW1lKSB7XG5cdFx0ZmlsbFRleHQoJ2ZpbGwtdGVhbS1uYW1lJywgdGVhbS5uYW1lKTtcblx0fVxuXHRpZiAodGVhbS5xdWVzdGlvbikge1xuXHRcdGZpbGxUZXh0KCdmaWxsLXRlYW0tcXVlc3Rpb24nLCB0ZWFtLnF1ZXN0aW9uKTtcblx0fVxuXG5cdGxldCBleHBlY3RhdGlvbnMgPSB0ZWFtLmV4cGVjdGF0aW9ucyB8fCBbXTtcblx0aWYgKGV4cGVjdGF0aW9ucy5sZW5ndGggPiAwKSB7XG5cdFx0dGVhbUV4cGVjdC5pbm5lckhUTUwgPSBleHBlY3RhdGlvbnMucmVkdWNlKCh0b3RhbCwgdmFsKSA9PiB7XG5cdFx0XHRyZXR1cm4gdG90YWwgKyBgPGxpPiR7dmFsfTwvbGk+YDtcblx0XHR9LCAnJyk7XG5cdH1cblxuXHQvKmxldCBhbGxVcGRhdGVzID0gdGVhbS51cGRhdGVzIHx8IHt9O1xuXHR0ZWFtVXBkYXRlcy5pbm5lckhUTUwgPSAnJztcblx0Zm9yIChsZXQgdWlkIGluIHRlYW1NZW1iZXJzKSB7XG5cdFx0bGV0IHVzZXIgPSBtZW1iZXJzW3VpZF07XG5cdFx0bGV0IHVwZGF0ZU1hcCA9IGFsbFVwZGF0ZXNbdWlkXSB8fCB7fTtcblx0XHRsZXQgdXBkYXRlTGlzdCA9IE9iamVjdC5rZXlzKHVwZGF0ZU1hcCkubWFwKHVwaWQgPT4gdXBkYXRlTWFwW3VwaWRdKS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRyZXR1cm4gYi50aW1lc3RhbXAgLSBhLnRpbWVzdGFtcDtcblx0XHR9KTtcblx0XHRsZXQgdXBkYXRlID0gdXBkYXRlTGlzdFswXTtcblx0XHRsZXQgbWVzc2FnZSA9ICdObyB1cGRhdGVzIHlldC4nO1xuXHRcdGxldCB0cyA9IHRlYW1NZW1iZXJzW3VpZF0uam9pbmVkO1xuXHRcdGlmICh1cGRhdGUpIHtcblx0XHRcdG1lc3NhZ2UgPSB1cGRhdGUudXBkYXRlO1xuXHRcdFx0dHMgPSB1cGRhdGUudGltZXN0YW1wO1xuXHRcdH1cblx0XHRsZXQgdGlsZSA9IHZpZXdzLmdldFJvbGVBbmRVcGRhdGVUaWxlKHtcblx0XHRcdG5hbWU6IHVzZXIubmFtZSxcblx0XHRcdHJvbGU6IHRlYW0ubWVtYmVyc1t1aWRdLnJvbGUsXG5cdFx0XHRpbWFnZTogdXNlci5pbWFnZSxcblx0XHRcdHVwZGF0ZTogbWVzc2FnZSxcblx0XHRcdHRpbWVzdGFtcDogdHNcblx0XHR9KTtcblx0XHR0ZWFtVXBkYXRlcy5hcHBlbmRDaGlsZCh0aWxlKTtcblx0fSovXG5cblx0bGV0IGlzVGVhbVRlbXBsYXRlID0gdGVhbS5zdGF0dXMgPT09ICd0ZW1wbGF0ZSc7XG5cblx0dGVhbVVwZGF0ZXMuaW5uZXJIVE1MID0gJyc7XG5cdGZvciAobGV0IHVpZCBpbiB0ZWFtTWVtYmVycykge1xuXHRcdGxldCB1c2VyID0gbWVtYmVyc1t1aWRdO1xuXHRcdGxldCBtZW1iZXIgPSB0ZWFtTWVtYmVyc1t1aWRdO1xuXHRcdGlmIChtZW1iZXIuc3RhdHVzID09PSAnbWVtYmVyJyAmJiAhaXNUZWFtVGVtcGxhdGUpIHtcblx0XHRcdGxldCB0aWxlID0gdmlld3MuZ2V0Um9sZVRpbGUoe1xuXHRcdFx0XHRuYW1lOiB1c2VyLm5hbWUsXG5cdFx0XHRcdHJvbGU6IG1lbWJlci5yb2xlLFxuXHRcdFx0XHRpbWFnZTogdXNlci5pbWFnZSxcblx0XHRcdFx0cmVzcG9uc2liaWxpdHk6IG1lbWJlci5yZXNwb25zaWJpbGl0eSB8fCAnV2hhdCBhcmUgeW91IHJlc3BvbnNpYmxlIGZvcj8nLFxuXHRcdFx0XHRlZGl0YWJsZTogdWlkID09PSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZCAmJiAhaXNNZW50b3IoKVxuXHRcdFx0fSk7XG5cdFx0XHR0ZWFtVXBkYXRlcy5hcHBlbmRDaGlsZCh0aWxlKTtcblx0XHR9IGVsc2UgaWYgKG1lbWJlci5zdGF0dXMgPT09ICd0ZW1wbGF0ZScpIHtcblx0XHRcdGxldCB0aWxlID0gdmlld3MuZ2V0Um9sZVRlbXBsYXRlVGlsZSh7XG5cdFx0XHRcdG5hbWU6IHVzZXIubmFtZSxcblx0XHRcdFx0cm9sZTogbWVtYmVyLnJvbGUsXG5cdFx0XHRcdGltYWdlOiB1c2VyLmltYWdlLFxuXHRcdFx0XHRpY29uOiBtZW1iZXIuaWNvbixcblx0XHRcdFx0cmVzcG9uc2liaWxpdHk6IG1lbWJlci5yZXNwb25zaWJpbGl0eSB8fCAnV2hhdCBhcmUgeW91IHJlc3BvbnNpYmxlIGZvcj8nLFxuXHRcdFx0XHRlZGl0YWJsZTogIWlzTWVudG9yKCksXG5cdFx0XHRcdHVpZDogdWlkLFxuXHRcdFx0XHRvblNhdmU6IChkYXRhKSA9PiB7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhkYXRhKTtcblx0XHRcdFx0XHRsZXQgdWlkQXV0aG9yID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRcdFx0bGV0IHVpZEVkaXQgPSBkYXRhLm1vZGVsLnVpZDtcblx0XHRcdFx0XHRkYXRhYmFzZS51cGRhdGVSb2xlKHRpZCwgdWlkQXV0aG9yLCB7XG5cdFx0XHRcdFx0XHRyb2xlOiBkYXRhLnJvbGUsXG5cdFx0XHRcdFx0XHRyZXNwb25zaWJpbGl0eTogZGF0YS5yZXNwb25zaWJpbGl0eSxcblx0XHRcdFx0XHRcdHVpZDogdWlkRWRpdFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRvbkljb25FZGl0OiAoZGF0YSkgPT4ge1xuXHRcdFx0XHRcdGxldCB1aWRBdXRob3IgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRsZXQgdWlkRWRpdCA9IGRhdGEubW9kZWwudWlkO1xuXHRcdFx0XHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdFx0XHRcdG1lc3NhZ2U6IGBDaGFuZ2UgaWNvbiBmb3IgJHtkYXRhLm1vZGVsLnJvbGV9P2AsXG5cdFx0XHRcdFx0XHR2YWx1ZTogZGF0YS5tb2RlbC5pY29uLFxuXHRcdFx0XHRcdFx0Y2FsbGJhY2s6IChpY29uVmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0ZGF0YWJhc2UudXBkYXRlUm9sZUljb24odGlkLCB1aWRBdXRob3IsIHtcblx0XHRcdFx0XHRcdFx0XHR1aWQ6IHVpZEVkaXQsXG5cdFx0XHRcdFx0XHRcdFx0aWNvbjogaWNvblZhbHVlXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHRlYW1VcGRhdGVzLmFwcGVuZENoaWxkKHRpbGUpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChpc1RlYW1UZW1wbGF0ZSkge1xuXHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdmaWVsZCcpO1xuXHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLWdyb3VwZWQnKTtcblx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy1ncm91cGVkLWNlbnRlcmVkJyk7XG5cdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuLXRvLW1lbnRvcicpO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY29udHJvbFwiPlxuXHRcdFx0XHQ8YnV0dG9uIGRhdGEtYmluZD1cImJ1dHRvbi1hZGQtcm9sZVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtdXNlclwiPjwvaT5cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4+QWRkIFJvbGU8L3NwYW4+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8YnV0dG9uIGRhdGEtYmluZD1cImJ1dHRvbi1yZW1vdmUtcm9sZVwiIGNsYXNzPVwiYnV0dG9uIGlzLWRhbmdlciBpcy1vdXRsaW5lZFwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1yZW1vdmVcIj48L2k+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuPlJlbW92ZSBSb2xlPC9zcGFuPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdGA7XG5cdFx0bGV0IGJ0bkFkZCA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWJ1dHRvbi1hZGQtcm9sZV0nKVswXTtcblx0XHRidG5BZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0bGV0IHVpZEF1dGhvciA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRcdFx0ZGF0YWJhc2UuYWRkVGVtcGxhdGVSb2xlKHRpZCwgdWlkQXV0aG9yKTtcblx0XHR9KTtcblx0XHRsZXQgYnRuUmVtb3ZlID0gZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWJpbmQ9YnV0dG9uLXJlbW92ZS1yb2xlXScpWzBdO1xuXHRcdGJ0blJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRsZXQgdmV4VGV4dCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDUgY2xhc3M9XCJ0aXRsZVwiPkVudGVyIHRoZSBOdW1iZXIgb2YgdGhlIFJvbGUgdG8gUmVtb3ZlPC9oNT5cblx0XHRcdFx0XHQ8dWw+YDtcblx0XHRcdGxldCBjb3VudGVyID0gMTtcblx0XHRcdGxldCBtYXAgPSB7fTtcblx0XHRcdGZvciAobGV0IHVpZCBpbiB0ZWFtTWVtYmVycykge1xuXHRcdFx0XHRsZXQgdXNlciA9IG1lbWJlcnNbdWlkXTtcblx0XHRcdFx0bGV0IG1lbWJlciA9IHRlYW1NZW1iZXJzW3VpZF07XG5cdFx0XHRcdGlmIChtZW1iZXIuc3RhdHVzID09PSAndGVtcGxhdGUnKSB7XG5cdFx0XHRcdFx0dmV4VGV4dCArPSBgPGxpPiR7Y291bnRlcn06ICR7bWVtYmVyLnJvbGV9PC9saT5gO1xuXHRcdFx0XHRcdG1hcFtjb3VudGVyXSA9IHVpZDtcblx0XHRcdFx0XHRjb3VudGVyKys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHZleFRleHQgKz0gYFxuXHRcdFx0XHRcdDwvdWw+XG5cdFx0XHRcdFx0PGJyPlxuXHRcdFx0XHQ8L2Rpdj5gO1xuXHRcdFx0dmV4LmRpYWxvZy5wcm9tcHQoe1xuXHRcdFx0XHR1bnNhZmVNZXNzYWdlOiB2ZXhUZXh0LFxuXHRcdFx0XHRjYWxsYmFjazogKHJlbW92ZUlkeCkgPT4ge1xuXHRcdFx0XHRcdGlmIChyZW1vdmVJZHgpIHtcblx0XHRcdFx0XHRcdGxldCBhdXRob3IgPSBkYXRhYmFzZS5nZXRDdXJyZW50VXNlcigpLnVpZDtcblx0XHRcdFx0XHRcdGxldCByaWR4ID0gcGFyc2VJbnQocmVtb3ZlSWR4LCAxMCk7XG5cdFx0XHRcdFx0XHRsZXQgdWlkUmVtb3ZlID0gbWFwW3JpZHhdO1xuXHRcdFx0XHRcdFx0aWYgKHVpZFJlbW92ZSkge1xuXHRcdFx0XHRcdFx0XHRkYXRhYmFzZS5yZW1vdmVNZW1iZXIodGlkLCBhdXRob3IsIHVpZFJlbW92ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHR0ZWFtVXBkYXRlcy5hcHBlbmRDaGlsZChkaXYpO1xuXHR9XG5cblx0bGV0IHJvbGVTYXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LXJvbGUtc2F2ZScpO1xuXHRsZXQgcm9sZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LXRpdGxlJyk7XG5cdGxldCByZXNwSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXktcmVzcG9uc2liaWxpdHknKTtcblx0aWYgKHJvbGVTYXZlICYmIHJvbGVJbnB1dCAmJiByZXNwSW5wdXQpIHtcblx0XHRyb2xlU2F2ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRyb2xlU2F2ZS5jbGFzc0xpc3QuYWRkKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRsZXQgcm9sZSA9IHJvbGVJbnB1dC5pbm5lclRleHQ7XG5cdFx0XHRsZXQgcmVzcCA9IHJlc3BJbnB1dC5pbm5lclRleHQ7XG5cdFx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRkYXRhYmFzZS51cGRhdGVSb2xlKHRpZCwgdWlkLCB7XG5cdFx0XHRcdHJvbGU6IHJvbGUsXG5cdFx0XHRcdHJlc3BvbnNpYmlsaXR5OiByZXNwXG5cdFx0XHR9KS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdHJvbGVTYXZlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWxvYWRpbmcnKTtcblx0XHRcdH0pLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0XHR9KTtcblx0fVxuXG5cdHRlYW1MaW5rcy5pbm5lckhUTUwgPSAnJztcblx0bGV0IGxpbmtNYXAgPSB0ZWFtLmxpbmtzIHx8IHt9O1xuXHRpZiAoT2JqZWN0LmtleXMobGlua01hcCkubGVuZ3RoID4gMCkge1xuXHRcdGZvciAobGV0IGxpZCBpbiBsaW5rTWFwKSB7XG5cdFx0XHRsZXQgZGF0YSA9IGxpbmtNYXBbbGlkXTtcblx0XHRcdGxldCBsaW5rID0gdmlld3MuZ2V0TGlua0l0ZW0oe1xuXHRcdFx0XHRuYW1lOiBkYXRhLm5hbWUsXG5cdFx0XHRcdHVybDogZGF0YS51cmwsXG5cdFx0XHRcdGtleTogbGlkXG5cdFx0XHR9KTtcblx0XHRcdGxpbmsuZGF0YXNldC5rZXkgPSBsaWQ7XG5cdFx0XHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0ZGF0YWJhc2UuZ2V0UHJvbWV0aGV1cygpLnNhdmUoe1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKHtcblx0XHRcdFx0XHR0eXBlOiAnQ0xJQ0tfVEVBTV9MSU5LJyxcblx0XHRcdFx0XHRrZXk6IGxpZCxcblx0XHRcdFx0XHRuYW1lOiBkYXRhLm5hbWUsXG5cdFx0XHRcdFx0dXJsOiBkYXRhLnVybFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdFx0dGVhbUxpbmtzLmFwcGVuZENoaWxkKGxpbmspO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRsZXQgbm9MaW5rcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdG5vTGlua3MuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdDxwIGNsYXNzPVwiaXMtNlwiPk5vIGxpbmtzIHlldC48L3A+XG5cdFx0XHQ8L2Rpdj5gO1xuXHRcdHRlYW1MaW5rcy5hcHBlbmRDaGlsZChub0xpbmtzKTtcblx0fVxuXG5cdGxldCBlZGl0TGlua0J0bnMgPSB0ZWFtTGlua3MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZWRpdC1saW5rJyk7XG5cdGZvciAobGV0IGIgPSAwOyBiIDwgZWRpdExpbmtCdG5zLmxlbmd0aDsgYisrKSB7XG5cdFx0ZWRpdExpbmtCdG5zW2JdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdGxldCBrZXkgPSBlZGl0TGlua0J0bnNbYl0uZGF0YXNldC5mb3I7XG5cdFx0XHRsZXQgdWlkID0gZGF0YWJhc2UuZ2V0Q3VycmVudFVzZXIoKS51aWQ7XG5cdFx0XHRpZiAoa2V5KSB7XG5cdFx0XHRcdGxldCBkYXRhID0gbGlua01hcFtrZXldO1xuXHRcdFx0XHRsZXQgdmV4V2luID0gdmV4LmRpYWxvZy5hbGVydCh7XG5cdFx0XHRcdFx0dW5zYWZlTWVzc2FnZTogYFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZpZWxkXCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImxhYmVsXCI+TmFtZTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IGlkPVwiZWRpdC1saW5rLW5hbWVcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXQgaXMtcHJpbWFyeVwiIHZhbHVlPVwiJHtkYXRhLm5hbWV9XCI+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZmllbGRcIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwibGFiZWxcIj5VUkw8L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCBpZD1cImVkaXQtbGluay11cmxcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXQgaXMtcHJpbWFyeVwiIHZhbHVlPVwiJHtkYXRhLnVybH1cIj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRgLFxuXHRcdFx0XHRcdGJ1dHRvbnM6IFtcblx0XHRcdFx0XHRcdCQuZXh0ZW5kKHt9LCB2ZXguZGlhbG9nLmJ1dHRvbnMuWUVTLCB7dGV4dDogJ1NhdmUnfSksXG5cdFx0XHRcdFx0XHQkLmV4dGVuZCh7fSwgdmV4LmRpYWxvZy5idXR0b25zLk5PLCB7dGV4dDogJ0RlbGV0ZScsIGNsaWNrOiAoZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRkYXRhYmFzZS5yZW1vdmVMaW5rKHRpZCwgdWlkLCBrZXkpLmNhdGNoKHJlcG9ydEVycm9yVG9Vc2VyKTtcblx0XHRcdFx0XHRcdFx0dmV4V2luLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHR9fSksXG5cdFx0XHRcdFx0XHQkLmV4dGVuZCh7fSwgdmV4LmRpYWxvZy5idXR0b25zLk5PLCB7dGV4dDogJ0NhbmNlbCd9KVxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0Y2FsbGJhY2s6IChzYXZlKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoc2F2ZSkge1xuXHRcdFx0XHRcdFx0XHRsZXQgbmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtbGluay1uYW1lJyk7XG5cdFx0XHRcdFx0XHRcdGxldCB1cmxJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWxpbmstdXJsJyk7XG5cdFx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2cobmFtZUlucHV0LnZhbHVlLCB1cmxJbnB1dC52YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChuYW1lSW5wdXQudmFsdWUgJiYgdXJsSW5wdXQudmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRkYXRhYmFzZS51cGRhdGVMaW5rKHRpZCwgdWlkLCBrZXksIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IG5hbWVJbnB1dC52YWx1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdHVybDogdXJsSW5wdXQudmFsdWVcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChyZXBvcnRFcnJvclRvVXNlcik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cdH1cblxufVxuXG5mdW5jdGlvbiBjaGVja1VzZXJQZXJtaXNzaW9uKHRpZCwgdGVhbSwgbWVtYmVycykge1xuXHQvKnJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cblx0fSk7Ki9cblxuXHRpZiAoaXNNZW50b3IoKSkge1xuXHRcdGNvbnNvbGUubG9nKCdpbiBtZW50b3IgbW9kZScpXG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdtZW50b3JpbmcnKTtcblx0XHRsZXQgZWRpdGFibGVOb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjb250ZW50ZWRpdGFibGU9dHJ1ZV0nKVxuXHRcdGZvciAobGV0IG4gPSAwOyBuIDwgZWRpdGFibGVOb2Rlcy5sZW5ndGg7IG4rKykge1xuXHRcdFx0ZWRpdGFibGVOb2Rlc1tuXS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTtcblx0XHR9XG5cdH0gXG5cblx0bGV0IHVpZCA9IGRhdGFiYXNlLmdldEN1cnJlbnRVc2VyKCkudWlkO1xuXHRpZiAodWlkIGluIG1lbWJlcnMgfHwgaXNNZW50b3IoKSkge1xuXHRcdGlmIChPYmplY3Qua2V5cyh0ZWFtKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRyZW5kZXJUZWFtQ2hhcnRlcih0aWQsIHRlYW0sIG1lbWJlcnMpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChwYXJhbXMuY29kZSkge1xuXHRcdHZleC5kaWFsb2cuY29uZmlybSh7XG5cdFx0XHRtZXNzYWdlOiBgRG8geW91IHdhbnQgdG8gam9pbiAke3RlYW0ubmFtZSB8fCAndGhpcyB0ZWFtJ30/YCxcblx0XHRcdGJ1dHRvbnM6IFtcblx0XHRcdFx0JC5leHRlbmQoe30sIHZleC5kaWFsb2cuYnV0dG9ucy5ZRVMsIHt0ZXh0OiAnWWVzJ30pLFxuXHRcdFx0XHQkLmV4dGVuZCh7fSwgdmV4LmRpYWxvZy5idXR0b25zLk5PLCB7dGV4dDogJ05vJ30pXG5cdFx0XHRdLFxuXHRcdFx0Y2FsbGJhY2s6ICh5ZXMpID0+IHtcblx0XHRcdFx0aWYgKHllcykge1xuXHRcdFx0XHRcdGRhdGFiYXNlLmpvaW5UZWFtKHRpZCwgdWlkLCBwYXJhbXMuY29kZSkudGhlbigocmVzKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRcdFx0dmV4LmRpYWxvZy5hbGVydCh7XG5cdFx0XHRcdFx0XHRcdFx0bWVzc2FnZTogYENvbmdyYXR1bGF0aW9ucywgeW91IGp1c3Qgam9pbmVkICR7dGVhbS5uYW1lIHx8ICd5b3VyIG5ldyB0ZWFtJ30hYFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHRlYW0pLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdFx0XHRyZW5kZXJUZWFtQ2hhcnRlcih0aWQsIHRlYW0sIG1lbWJlcnMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9tZS5odG1sJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9tZS5odG1sJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL21lLmh0bWwnO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGlzTWVudG9yKCkge1xuXHRyZXR1cm4gTUVOVE9SX01PREU7XG59XG5cbmZ1bmN0aW9uIHJlcG9ydEVycm9yVG9Vc2VyKGVycikge1xuXHR2ZXguZGlhbG9nLmFsZXJ0KGVyciArICcnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbXMocXMpIHtcblx0cXMgPSBxcy5zcGxpdCgnKycpLmpvaW4oJyAnKTtcblx0dmFyIHBhcmFtcyA9IHt9LFxuXHRcdHRva2Vucyxcblx0XHRyZSA9IC9bPyZdPyhbXj1dKyk9KFteJl0qKS9nO1xuXHR3aGlsZSAodG9rZW5zID0gcmUuZXhlYyhxcykpIHtcblx0XHRwYXJhbXNbZGVjb2RlVVJJQ29tcG9uZW50KHRva2Vuc1sxXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHRva2Vuc1syXSk7XG5cdH1cblx0cmV0dXJuIHBhcmFtcztcbn1cblxuZnVuY3Rpb24gZmlsbFRleHQoY2xhc3NOYW1lLCB0ZXh0KSB7XG5cdGxldCBzcGFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKTtcblx0Zm9yIChsZXQgcyA9IDA7IHMgPCBzcGFucy5sZW5ndGg7IHMrKykge1xuXHRcdHNwYW5zW3NdLmlubmVyVGV4dCA9IHRleHQ7XG5cdH1cbn1cblxuZnVuY3Rpb24gZmlsbFNyYyhjbGFzc05hbWUsIHRleHQpIHtcblx0bGV0IHNwYW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO1xuXHRmb3IgKGxldCBzID0gMDsgcyA8IHNwYW5zLmxlbmd0aDsgcysrKSB7XG5cdFx0c3BhbnNbc10uc3JjID0gdGV4dDtcblx0fVxufVxuXG5mdW5jdGlvbiBvblRhYkNsaWNrKHRhYkdyb3VwLCB0YWIpIHtcblx0bGV0IHRhYmlkID0gdGFiLmRhdGFzZXQudGFiO1xuXHRsZXQgc2hvd1RhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmlkKTtcblx0aWYgKHNob3dUYWIpIHtcblx0XHRkYXRhYmFzZS5nZXRQcm9tZXRoZXVzKCkuc2F2ZSh7XG5cdFx0XHR0eXBlOiAnQ0hBTkdFX1RBQicsXG5cdFx0XHR0aWQ6IFRFQU1fSUQsXG5cdFx0XHR0YWI6IHRhYmlkXG5cdFx0fSk7XG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCB0YWJHcm91cC5sZW5ndGg7IGorKykge1xuXHRcdFx0dGFiR3JvdXBbal0uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG5cdFx0fVxuXHRcdGxldCBvdGhlclRhYnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0YWJiZWQtY29udGFpbmVyJyk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBvdGhlclRhYnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdG90aGVyVGFic1tpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdH1cblx0XHRzaG93VGFiLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHRcdHRhYi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcblx0fVxuXG59XG5cbmxldCBjYW5jZWxzID0gMDtcbmZ1bmN0aW9uIGluaXRXaXRoVGVhbUNvZGUoY2FsbGJhY2spIHtcblx0aWYgKFRFQU1fSUQpIHtcblx0XHRjYWxsYmFjayhURUFNX0lEKTtcblx0fSBlbHNlIHtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiAnRW50ZXIgeW91ciB0ZWFtIGNvZGU6Jyxcblx0XHRcdGNhbGxiYWNrOiAoY29kZSkgPT4ge1xuXHRcdFx0XHRpZiAoY29kZSkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKGNvZGUpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNhbmNlbHMgPj0gMSkge1xuXHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbiA9ICcuLyc7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2FuY2VscysrO1xuXHRcdFx0XHRcdGluaXRXaXRoVGVhbUNvZGUoY2FsbGJhY2spO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuIiwibGV0IFZpZXdzID0gKCkgPT4ge1xuXG5cdGxldCB2aWV3cyA9IHtcblxuXHRcdGdldFJvbGVBbmRVcGRhdGVUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBwb3N0ZWQgPSBuZXcgRGF0ZShtb2RlbC50aW1lc3RhbXApO1xuXHRcdFx0bGV0IGRhdGVGb3JtYXQgPSBtb21lbnQocG9zdGVkKS5mb3JtYXQoJ00vRCBoOm1tIEEnKTtcblx0XHRcdGxldCBkaWZmID0gbW9tZW50KERhdGUubm93KCkpLmRpZmYobW9tZW50KG1vZGVsLnRpbWVzdGFtcCkpO1xuXHRcdFx0bGV0IGRheXNTaW5jZUxhc3RVcGRhdGUgPSBtb21lbnQuZHVyYXRpb24oZGlmZikuYXNEYXlzKCk7XG5cdFx0XHRsZXQgdGFnQ2xhc3MgPSAnaXMtc3VjY2Vzcyc7XG5cdFx0XHRpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSA1KSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLWRhbmdlcic7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChkYXlzU2luY2VMYXN0VXBkYXRlID49IDMpIHtcblx0XHRcdFx0dGFnQ2xhc3MgPSAnaXMtd2FybmluZyc7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTVcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJpbWFnZSBpcy00OHg0OFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYS1jb250ZW50IGNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5uYW1lfTwvaDM+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+JHttb2RlbC5yb2xlfTwvcD5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy03XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnICR7dGFnQ2xhc3N9XCI+JHtkYXRlRm9ybWF0fTwvc3Bhbj4gJHttb2RlbC51cGRhdGV9XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRSb2xlVGlsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwucm9sZX08L2gzPlxuXHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdDwvZGl2PmA7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUpIHtcblx0XHRcdFx0ZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDMgaWQ9XCJteS10aXRsZVwiIGNsYXNzPVwidGl0bGUgaXMtNVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0XHQ8cCBpZD1cIm15LXJlc3BvbnNpYmlsaXR5XCIgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPiR7bW9kZWwucmVzcG9uc2liaWxpdHl9PC9wPlxuXHRcdFx0XHRcdDxidXR0b24gaWQ9XCJteS1yb2xlLXNhdmVcIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkIGlzLWhpZGRlbi10by1tZW50b3JcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLWVkaXRcIj48L2k+XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHQ8c3Bhbj5TYXZlIFJvbGU8L3NwYW4+XG5cdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTVcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJpbWFnZSBpcy00OHg0OFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzPVwidGl0bGUgaXMtNVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTdcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0JHtlZGl0U2VjdGlvbn1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRSb2xlVGVtcGxhdGVUaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBlZGl0U2VjdGlvbiA9IGA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy01XCI+JHttb2RlbC5yb2xlfTwvaDM+XG5cdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiPiR7bW9kZWwucmVzcG9uc2liaWxpdHl9PC9wPlxuXHRcdFx0PC9kaXY+YDtcblx0XHRcdGxldCBlZGl0QnV0dG9uID0gYGA7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUpIHtcblx0XHRcdFx0ZWRpdFNlY3Rpb24gPSBgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHQ8aDMgZGF0YS1iaW5kPVwiZmllbGQtcm9sZVwiIGNsYXNzPVwidGl0bGUgaXMtNVwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJvbGV9PC9oMz5cblx0XHRcdFx0XHQ8cCBkYXRhLWJpbmQ9XCJmaWVsZC1yZXNwb25zaWJpbGl0eVwiIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj4ke21vZGVsLnJlc3BvbnNpYmlsaXR5fTwvcD5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdFx0ZWRpdEJ1dHRvbiA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtcGFyZW50IGlzLXZlcnRpY2FsIGlzLTRcIj5cblx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtYmluZD1cImJ1dHRvbi1zYXZlXCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1oaWRkZW4tdG8tbWVudG9yXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4+U2F2ZSBSb2xlPC9zcGFuPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1wYXJlbnQgaXMtdmVydGljYWwge21vZGVsLmVkaXRhYmxlID8gJ2lzLTgnIDogJ2lzLTEyJ31cIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGlsZSBpcy1jaGlsZFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBkYXRhLWJpbmQ9XCJmaWVsZC1pY29uXCIgY2xhc3M9XCJpbWFnZSBpcy00OHg0OCBpY29uLWltYWdlXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLSR7bW9kZWwuaWNvbiB8fCAndXNlcid9XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdFx0XHQke2VkaXRTZWN0aW9ufVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0JHtlZGl0QnV0dG9ufVxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRpZiAobW9kZWwuZWRpdGFibGUgJiYgbW9kZWwub25TYXZlKSB7XG5cdFx0XHRcdGxldCBidXR0b24gPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1idXR0b24tc2F2ZV0nKVswXTtcblx0XHRcdFx0bGV0IHJvbGUgPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYmluZD1maWVsZC1yb2xlXScpWzBdO1xuXHRcdFx0XHRsZXQgcmVzcCA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWZpZWxkLXJlc3BvbnNpYmlsaXR5XScpWzBdO1xuXHRcdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0XHRcdG1vZGVsLm9uU2F2ZSh7XG5cdFx0XHRcdFx0XHRlOiBlLFxuXHRcdFx0XHRcdFx0bW9kZWw6IG1vZGVsLFxuXHRcdFx0XHRcdFx0cm9sZTogcm9sZS5pbm5lclRleHQsXG5cdFx0XHRcdFx0XHRyZXNwb25zaWJpbGl0eTogcmVzcC5pbm5lclRleHRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxldCBpY29uRWRpdCA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1iaW5kPWZpZWxkLWljb25dJylbMF07XG5cdFx0XHRcdGljb25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0XHRtb2RlbC5vbkljb25FZGl0KHtcblx0XHRcdFx0XHRcdGU6IGUsXG5cdFx0XHRcdFx0XHRtb2RlbDogbW9kZWxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRQcm9ncmVzc1VwZGF0ZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgcG9zdGVkID0gbmV3IERhdGUobW9kZWwudGltZXN0YW1wKTtcblx0XHRcdGxldCBkYXRlRm9ybWF0ID0gbW9tZW50KHBvc3RlZCkuZm9ybWF0KCdNL0QgaDptbSBBJyk7XG5cdFx0XHRsZXQgZGlmZiA9IG1vbWVudChEYXRlLm5vdygpKS5kaWZmKG1vbWVudChtb2RlbC50aW1lc3RhbXApKTtcblx0XHRcdGxldCBkYXlzU2luY2VMYXN0VXBkYXRlID0gbW9tZW50LmR1cmF0aW9uKGRpZmYpLmFzRGF5cygpO1xuXHRcdFx0bGV0IHRhZ0NsYXNzID0gJ2lzLXN1Y2Nlc3MnO1xuXHRcdFx0aWYgKGRheXNTaW5jZUxhc3RVcGRhdGUgPj0gNSkge1xuXHRcdFx0XHR0YWdDbGFzcyA9ICdpcy1kYW5nZXInO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZGF5c1NpbmNlTGFzdFVwZGF0ZSA+PSAzKSB7XG5cdFx0XHRcdHRhZ0NsYXNzID0gJ2lzLXdhcm5pbmcnO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy01XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFncyBoYXMtYWRkb25zXCI+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnICR7dGFnQ2xhc3N9IGlzLW1lZGl1bVwiPiR7ZGF0ZUZvcm1hdH08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnIGlzLW1lZGl1bVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaW1hZ2UgaW1hZ2UtdGFnLXJvdW5kZWQgaXMtMzJ4MzJcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHttb2RlbC5pbWFnZX1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpcy1tZWRpdW1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdCR7bW9kZWwubmFtZX1cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXBhcmVudCBpcy12ZXJ0aWNhbCBpcy03XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgaXMtY2hpbGRcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdCR7bW9kZWwudXBkYXRlfVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0TGlua0l0ZW06IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGljb24gPSAnZmlsZSc7XG5cdFx0XHRpZiAobW9kZWwudXJsLmluZGV4T2YoJ2RvY3MuZ29vZ2xlJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ2dvb2dsZSc7XG5cdFx0XHR9IGVsc2UgaWYgKG1vZGVsLnVybC5pbmRleE9mKCdvbW5pcG9pbnRtZW50LmNvbS9tZWV0aW5nJykgPiAtMSkge1xuXHRcdFx0XHRpY29uID0gJ2NhbGVuZGFyJztcblx0XHRcdH1cblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHttb2RlbC51cmx9XCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLSR7aWNvbn1cIj48L2k+XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDxzcGFuPiR7bW9kZWwubmFtZX08L3NwYW4+XG5cdFx0XHRcdDwvYT5cblx0XHRcdFx0PGEgY2xhc3M9XCJpcy1kYW5nZXIgaXMtaGlkZGVuLXRvLW1lbnRvclwiPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvbiBlZGl0LWxpbmtcIiBkYXRhLWZvcj1cIiR7bW9kZWwua2V5fVwiPlxuXHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1lZGl0XCI+PC9pPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0PC9hPlxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RlYW0tbGluaycpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiBkaXY7XG5cdFx0fSxcblxuXHRcdGdldFRlYW1UaWxlOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuXHRcdFx0bGV0IGxpbmsgPSBgJHtvcmlnaW59L2NoYXJ0ZXIuaHRtbD90ZWFtPSR7bW9kZWwudGlkfWA7XG5cdFx0XHRsZXQgdGFnID0gYDxzcGFuIGNsYXNzPVwidGFnIGlzLXdhcm5pbmdcIj5UZW1wbGF0ZTwvc3Bhbj5gO1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXZlcnRpY2FsXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveFwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGVcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZVwiPiR7bW9kZWwubmFtZX0gJHttb2RlbC5pc1RlbXBsYXRlID8gdGFnIDogJyd9PC9oMz5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlXCI+XG5cdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgVGVhbSBDaGFydGVyPC9hPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PmA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdjb2x1bW4nKTtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2lzLTQnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRDbGFzc1RpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG5cdFx0XHRsZXQgY2xhc3NMaW5rID0gYCR7b3JpZ2lufS9jbGFzcy5odG1sP2NsYXNzPSR7bW9kZWwuY2lkfWA7XG5cdFx0XHRsZXQgbGlzdCA9IE9iamVjdC5rZXlzKG1vZGVsLnRlYW1zKS5maWx0ZXIoKHRpZCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LmtleXMobW9kZWwudGVhbXNbdGlkXSkubGVuZ3RoID4gMDtcblx0XHRcdH0pLm1hcCgodGlkKSA9PiB7XG5cdFx0XHRcdGxldCB0ZWFtID0gbW9kZWwudGVhbXNbdGlkXTtcblx0XHRcdFx0dGVhbS50aWQgPSB0aWQ7XG5cdFx0XHRcdHJldHVybiB0ZWFtO1xuXHRcdFx0fSk7XG5cdFx0XHRsZXQgbiA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0bGV0IGl0ZW1zID0gbGlzdC5tYXAoKHRlYW0pID0+IHtcblx0XHRcdFx0bGV0IHRlYW1MaW5rID0gYCR7b3JpZ2lufS9jaGFydGVyLmh0bWw/dGVhbT0ke3RlYW0udGlkfSZtZW50b3I9dHJ1ZWA7XG5cdFx0XHRcdGxldCBpdGVtSFRNTCA9IGBcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTRcIj5cblx0XHRcdFx0XHRcdDxhIGhyZWY9JHt0ZWFtTGlua30gY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCBpcy1mdWxsd2lkdGhcIj4ke3RlYW0ubmFtZX08L2E+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cdFx0XHRcdHJldHVybiBpdGVtSFRNTDtcblx0XHRcdH0pO1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLXZlcnRpY2FsXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRpbGUgYm94IGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZVwiPiR7bW9kZWwubmFtZX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlXCI+JHtufSB0ZWFtJHtuID09PSAxID8gJycgOiAncyd9IHwgQ29kZTogJHttb2RlbC5jaWR9PC9wPlxuXHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiJHtjbGFzc0xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgQ2xhc3MgRGFzaGJvYXJkPC9hPlxuXHRcdFx0YDtcblx0XHRcdFx0XHRcdFx0Lyo8ZGl2IGNsYXNzPVwiY29sdW1ucyBpcy1tdWx0aWxpbmVcIj5cblx0XHRcdFx0XHRcdFx0XHQke2l0ZW1zLmpvaW4oJycpfVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj4qL1xuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+YDtcblx0XHRcdFx0Ly88YSBocmVmPVwiJHtsaW5rfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5WaWV3IENsYXNzIFByb2dyZXNzPC9hPlxuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1uJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy00Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0VXNlclRpbGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aWxlIGlzLWNoaWxkXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0XHQ8ZmlndXJlIGNsYXNzPVwibWVkaWEtbGVmdFwiPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImltYWdlIGlzLTQ4eDQ4IGltYWdlLXRhZy1yb3VuZGVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCIke21vZGVsLmltYWdlfVwiPlxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTVcIj4ke21vZGVsLm5hbWV9PC9oMz5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+JHttb2RlbC5zdWJ0aXRsZX08L3A+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgnY29sdW1uJyk7XG5cdFx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdpcy00Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Q2xhc3NUZWFtVGFibGU6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHQ8dGg+VGVhbSBOYW1lPC90aD5cblx0XHRcdFx0XHRcdDx0aD5NZW1iZXJzPC90aD5cblx0XHRcdFx0XHRcdDx0aD5DaGFydGVyIEVkaXRzPC90aD5cblx0XHRcdFx0XHRcdDx0aD5Qcm9ncmVzcyBVcGRhdGVzPC90aD5cblx0XHRcdFx0XHRcdDx0aD5MYXN0IEFjdGl2ZTwvdGg+XG5cdFx0XHRcdFx0XHQ8dGg+VmlldyBUZWFtPC90aD5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHQ8dGJvZHk+XG5cdFx0XHRgO1xuXHRcdFx0bW9kZWwudGVhbXMuZm9yRWFjaCgodGVhbSkgPT4ge1xuXHRcdFx0XHRsZXQgdXBkYXRlcyA9IDA7XG5cdFx0XHRcdGZvciAobGV0IHVpZCBpbiB0ZWFtLnVwZGF0ZXMpIHtcblx0XHRcdFx0XHRmb3IgKGxldCB1cGlkIGluIHRlYW0udXBkYXRlc1t1aWRdKSB7XG5cdFx0XHRcdFx0XHR1cGRhdGVzKys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGxldCBsaW5rID0gYCR7b3JpZ2lufS9jaGFydGVyLmh0bWw/dGVhbT0ke3RlYW0udGlkfSZtZW50b3I9dHJ1ZWA7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdDx0ZD4ke3RlYW0ubmFtZX08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7T2JqZWN0LmtleXModGVhbS5tZW1iZXJzKS5sZW5ndGh9PC90ZD5cblx0XHRcdFx0XHRcdDx0ZD4ke09iamVjdC5rZXlzKHRlYW0uZWRpdHMpLmxlbmd0aH08L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7dXBkYXRlc308L3RkPlxuXHRcdFx0XHRcdFx0PHRkPiR7bW9tZW50KHRlYW0ubGFzdEFjY2VzcykuZnJvbU5vdygpfTwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQ+XG5cdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIke2xpbmt9XCIgY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZFwiPlZpZXcgQ2hhcnRlcjwvYT5cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0YDtcblx0XHRcdH0pO1xuXHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgndGFibGUnKTtcblx0XHRcdFx0dGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtbmFycm93Jyk7XG5cdFx0XHRcdHRhYmxlLmNsYXNzTGlzdC5hZGQoJ2lzLWZ1bGx3aWR0aCcpO1xuXHRcdFx0XHR0YWJsZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIHRhYmxlO1xuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHZpZXdzO1xuXG59XG5cbmV4cG9ydCB7Vmlld3N9OyJdfQ==\n"]}